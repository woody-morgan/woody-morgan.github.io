<!DOCTYPE html><html lang="en" class="scroll-smooth"><head><link rel="apple-touch-icon" sizes="76x76" href="/static/favicons/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/static/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/static/favicons/favicon-16x16.png"/><link rel="manifest" href="/static/favicons/site.webmanifest"/><link rel="mask-icon" href="/static/favicons/safari-pinned-tab.svg" color="#5bbad5"/><meta name="msapplication-TileColor" content="#000000"/><meta name="theme-color" content="#000000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"/><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');if("system"===e||(!e&&true)){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else if(e) d.add(e)}catch(e){}}()</script><meta content="width=device-width, initial-scale=1" name="viewport"/><title>[번역] Relay - Graphql Connections &amp; Pagination</title><meta name="robots" content="follow, index"/><meta name="description" content="Relay 문서의 Graphql Connections &amp; Pagination 항목 번역"/><meta property="og:url" content="https://woody-morgan.github.io//blog/backend/graphql-connections-n-pagination"/><meta property="og:type" content="article"/><meta property="og:site_name" content="woody-morgan.github.io"/><meta property="og:description" content="Relay 문서의 Graphql Connections &amp; Pagination 항목 번역"/><meta property="og:title" content="[번역] Relay - Graphql Connections &amp; Pagination"/><meta property="og:image" content="https://woody-morgan.github.io//static/images/avatar.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site"/><meta name="twitter:title" content="[번역] Relay - Graphql Connections &amp; Pagination"/><meta name="twitter:description" content="Relay 문서의 Graphql Connections &amp; Pagination 항목 번역"/><meta name="twitter:image" content="https://woody-morgan.github.io//static/images/avatar.png"/><meta property="article:published_time" content="2023-01-26T00:00:00.000Z"/><link rel="canonical" href="https://woody-morgan.github.io//blog/backend/graphql-connections-n-pagination"/><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "Article",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://woody-morgan.github.io//blog/backend/graphql-connections-n-pagination"
  },
  "headline": "[번역] Relay - Graphql Connections & Pagination",
  "image": [
    {
      "@type": "ImageObject",
      "url": "https://woody-morgan.github.io//static/images/avatar.png"
    }
  ],
  "datePublished": "2023-01-26T00:00:00.000Z",
  "dateModified": "2023-01-26T00:00:00.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "Kim, Dong-Wook"
    }
  ],
  "publisher": {
    "@type": "Organization",
    "name": "woody morgan",
    "logo": {
      "@type": "ImageObject",
      "url": "https://woody-morgan.github.io//static/images/logo.png"
    }
  },
  "description": "Relay 문서의 Graphql Connections & Pagination 항목 번역"
}</script><meta name="next-head-count" content="20"/><link rel="preload" href="/_next/static/css/35c5c6636e0e5fd1.css" as="style"/><link rel="stylesheet" href="/_next/static/css/35c5c6636e0e5fd1.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-7b5e3b538b1441e1.js" defer=""></script><script src="/_next/static/chunks/main-63e2e8f7580e9625.js" defer=""></script><script src="/_next/static/chunks/pages/_app-565e4f5351bb39dd.js" defer=""></script><script src="/_next/static/chunks/860-5d67c27e6b591244.js" defer=""></script><script src="/_next/static/chunks/800-b0aa0e93ac41918c.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5B...slug%5D-f0fe9f9fb583fc8f.js" defer=""></script><script src="/_next/static/TVO3Lgkr23w8dbV9TCWmC/_buildManifest.js" defer=""></script><script src="/_next/static/TVO3Lgkr23w8dbV9TCWmC/_ssgManifest.js" defer=""></script><script src="/_next/static/TVO3Lgkr23w8dbV9TCWmC/_middlewareManifest.js" defer=""></script></head><body class="bg-white text-black antialiased dark:bg-gray-900 dark:text-white"><div id="__next" data-reactroot=""><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="flex h-screen flex-col justify-between"><header class="flex items-center justify-between py-10"><div><a aria-label="Woody Morgan" href="/"><div class="flex items-center justify-between"><div class="mr-3"><svg xmlns="http://www.w3.org/2000/svg" class="flex text-gray-900 dark:text-gray-100" viewBox="0 0 128 128" width="48" height="48" fill="currentColor"><g transform="translate(0.000000,132.000000) scale(0.100000,-0.100000)"><path d="M523 1126 c-181 -44 -334 -202 -372 -384 -35 -166 15 -330 138 -453 199 -199 503 -199 702 0 199 199 199 503 0 702 -126 126 -299 176 -468 135z m259 -57 c191 -64 308 -227 308 -429 0 -256 -194 -450 -450 -450 -256 0 -450 194 -450 450 0 200 116 364 305 429 82 28 204 28 287 0z"></path><path d="M533 1006 c-104 -34 -194 -114 -241 -214 -23 -49 -27 -70 -27 -152 0 -87 3 -101 32 -161 39 -80 111 -150 191 -187 49 -23 70 -27 152 -27 87 0 101 3 161 32 80 39 150 111 187 191 23 49 27 70 27 152 0 82 -4 103 -27 152 -37 79 -108 152 -185 190 -54 26 -79 32 -146 35 -51 2 -98 -2 -124 -11z m89 -93 c2 -44 7 -58 18 -58 11 0 16 14 18 58 3 53 5 57 27 57 53 0 136 -42 190 -95 53 -54 95 -137 95 -190 0 -22 -4 -24 -57 -27 -44 -2 -58 -7 -58 -18 0 -11 14 -16 58 -18 53 -3 57 -5 57 -27 0 -53 -42 -136 -95 -190 -54 -53 -137 -95 -190 -95 -22 0 -24 4 -27 58 -2 43 -7 57 -18 57 -11 0 -16 -14 -18 -57 -3 -54 -5 -58 -27 -58 -53 0 -136 42 -190 95 -53 54 -95 137 -95 190 0 22 4 24 58 27 43 2 57 7 57 18 0 11 -14 16 -57 18 -54 3 -58 5 -58 27 0 13 9 50 21 80 38 103 166 203 261 204 26 1 27 -1 30 -56z"></path><path d="M664 839 c-8 -13 12 -32 64 -61 17 -9 42 -35 57 -58 26 -42 47 -48 53 -16 11 57 -146 180 -174 135z"></path><path d="M513 754 c-3 -9 5 -26 21 -43 19 -20 26 -38 26 -67 0 -54 31 -84 86 -84 33 0 46 -7 74 -35 37 -38 70 -46 70 -17 0 10 -16 33 -35 52 -29 28 -35 41 -35 75 0 55 -31 85 -86 85 -30 0 -47 6 -64 25 -27 29 -48 32 -57 9z m157 -89 c26 -32 -13 -81 -47 -59 -35 22 -23 74 17 74 10 0 23 -7 30 -15z"></path></g></svg></div><div class="hidden h-6 text-2xl font-semibold sm:block">Woody Morgan</div></div></a></div><div class="flex items-center text-base leading-5"><div class="hidden sm:block"><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/blog">Blog</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/tags">Tags</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/projects">Projects</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/about">About</a></div><button aria-label="Toggle Dark Mode" type="button" class="ml-1 mr-1 h-8 w-8 rounded p-1 sm:ml-4"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100" opacity="0"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg></button><div class="sm:hidden"><button type="button" class="ml-1 mr-1 h-8 w-8 rounded py-1" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg></button><div class="fixed top-24 right-0 z-[1000] h-full w-full transform bg-gray-200 opacity-95 duration-300 ease-in-out dark:bg-gray-800 translate-x-full"><button type="button" aria-label="toggle modal" class="fixed h-full w-full cursor-auto focus:outline-none"></button><nav class="fixed mt-8 h-full"><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/blog">Blog</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/tags">Tags</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/projects">Projects</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/about">About</a></div></nav></div></div></div></header><main class="mb-auto"><div style="opacity:1"><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><article><div class="xl:divide-y xl:divide-gray-200 xl:dark:divide-gray-700"><header class="pt-6 xl:pb-6"><div class="space-y-1 text-center"><dl class="space-y-10"><div><dt class="sr-only">Published on</dt><dd class="text-base font-medium leading-6 text-gray-500 dark:text-gray-400"><time dateTime="2023-01-26T00:00:00.000Z">2023년 1월 26일 목요일</time></dd></div></dl><div><h1 class="text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14">[번역] Relay - Graphql Connections &amp; Pagination</h1></div></div></header><div class="divide-y divide-gray-200 pb-8 dark:divide-gray-700 xl:grid xl:grid-cols-4 xl:gap-x-6 xl:divide-y-0" style="grid-template-rows:auto 1fr"><dl class="pt-6 pb-10 xl:border-b xl:border-gray-200 xl:pt-11 xl:dark:border-gray-700"><dt class="sr-only">Authors</dt><dd><ul class="flex justify-center space-x-8 sm:space-x-12 xl:block xl:space-x-0 xl:space-y-8"><li class="flex items-center space-x-2"><img src="/static/images/avatar.png" width="38px" height="38px" alt="avatar" class="h-10 w-10 rounded-full"/><dl class="whitespace-nowrap text-sm font-medium leading-5"><dt class="sr-only">Name</dt><dd class="text-gray-900 dark:text-gray-100">Kim, Dong-Wook</dd><dt class="sr-only">Twitter</dt><dd></dd></dl></li></ul></dd></dl><div class="divide-y divide-gray-200 dark:divide-gray-700 xl:col-span-3 xl:row-span-2 xl:pb-0"><div class="prose max-w-none pt-10 pb-8 dark:prose-dark"><h2 id="graphql-connections--pagination"><a href="#graphql-connections--pagination" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><a target="_blank" rel="noopener noreferrer" href="https://relay.dev/docs/tutorial/connections-pagination/">GraphQL Connections &amp; Pagination</a></h2><p>이번 섹션에서는, 페이지 목록 및 무한 스크롤을 포함하여 여러 항목의 컬렉션을 처리하는 방법에 대해 알아볼 것 입니다. Relay에서, Connection이라 알려진 추상화된 방법을 사용해서 페이지 목록과 무한 스크롤을 구현합니다.</p><p>Relay는 페이지네이션된 아이템 목록을 다루기 위해서 다양한 작업을 합니다. 하지만 해당 작업을 하기 위해서, schema에서 특정한 컨벤션을 따라야 합니다. 이 컨벤션은 강력하고 유연하며, 아이템 목록을 다루는 많은 제품들을 만들면서 나온 경험을 바탕으로 만들어졌습니다.</p><p>이해하기 위해서 3가지의 중요한 개념을 알아야 합니다.</p><ul><li>Edge들은 그 자체만으로 Property을 가지고 있습니다 - 예를 들면, 친구들의 목록에서, 어떤 사람과 친구가 되었을 때의 날짜는 당신과 edge 사이에 Property이 됩니다. 우리는 edge들을 표현하는 node들을 만듬으로써, 이것들을 다루고 있습니다.</li><li>list 그 자체도 Property을 가지고 있습니다. 예를 들면 다음 페이지가 있는지 없는지 같은 것들 입니다. 현재 페이지 뿐만 아니라 리스트 그 자체를 표현하는 node를 통해 이것들을 다루고 있습니다.</li><li>Pagination은 cursor를 통해 작동합니다 - 해당 심볼은 다음 페이지를 가르키는 불투명한 값입니다(offset이 아닙니다)</li></ul><p>만약 유저의 친구들 목록을 보여주고 싶다고 가정해봅시다. 아래 사진과 같은 모습으로 생각해볼 수 있을 것입니다.</p><p><img alt="concept graph" src="https://relay.dev/assets/images/connections-conceptual-graph-a88c591f79c81af5d67b28122e17c581.png"/></p><p>GraphQL로 해당 상황을 모델링 해봅시다</p><p>Graphql에서, Edge가 아닌 노드들만 Property을 가질 수 있습니다. 그래서 아래와 같이 개념적인 edge들을 표현할 것 입니다.</p><p><img alt="concept graph with edge" src="https://relay.dev/assets/images/connections-edge-nodes-63a89a1f08749046137894e4b24774cc.png"/></p><p>이제 edge들의 propertyemfdms &quot;FriendsEdge&quot;라고 불리는 새로운 타입의 노드로 표현됩니다</p><p>GraphQL을 통한 query는 아래와 같은 형태로 표현될 것 입니다.</p><div class="relative"><pre><code class="language-graphql code-highlight"><span class="code-line">
</span><span class="code-line">// <span class="token constant">XXX</span> <span class="token property">example</span> <span class="token property">only</span><span class="token punctuation">,</span> <span class="token property">not</span> <span class="token property">final</span> <span class="token property">code</span>
</span><span class="code-line"><span class="token keyword">fragment</span> <span class="token function fragment">FriendsFragment1</span> <span class="token keyword">on</span> <span class="token class-name">Viewer</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token object">friends</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property">since</span> // <span class="token property">a</span> <span class="token property">property</span> <span class="token property">of</span> <span class="token property">the</span> <span class="token property">edge</span>
</span><span class="code-line">    <span class="token object">node</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token property">name</span> // <span class="token property">a</span> <span class="token property">property</span> <span class="token property">of</span> <span class="token property">the</span> <span class="token property">friend</span> <span class="token property">itself</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span></code></pre></div><p>이제, GraphQL 스키마에서 Edge가 생성된 날짜와 같은 특정 정보를 넣을 수 있습니다.</p><p>이제, 우리의 schema에서 pagination과 무한 스크롤을 지원하기 위해서 무엇을 모델링 해야할지 생각해봅시다</p><ul><li>클라이언트는 원하는 page의 사이즈를 명시할 수 있어야합니다.</li><li>클라이언트는 더 남은 페이지가 있는지 알 수 있어야합니다.</li><li>클라이언트는 한 번 페이지를 요청한 이후에도 다음 페이지를 요청할 수 있어야합니다.</li></ul><p>GraphQL에서 어떻게 해당 기능을 구현할 수 있을까요? field argument를 통해 페이지 크기를 명시할 수 있습니다.</p><p>서버가 다음 페이지가 있는지 없는지 알려줄 수 있도록 하기 위해서, 친구 목록 그 자체에 대해서 알고 있는 graph 안에 node를 도입해야합니다. 이 새로운 node를 Connection이라고 부릅니다</p><p>Connection node는 당신과 당신 친구들 사이에 연결관계를 나타냅니다. Connection에 대한 메타데이터는 그곳에 저장되어 있습니다. 예를 들면, totalCount 필드에는 얼마나 많은 친구들이 있는지 알려줍니다. 게다가, 현재 페이지를 나타내는 두 필드가 있습니다: pageInfo 필드는 현재 페이지에 대한 메타데이터를 가지고 있습니다. 그리고 edges 필드는 이전에 봤던 edge들의 지점에 대한 정보를 가지고 있습니다.</p><p><img alt="Connection" src="https://relay.dev/assets/images/connections-full-model-13e2ea59a6271992070d77ae4ae5e9b6.png"/></p><p>마침내, 우리는 다음 페이지에 대한 결과를 요청할 방법이 필요합니다. 위 다이어그램을 보면, PageInfo 노드에 lastCursor라고 불리는 필드가 있음을 확인할 수 있습니다. 이것은 마지막으로 주어진 edge에 대한 위치를 표현해주는 토큰입니다. 우리는 해당 커서를 서버에 전달하고, 서버는 해당 커서 이후의 친구 목록을 반환해줍니다.</p><p>lastCursor를 넘겨줌으로써, 서버는 어떤 친구 목록을 반환해야할지 알 수 있습니다.</p><p><img alt="Connection with lastCursor" src="https://relay.dev/assets/images/connections-full-model-next-page-88f27142830f48b2f0184ebcd0e9ad8d.png"/></p><p><a target="_blank" rel="noopener noreferrer" href="https://relay.dev/graphql/connections.htm">GraphQL Cursor Connections Spec</a>파일에 paginated list를 위한 schema 모델링 방법에 대한 자세한 내용이 있습니다. 이 방법은 다양한 어플리케이션에서 유연하게 작동합니다, 그리고 Relay가 해당 컨벤션을 이용해서 pagination을 구현하지만, Relay를 사용하지 않더라도 해당 컨벤션을 사용할 수 있습니다.</p><p>이제 Connection을 위한 기저에 깔린 모델링을 알아봤으니, 이제 뉴스 피드 스토리 목록을 구현해봅시다.</p><h2 id="load-more-comments-기능-구현"><a href="#load-more-comments-기능-구현" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>&quot;Load More Comments&quot; 기능 구현</h2><p>Story 컴포넌트를 다시 한 번 봅시다. Story 컴포넌트 아래에 StoryCommentsSection 컴포넌트가 있습니다</p><div class="relative"><pre><code class="language-tsx code-highlight"><span class="code-line"><span class="token keyword">import</span> <span class="token imports"><span class="token maybe-class-name">StoryCommentsSection</span></span> <span class="token keyword">from</span> <span class="token string">&#x27;./StoryCommentsSection&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">function</span> <span class="token function">Story</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> story <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token function">useFragment</span><span class="token punctuation">(</span><span class="token maybe-class-name">StoryFragment</span><span class="token punctuation">,</span> story<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Card</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Heading</span></span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>data<span class="token punctuation">.</span><span class="token property-access">title</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Heading</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">PosterByline</span></span> <span class="token attr-name">person</span><span class="token language-javascript script"><span class="token punctuation script-punctuation">=</span><span class="token punctuation">{</span>data<span class="token punctuation">.</span><span class="token property-access">poster</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Timestamp</span></span> <span class="token attr-name">time</span><span class="token language-javascript script"><span class="token punctuation script-punctuation">=</span><span class="token punctuation">{</span>data<span class="token punctuation">.</span><span class="token property-access">posted_at</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Image</span></span> <span class="token attr-name">image</span><span class="token language-javascript script"><span class="token punctuation script-punctuation">=</span><span class="token punctuation">{</span>data<span class="token punctuation">.</span><span class="token property-access">image</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">StorySummary</span></span> <span class="token attr-name">summary</span><span class="token language-javascript script"><span class="token punctuation script-punctuation">=</span><span class="token punctuation">{</span>data<span class="token punctuation">.</span><span class="token property-access">summary</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">StoryCommentsSection</span></span> <span class="token attr-name">story</span><span class="token language-javascript script"><span class="token punctuation script-punctuation">=</span><span class="token punctuation">{</span>data<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Card</span></span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">  <span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>그리고 StoryCommentsSection의 fragment를 Story의 fragment에 추가합니다.</p><div class="relative"><pre><code class="language-tsx code-highlight"><span class="code-line"><span class="token keyword">const</span> <span class="token maybe-class-name">StoryFragment</span> <span class="token operator">=</span> graphql<span class="token template-string"><span class="token string template-punctuation">`</span><span class="token language-graphql graphql">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">  <span class="token keyword">fragment</span> <span class="token function fragment">StoryFragment</span> <span class="token keyword">on</span> <span class="token class-name">Story</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">    // <span class="token operator">...</span> <span class="token function fragment">as</span> <span class="token property">before</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">    <span class="token operator">...</span><span class="token function fragment">StoryCommentsSectionFragment</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">  <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql"></span><span class="token string template-punctuation">`</span></span>
</span></code></pre></div><p>이제 각 스토리에 3개의 댓글을 확인할 수 있을 것 입니다. 몇몇 스토리들은 3개 이상의 댓글을 가지고 있고, 그렇다면 &quot;Load more&quot; 버튼이 보여질 것 입니다.</p><p><img alt="comment" src="https://relay.dev/assets/images/connections-comments-initial-screenshot-14ed0e7a93720ef62d79f7528a0f5ea8.png"/></p><p>이제 StoryCommentsSection으로 가서 한 번 봅시다</p><div class="relative"><pre><code class="language-tsx code-highlight"><span class="code-line"><span class="token keyword">const</span> <span class="token maybe-class-name">StoryCommentsSectionFragment</span> <span class="token operator">=</span> graphql<span class="token template-string"><span class="token string template-punctuation">`</span><span class="token language-graphql graphql">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">  <span class="token keyword">fragment</span> <span class="token function fragment">StoryCommentsSectionFragment</span> <span class="token keyword">on</span> <span class="token class-name">Story</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">    <span class="token property-query">comments</span><span class="token punctuation">(</span><span class="token attr-name">first</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">      <span class="token object">edges</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">        <span class="token object">node</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">          <span class="token operator">...</span><span class="token function fragment">CommentFragment</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">        <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">      <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">      <span class="token object">pageInfo</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">        <span class="token property">hasNextPage</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">      <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">    <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">  <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql"></span><span class="token string template-punctuation">`</span></span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">function</span> <span class="token function">StoryCommentsSection</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> story <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token function">useFragment</span><span class="token punctuation">(</span><span class="token maybe-class-name">StoryCommentsSectionFragment</span><span class="token punctuation">,</span> story<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token function function-variable">onLoadMore</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token comment">/* TODO */</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token punctuation">{</span>data<span class="token punctuation">.</span><span class="token property-access">comments</span><span class="token punctuation">.</span><span class="token property-access">edges</span><span class="token punctuation">.</span><span class="token function property-access method">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">commentEdge</span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> <span class="token punctuation">(</span>
</span><span class="code-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Comment</span></span> <span class="token attr-name">comment</span><span class="token language-javascript script"><span class="token punctuation script-punctuation">=</span><span class="token punctuation">{</span>commentEdge<span class="token punctuation">.</span><span class="token property-access">node</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
</span><span class="code-line">      <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token punctuation">{</span>data<span class="token punctuation">.</span><span class="token property-access">comments</span><span class="token punctuation">.</span><span class="token property-access">pageInfo</span><span class="token punctuation">.</span><span class="token property-access">hasNextPage</span> <span class="token operator">&amp;&amp;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">LoadMoreCommentsButton</span></span> <span class="token attr-name">onClick</span><span class="token language-javascript script"><span class="token punctuation script-punctuation">=</span><span class="token punctuation">{</span>onLoadMore<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">}</span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">  <span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>StoryCommentsSection에서 첫번째 3개의 댓글을 가져옵니다. comments 필드는 page size를 인자로 받으며, 각각의 comment에 대해 edge 필드가 있으며, edge 필드는 comment data를 가지고 있는 node 필드를 가지고 있습니다. 개별적인 comment들에서 데이터를 가져오기 위해 CommentFragment를 spead해줬습니다. 그리고 connection의 pageInfo 필드를 사용해서 &quot;Load More&quot; 버튼을 보여줄지 결정합니다.</p><p>이제 &quot;Loade More&quot; 버튼을 눌렀을 때 어떻게 동작할지 구현해봅시다.</p><h2 id="augmenting-the-fragment"><a href="#augmenting-the-fragment" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Augmenting the Fragment</h2><p>컴포넌트를 수정하기 전에, fragment는 3개의 extra information이 필요합니다. 첫번째로, 하드 코딩된 인자가 아닌 page size와 cursor 인자를 받을 수 있는 fragment가 필요합니다</p><div class="relative"><pre><code class="language-tsx code-highlight"><span class="code-line"><span class="token keyword">const</span> <span class="token maybe-class-name">StoryCommentsSectionFragment</span> <span class="token operator">=</span> graphql<span class="token template-string"><span class="token string template-punctuation">`</span><span class="token language-graphql graphql">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">  <span class="token keyword">fragment</span> <span class="token function fragment">StoryCommentsSectionFragment</span> <span class="token keyword">on</span> <span class="token class-name">Story</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">  <span class="token function directive">@argumentDefinitions</span><span class="token punctuation">(</span><span class="token attr-name">cursor</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token attr-name">type</span><span class="token punctuation">:</span> <span class="token string">&quot;String&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token attr-name">count</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token attr-name">type</span><span class="token punctuation">:</span> <span class="token string">&quot;Int&quot;</span><span class="token punctuation">,</span> <span class="token attr-name">defaultValue</span><span class="token punctuation">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">    <span class="token property-query">comments</span><span class="token punctuation">(</span><span class="token attr-name">after</span><span class="token punctuation">:</span> <span class="token variable">$cursor</span><span class="token punctuation">,</span> <span class="token attr-name">first</span><span class="token punctuation">:</span> <span class="token variable">$count</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">      <span class="token object">edges</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">        <span class="token object">node</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">          <span class="token operator">...</span><span class="token function fragment">CommentFragment</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">        <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">      <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">      <span class="token object">pageInfo</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">        <span class="token property">hasNextPage</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">      <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">    <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">  <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql"></span><span class="token string template-punctuation">`</span></span>
</span></code></pre></div><p>다음으로, fragment가 refetch가 가능하도록 만들어야합니다. 그래서 Relay가 인자에 맞는 새로운 값을 불러올 수 있도록 해야합니다.</p><ul><li>즉 $cursor 인자를 받도록 해야합니다.</li></ul><div class="relative"><pre><code class="language-tsx code-highlight"><span class="code-line"><span class="token keyword">const</span> <span class="token maybe-class-name">StoryCommentsSectionFragment</span> <span class="token operator">=</span> graphql<span class="token template-string"><span class="token string template-punctuation">`</span><span class="token language-graphql graphql">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">  <span class="token keyword">fragment</span> <span class="token function fragment">StoryCommentsSectionFragment</span> <span class="token keyword">on</span> <span class="token class-name">Story</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">    <span class="token function directive">@refetchable</span><span class="token punctuation">(</span><span class="token attr-name">queryName</span><span class="token punctuation">:</span> <span class="token string">&quot;StoryCommentsSectionPaginationQuery&quot;</span><span class="token punctuation">)</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">    <span class="token function directive">@argumentDefinitions</span><span class="token punctuation">(</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">    <span class="token operator">...</span> <span class="token function fragment">as</span> <span class="token property">before</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql"></span><span class="token string template-punctuation">`</span></span>
</span></code></pre></div><p>그리고 마지막으로 Relay는 fragment 안에 어떤 field가 Connection인지 표현해줘야합니다. 이를 위해 @connection 지시어를 사용합니다.</p><div class="relative"><pre><code class="language-tsx code-highlight"><span class="code-line"><span class="token keyword">const</span> <span class="token maybe-class-name">StoryCommentsSectionFragment</span> <span class="token operator">=</span> graphql<span class="token template-string"><span class="token string template-punctuation">`</span><span class="token language-graphql graphql">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">  <span class="token keyword">fragment</span> <span class="token function fragment">StoryCommentsSectionFragment</span> <span class="token keyword">on</span> <span class="token class-name">Story</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">  <span class="token function directive">@refetchable</span><span class="token punctuation">(</span><span class="token attr-name">queryName</span><span class="token punctuation">:</span> <span class="token string">&quot;StoryCommentsSectionPaginationQuery&quot;</span><span class="token punctuation">)</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">  <span class="token function directive">@argumentDefinitions</span><span class="token punctuation">(</span><span class="token attr-name">cursor</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token attr-name">type</span><span class="token punctuation">:</span> <span class="token string">&quot;String&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token attr-name">count</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token attr-name">type</span><span class="token punctuation">:</span> <span class="token string">&quot;Int&quot;</span><span class="token punctuation">,</span> <span class="token attr-name">defaultValue</span><span class="token punctuation">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">    <span class="token property-query">comments</span><span class="token punctuation">(</span><span class="token attr-name">after</span><span class="token punctuation">:</span> <span class="token variable">$cursor</span><span class="token punctuation">,</span> <span class="token attr-name">first</span><span class="token punctuation">:</span> <span class="token variable">$count</span><span class="token punctuation">)</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">      <span class="token function directive">@connection</span><span class="token punctuation">(</span><span class="token attr-name">key</span><span class="token punctuation">:</span> <span class="token string">&quot;StoryCommentsSectionFragment_comments&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">      <span class="token object">edges</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">        <span class="token object">node</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">          <span class="token operator">...</span><span class="token function fragment">CommentFragment</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">        <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">      <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">      <span class="token object">pageInfo</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">        <span class="token property">hasNextPage</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">      <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">    <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">  <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql"></span><span class="token string template-punctuation">`</span></span>
</span></code></pre></div><p>@connection 지시어는 unique 문자여야하는 key 인자를 받습니다. 이 key는 mutation을 하는 동안에 connection의 컨텐츠를 수정할때 사용됩니다.</p><h2 id="the-usepaginationfragment-hook"><a href="#the-usepaginationfragment-hook" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>The usePaginationFragment Hook</h2><p>이제 fragment를 완성했으니, Load More 버튼을 사용하도록 컴포넌트를 수정해봅시다.</p><p>StoryCommentsSection 컴포넌트 상단에 아래 두 줄의 코드를 추가합니다.</p><div class="relative"><pre><code class="language-tsx code-highlight"><span class="code-line"><span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token function">useFragment</span><span class="token punctuation">(</span><span class="token maybe-class-name">StoryCommentsSectionFragment</span><span class="token punctuation">,</span> story<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">const</span> <span class="token function function-variable">onLoadMore</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token comment">/* TODO */</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>그리고 아래와 같이 수정합니다.</p><div class="relative"><pre><code class="language-tsx code-highlight"><span class="code-line"><span class="token keyword">const</span> <span class="token punctuation">{</span> data<span class="token punctuation">,</span> loadNext <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">usePaginationFragment</span><span class="token punctuation">(</span><span class="token maybe-class-name">StoryCommentsSectionFragment</span><span class="token punctuation">,</span> story<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">const</span> <span class="token function function-variable">onLoadMore</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> <span class="token function">loadNext</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
</span></code></pre></div><p>이제 &quot;Load More&quot; 버튼을 눌렀을 때, Relay는 새로운 데이터를 불러오고, 컴포넌트를 업데이트합니다.</p><h2 id="usetransition-hook을-사용해서-로딩-과정-개선하기"><a href="#usetransition-hook을-사용해서-로딩-과정-개선하기" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>useTransition Hook을 사용해서 로딩 과정 개선하기</h2><p>Load More 버튼을 클릭하면, 새로운 댓글이 보여지기 전까지 어떠한 유저 피드백도 발생하지 않습니다. 모든 유저 엑션에 대해서 즉각적인 피드백이 있어야하기 때문에, 데이터를 로딩하는 동안에 스피너를 보여줍시다. 하지만 존재하는 UI는 숨기지 않는 방식으로 스피너를 보여줍시다.</p><div class="relative"><pre><code class="language-tsx code-highlight"><span class="code-line"><span class="token keyword">function</span> <span class="token function">StoryCommentsSection</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> story <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>isPending<span class="token punctuation">,</span> startTransition<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useTransition</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> data<span class="token punctuation">,</span> loadNext <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">usePaginationFragment</span><span class="token punctuation">(</span><span class="token maybe-class-name">StoryCommentsSectionFragment</span><span class="token punctuation">,</span> story<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token function function-variable">onLoadMore</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span>
</span><span class="code-line">    <span class="token function">startTransition</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token function">loadNext</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token punctuation">{</span>data<span class="token punctuation">.</span><span class="token property-access">comments</span><span class="token punctuation">.</span><span class="token property-access">edges</span><span class="token punctuation">.</span><span class="token function property-access method">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">commentEdge</span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> <span class="token punctuation">(</span>
</span><span class="code-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Comment</span></span> <span class="token attr-name">comment</span><span class="token language-javascript script"><span class="token punctuation script-punctuation">=</span><span class="token punctuation">{</span>commentEdge<span class="token punctuation">.</span><span class="token property-access">node</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
</span><span class="code-line">      <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token punctuation">{</span>data<span class="token punctuation">.</span><span class="token property-access">comments</span><span class="token punctuation">.</span><span class="token property-access">pageInfo</span><span class="token punctuation">.</span><span class="token property-access">hasNextPage</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
</span><span class="code-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">LoadMoreCommentsButton</span></span> <span class="token attr-name">onClick</span><span class="token language-javascript script"><span class="token punctuation script-punctuation">=</span><span class="token punctuation">{</span>onLoadMore<span class="token punctuation">}</span></span> <span class="token attr-name">disabled</span><span class="token language-javascript script"><span class="token punctuation script-punctuation">=</span><span class="token punctuation">{</span>isPending<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
</span><span class="code-line">      <span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token punctuation">{</span>isPending <span class="token operator">&amp;&amp;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">CommentsLoadingSpinner</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">}</span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">  <span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>즉각적인 결과를 불러오지 않는 유저 엑션은 React transition으로 감싸져야합니다. 이를 통해 React는 여러 업데이트들에 대해서 우선순위화를 할 수 있습니다. 예를 들면, 만약 데이터가 사용가능해졌을때 React는 새로운 댓글들을 렌더링할 것 입니다. 그리고 유저는 다른 페이지로 넘어가기 위해 다른 탭을 클릭했습니다. 이때 React는 새로운 댓글을 렌더링하지 않고, 페이지를 이동할 것 입니다.</p><h2 id="infinite-scrolling-newsfeed-stories"><a href="#infinite-scrolling-newsfeed-stories" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Infinite Scrolling Newsfeed Stories</h2><p>뉴스피드는 댓글을 더 불러오는 것과 비슷합니다. 하지만 loadNext 함수가 유저의 스크롤에 따라 자동적으로 호출된다는 점에서 다릅니다.</p><h3 id="step-1---query에서-connection-필드-선택하기"><a href="#step-1---query에서-connection-필드-선택하기" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Step 1 - Query에서 Connection 필드 선택하기</h3><p>현재 앱에서는 상단에 3개의 스토리를 불러오기 위해서, topStories의 루트 필드를 사용합니다. Schema 또한 Viewer에서 newfeedStories 필드를 제공합니다(해당 필드는 Connection 입니다). Newsfeed 컴포넌트를 수정해서 새로운 필드를 사용할 수 있도록 해봅시다. Newsfeed.tsx를 다시 한 번 봅시다. GraphQL 쿼리는 다음과 같습니다.</p><div class="relative"><pre><code class="language-tsx code-highlight"><span class="code-line"><span class="token keyword">const</span> <span class="token maybe-class-name">NewsfeedQuery</span> <span class="token operator">=</span> graphql<span class="token template-string"><span class="token string template-punctuation">`</span><span class="token language-graphql graphql">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">  <span class="token keyword">query</span> <span class="token function definition-query">NewsfeedQuery</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">    <span class="token object">topStories</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">      <span class="token property">id</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">      <span class="token operator">...</span><span class="token function fragment">StoryFragment</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">    <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">  <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql"></span><span class="token string template-punctuation">`</span></span>
</span></code></pre></div><p>해당 쿼리를 아래와 같이 바꿔봅시다</p><div class="relative"><pre><code class="language-tsx code-highlight"><span class="code-line"><span class="token keyword">const</span> <span class="token maybe-class-name">NewsfeedQuery</span> <span class="token operator">=</span> graphql<span class="token template-string"><span class="token string template-punctuation">`</span><span class="token language-graphql graphql">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">  <span class="token keyword">query</span> <span class="token function definition-query">NewsfeedQuery</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">    <span class="token object">viewer</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">      <span class="token property-query">newsfeedStories</span><span class="token punctuation">(</span><span class="token attr-name">first</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">        <span class="token object">edges</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">          <span class="token object">node</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">            <span class="token property">id</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">            <span class="token operator">...</span><span class="token function fragment">StoryFragment</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">          <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">        <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">      <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">    <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">  <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql"></span><span class="token string template-punctuation">`</span></span>
</span></code></pre></div><p>여기서 우리는 topStories를 viewer의 newsfeedStories로 교체했습니다. 그리고 처음 3개의 스토리를 불러오도록 first라는 이름의 인자를 추가했습니다. 그 안에서 우리는 edge를 선택하고 또한 node를 선택했습니다. 그리고 이전과 같이 그 안에서 StoryFragment를 spread 했습니다. 그리고 id를 선택함으로써 React의 key로 사용할 수 있도록 했습니다.</p><h2 id="step-2---map-over-the-edges-of-the-connection"><a href="#step-2---map-over-the-edges-of-the-connection" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Step 2 - Map over the Edges of the Connection</h2><p>Newsfeed 컴포넌트를 수정해서 edge들의 node들을 각각 렌더링하도록 했습니다.</p><div class="relative"><pre><code class="language-tsx code-highlight"><span class="code-line"><span class="token keyword">function</span> <span class="token function">Newsfeed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token function">useLazyLoadQuery</span><span class="token punctuation">(</span><span class="token maybe-class-name">NewsfeedFragment</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token keyword">const</span> storyEdges <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token property-access">viewer</span><span class="token punctuation">.</span><span class="token property-access">newsfeedStories</span><span class="token punctuation">.</span><span class="token property-access">edges</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token punctuation">{</span>storyEdges<span class="token punctuation">.</span><span class="token function property-access method">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">storyEdge</span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> <span class="token punctuation">(</span>
</span><span class="code-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Story</span></span> <span class="token attr-name">key</span><span class="token language-javascript script"><span class="token punctuation script-punctuation">=</span><span class="token punctuation">{</span>storyEdge<span class="token punctuation">.</span><span class="token property-access">node</span><span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">}</span></span> <span class="token attr-name">story</span><span class="token language-javascript script"><span class="token punctuation script-punctuation">=</span><span class="token punctuation">{</span>storyEdge<span class="token punctuation">.</span><span class="token property-access">node</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
</span><span class="code-line">      <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">  <span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><h2 id="step-3---lower-newsfeed-into-a-fragment"><a href="#step-3---lower-newsfeed-into-a-fragment" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Step 3 - Lower Newsfeed into a Fragment</h2><p>Relay의 pagination 기능은 query 전체에 대해서 작동하지 않고, fragment들에 대해서만 작동합니다. 왜냐하면, 우리는 간단한 예제 앱에서 쿼리를 하나만 사용하지만, 실제 어플리케이션에서는 query는 고수준의 라우팅 컴포넌트에서 발행되기 때문입니다(그리고 paginate된 리스트를 보여주는 컴포넌트는 거의 같은 컴포넌트가 아닙니다).</p><p>이런 부분들이 작동하도록 하기 위해서, NewsfeedQuery를 fragment로 나눴습니다. 그리고 해당 fragment는 NewsfeedContentsFragment 입니다.</p><div class="relative"><pre><code class="language-tsx code-highlight"><span class="code-line"><span class="token keyword">const</span> <span class="token maybe-class-name">NewsfeedQuery</span> <span class="token operator">=</span> graphql<span class="token template-string"><span class="token string template-punctuation">`</span><span class="token language-graphql graphql">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">  <span class="token keyword">query</span> <span class="token function definition-query">NewsfeedQuery</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">    <span class="token operator">...</span><span class="token function fragment">NewsfeedContentsFragment</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">  <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql"></span><span class="token string template-punctuation">`</span></span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> <span class="token maybe-class-name">NewsfeedContentsFragment</span> <span class="token operator">=</span> graphql<span class="token template-string"><span class="token string template-punctuation">`</span><span class="token language-graphql graphql">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">  <span class="token keyword">fragment</span> <span class="token function fragment">NewsfeedContentsFragment</span> <span class="token keyword">on</span> <span class="token class-name">Query</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">    <span class="token object">viewer</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">      <span class="token object">newsfeedStories</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">        <span class="token object">edges</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">          <span class="token object">node</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">            <span class="token property">id</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">            <span class="token operator">...</span><span class="token function fragment">StoryFragment</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">          <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">        <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">      <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">    <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">  <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql"></span><span class="token string template-punctuation">`</span></span>
</span></code></pre></div><p>그리고 모든 GraphQL schema는 가장 고수준의 필드의 타입을 나타내는 Query 타입을 가지고 있습니다. fragment를 <code>on Query</code>로 정의함으로써, 최상단의 Query에 대한 fragment를 정의할 수 있습니다.</p><p>Newsfeed 안에서는, useLazyLoadQuery와 useFragment 모두 호출했습니다. 하지만 실 어플리케이션에서는 보통 두 Hook은 다른 컴포넌트에서 호출됩니다.</p><div class="relative"><pre><code class="language-tsx code-highlight"><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">Newsfeed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> queryData <span class="token operator">=</span> <span class="token function">useLazyLoadQuery</span><span class="token punctuation">(</span><span class="token maybe-class-name">NewsfeedFragment</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token function">useFragment</span><span class="token punctuation">(</span><span class="token maybe-class-name">NewsfeedContentsFragment</span><span class="token punctuation">,</span> queryData<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token keyword">const</span> storyEdges <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token property-access">newsfeedStories</span><span class="token punctuation">.</span><span class="token property-access">edges</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token operator spread">...</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span></code></pre></div><h2 id="step-4---augment-the-fragment-for-pagination"><a href="#step-4---augment-the-fragment-for-pagination" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Step 4 - Augment the Fragment for Pagination</h2><p>이제 우리는 스토리를 위해서 Connection field를 사용하고 있고, 또한 fragment들로 만들었습니다. 이제 Pagination을 지원하도록 수정해봅시다. 마지막 예시와 똑같이 생각하면 됩니다. 우리는 다음과 같은 것을 해야합니다</p><ul><li>page 사이즈와 cursor에 대해서 fragment 인자 추가하기(first와 after)</li><li>위의 인자들을 field 인자로써 newsfeedStories 필드에 넣어주기</li><li>fragment를 @refetchable로 표시하기</li><li>newsfeedStories 필드는 @connection이라 표시하기</li></ul><p>그러면 아래와 같은 형태가 될 것 입니다.</p><div class="relative"><pre><code class="language-tsx code-highlight"><span class="code-line"><span class="token keyword">const</span> <span class="token maybe-class-name">NewsfeedContentsFragment</span> <span class="token operator">=</span> graphql<span class="token template-string"><span class="token string template-punctuation">`</span><span class="token language-graphql graphql">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">  <span class="token keyword">fragment</span> <span class="token function fragment">NewsfeedContentsFragment</span> <span class="token keyword">on</span> <span class="token class-name">Query</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">  <span class="token function directive">@argumentDefinitions</span><span class="token punctuation">(</span><span class="token attr-name">cursor</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token attr-name">type</span><span class="token punctuation">:</span> <span class="token string">&quot;String&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token attr-name">count</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token attr-name">type</span><span class="token punctuation">:</span> <span class="token string">&quot;Int&quot;</span><span class="token punctuation">,</span> <span class="token attr-name">defaultValue</span><span class="token punctuation">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">  <span class="token function directive">@refetchable</span><span class="token punctuation">(</span><span class="token attr-name">queryName</span><span class="token punctuation">:</span> <span class="token string">&quot;NewsfeedContentsRefetchQuery&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">    <span class="token object">viewer</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">      <span class="token property-query">newsfeedStories</span><span class="token punctuation">(</span><span class="token attr-name">after</span><span class="token punctuation">:</span> <span class="token variable">$cursor</span><span class="token punctuation">,</span> <span class="token attr-name">first</span><span class="token punctuation">:</span> <span class="token variable">$count</span><span class="token punctuation">)</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">        <span class="token function directive">@connection</span><span class="token punctuation">(</span><span class="token attr-name">key</span><span class="token punctuation">:</span> <span class="token string">&quot;NewsfeedContentsFragment_newsfeedStories&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">        <span class="token object">edges</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">          <span class="token object">node</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">            <span class="token property">id</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">            <span class="token operator">...</span><span class="token function fragment">StoryFragment</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">          <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">        <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">      <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">    <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">  <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql"></span><span class="token string template-punctuation">`</span></span>
</span></code></pre></div><h2 id="step-5---usepaginationfragment-호출하기"><a href="#step-5---usepaginationfragment-호출하기" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Step 5 - usePaginationFragment 호출하기</h2><p>이제 NewsfeedContent 컴포넌트에서 usePaginationFragment를 호출하도록 만듭니다</p><div class="relative"><pre><code class="language-tsx code-highlight"><span class="code-line"><span class="token keyword">function</span> <span class="token function">NewsfeedContents</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> viewer <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> data<span class="token punctuation">,</span> loadNext <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">usePaginationFragment</span><span class="token punctuation">(</span><span class="token maybe-class-name">NewsfeedFragment</span><span class="token punctuation">,</span> viewer<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token keyword">const</span> storyEdges <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token property-access">newsfeedStories</span><span class="token punctuation">.</span><span class="token property-access">edges</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token punctuation">{</span>storyEdges<span class="token punctuation">.</span><span class="token function property-access method">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">storyEdge</span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> <span class="token punctuation">(</span>
</span><span class="code-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Story</span></span> <span class="token attr-name">key</span><span class="token language-javascript script"><span class="token punctuation script-punctuation">=</span><span class="token punctuation">{</span>storyEdge<span class="token punctuation">.</span><span class="token property-access">node</span><span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">}</span></span> <span class="token attr-name">story</span><span class="token language-javascript script"><span class="token punctuation script-punctuation">=</span><span class="token punctuation">{</span>storyEdge<span class="token punctuation">.</span><span class="token property-access">node</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
</span><span class="code-line">      <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">  <span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><h2 id="step-6---scroll-trigger를-이용해서-paginate-하기"><a href="#step-6---scroll-trigger를-이용해서-paginate-하기" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Step 6 - Scroll Trigger를 이용해서 Paginate 하기</h2><p>InfiniteScrollTrigger라는 컴포넌트를 제공하고 있습니다. 해당 컴포넌트는 스크롤이 끝에 도달했을 때, 콜백을 호출합니다. 그리고 우리는 이때 loadNext를 호출할 것 입니다. 그렇게 하기 위해서는, 다음 페이지가 있는지 알아야하며, usePaginationFragment로 부터 반환된 값으로 판단할 수 있습니다.</p><div class="relative"><pre><code class="language-tsx code-highlight"><span class="code-line"><span class="token keyword">function</span> <span class="token function">NewsfeedContents</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> query <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> data<span class="token punctuation">,</span> loadNext<span class="token punctuation">,</span> hasNext<span class="token punctuation">,</span> isLoadingNext <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">usePaginationFragment</span><span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token maybe-class-name">NewsfeedContentsFragment</span><span class="token punctuation">,</span>
</span><span class="code-line">    query
</span><span class="code-line">  <span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token keyword">function</span> <span class="token function">onEndReached</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token function">loadNext</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token keyword">const</span> storyEdges <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token property-access">viewer</span><span class="token punctuation">.</span><span class="token property-access">newsfeedStories</span><span class="token punctuation">.</span><span class="token property-access">edges</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token punctuation">{</span>storyEdges<span class="token punctuation">.</span><span class="token function property-access method">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">storyEdge</span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> <span class="token punctuation">(</span>
</span><span class="code-line">        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Story</span></span> <span class="token attr-name">key</span><span class="token language-javascript script"><span class="token punctuation script-punctuation">=</span><span class="token punctuation">{</span>storyEdge<span class="token punctuation">.</span><span class="token property-access">node</span><span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">}</span></span> <span class="token attr-name">story</span><span class="token language-javascript script"><span class="token punctuation script-punctuation">=</span><span class="token punctuation">{</span>storyEdge<span class="token punctuation">.</span><span class="token property-access">node</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
</span><span class="code-line">      <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">InfiniteScrollTrigger</span></span>
</span></span><span class="code-line"><span class="token tag">        <span class="token attr-name">onEndReached</span><span class="token language-javascript script"><span class="token punctuation script-punctuation">=</span><span class="token punctuation">{</span>onEndReached<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">        <span class="token attr-name">hasNext</span><span class="token language-javascript script"><span class="token punctuation script-punctuation">=</span><span class="token punctuation">{</span>hasNext<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">        <span class="token attr-name">isLoadingNext</span><span class="token language-javascript script"><span class="token punctuation script-punctuation">=</span><span class="token punctuation">{</span>isLoadingNext<span class="token punctuation">}</span></span>
</span></span><span class="code-line"><span class="token tag">      <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
</span></span><span class="code-line"><span class="token plain-text">    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line">  <span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>이제 실제 뉴스피드 앱처럼 동작하는 것을 볼 수 있습니다.</p><h2 id="요약"><a href="#요약" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>요약</h2><ul><li>Connection은 paginate 할 수 있는 목록들에 대한 Relay가 사용하는 schema 컨벤션입니다.</li><li>단순한 리스트를 사용하는 것 보다 schema 안에서 Connection을 사용하는 것이 더 좋습니다. 필요할 때만 paginate 할 수 있기 때문입니다.</li></ul><p>다음으로, 서버의 데이터를 어떻게 업데이트 하는지 알아보겠습니다. 어떻게 기존 Connection에 새로운 노드를 추가할 수 있는지 알아볼 것 입니다.</p></div><div class="pt-6 pb-6 text-sm text-gray-700 dark:text-gray-300"><a target="_blank" rel="noopener noreferrer" href="https://github.com/woody-morgan/woody-morgan.github.io/blob/master/data/blog/backend/graphql-connections-n-pagination.mdx">View on GitHub</a></div></div><footer><div class="divide-gray-200 text-sm font-medium leading-5 dark:divide-gray-700 xl:col-start-1 xl:row-start-2 xl:divide-y"><div class="py-4 xl:py-8"><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">Tags</h2><div class="flex flex-wrap"><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/graphql">graphql</a><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/relay">relay</a></div></div><div class="flex justify-between py-4 xl:block xl:space-y-8 xl:py-8"><div><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">Previous Article</h2><div class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a href="/blog/backend/graphql-queries-for-interactions">[번역] Relay - Graphql Queries for Interactions</a></div></div><div><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">Next Article</h2><div class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a href="/blog/project/declarative-programming-part1">Declarative Programming With React. Part 1</a></div></div></div></div><div class="pt-4 xl:pt-8"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/blog">← Back to the blog</a></div></footer></div></div></article></div></div></main><footer><div class="mt-16 flex flex-col items-center"><div class="mb-3 flex space-x-4"><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://github.com/woody-morgan"><span class="sr-only">github</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current text-gray-700 hover:text-blue-500 dark:text-gray-200 dark:hover:text-blue-400 h-6 w-6"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/in/woody-morgan"><span class="sr-only">linkedin</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current text-gray-700 hover:text-blue-500 dark:text-gray-200 dark:hover:text-blue-400 h-6 w-6"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 0 1-2.063-2.065 2.064 2.064 0 1 1 2.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg></a></div><div class="mb-2 flex space-x-2 text-sm text-gray-500 dark:text-gray-400"><div>woody morgan</div><div> • </div><div>© 2024</div><div> • </div><a href="/">woody-morgan.github.io</a></div><div class="mb-8 text-sm text-gray-500 dark:text-gray-400"><a target="_blank" rel="noopener noreferrer" href="https://github.com/timlrx/tailwind-nextjs-starter-blog">Tailwind Nextjs Theme</a></div></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"mdxSource":"var Component=(()=\u003e{var o=Object.create;var l=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var d=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty;var t=e=\u003el(e,\"__esModule\",{value:!0});var N=(e,s)=\u003e()=\u003e(s||e((s={exports:{}}).exports,s),s.exports),u=(e,s)=\u003e{t(e);for(var c in s)l(e,c,{get:s[c],enumerable:!0})},k=(e,s,c)=\u003e{if(s\u0026\u0026typeof s==\"object\"||typeof s==\"function\")for(let a of d(s))!h.call(e,a)\u0026\u0026a!==\"default\"\u0026\u0026l(e,a,{get:()=\u003es[a],enumerable:!(c=p(s,a))||c.enumerable});return e},g=e=\u003ek(t(l(e!=null?o(m(e)):{},\"default\",e\u0026\u0026e.__esModule\u0026\u0026\"default\"in e?{get:()=\u003ee.default,enumerable:!0}:{value:e,enumerable:!0})),e);var r=N((S,i)=\u003e{i.exports=_jsx_runtime});var w={};u(w,{default:()=\u003ef,frontmatter:()=\u003ey});var n=g(r()),y={title:\"[\\uBC88\\uC5ED] Relay - Graphql Connections \u0026 Pagination\",date:\"2023-01-26\",tags:[\"graphql\",\"relay\"],draft:!1,summary:\"Relay \\uBB38\\uC11C\\uC758 Graphql Connections \u0026 Pagination \\uD56D\\uBAA9 \\uBC88\\uC5ED\",images:[],layout:\"PostLayout\"};function q(e={}){let{wrapper:s}=e.components||{};return s?(0,n.jsx)(s,Object.assign({},e,{children:(0,n.jsx)(c,{})})):c();function c(){let a=Object.assign({h2:\"h2\",a:\"a\",span:\"span\",p:\"p\",ul:\"ul\",li:\"li\",img:\"img\",pre:\"pre\",code:\"code\",h3:\"h3\"},e.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a.h2,{id:\"graphql-connections--pagination\",children:[(0,n.jsx)(a.a,{href:\"#graphql-connections--pagination\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),(0,n.jsx)(a.a,{href:\"https://relay.dev/docs/tutorial/connections-pagination/\",children:\"GraphQL Connections \u0026 Pagination\"})]}),(0,n.jsx)(a.p,{children:\"\\uC774\\uBC88 \\uC139\\uC158\\uC5D0\\uC11C\\uB294, \\uD398\\uC774\\uC9C0 \\uBAA9\\uB85D \\uBC0F \\uBB34\\uD55C \\uC2A4\\uD06C\\uB864\\uC744 \\uD3EC\\uD568\\uD558\\uC5EC \\uC5EC\\uB7EC \\uD56D\\uBAA9\\uC758 \\uCEEC\\uB809\\uC158\\uC744 \\uCC98\\uB9AC\\uD558\\uB294 \\uBC29\\uBC95\\uC5D0 \\uB300\\uD574 \\uC54C\\uC544\\uBCFC \\uAC83 \\uC785\\uB2C8\\uB2E4. Relay\\uC5D0\\uC11C, Connection\\uC774\\uB77C \\uC54C\\uB824\\uC9C4 \\uCD94\\uC0C1\\uD654\\uB41C \\uBC29\\uBC95\\uC744 \\uC0AC\\uC6A9\\uD574\\uC11C \\uD398\\uC774\\uC9C0 \\uBAA9\\uB85D\\uACFC \\uBB34\\uD55C \\uC2A4\\uD06C\\uB864\\uC744 \\uAD6C\\uD604\\uD569\\uB2C8\\uB2E4.\"}),(0,n.jsx)(a.p,{children:\"Relay\\uB294 \\uD398\\uC774\\uC9C0\\uB124\\uC774\\uC158\\uB41C \\uC544\\uC774\\uD15C \\uBAA9\\uB85D\\uC744 \\uB2E4\\uB8E8\\uAE30 \\uC704\\uD574\\uC11C \\uB2E4\\uC591\\uD55C \\uC791\\uC5C5\\uC744 \\uD569\\uB2C8\\uB2E4. \\uD558\\uC9C0\\uB9CC \\uD574\\uB2F9 \\uC791\\uC5C5\\uC744 \\uD558\\uAE30 \\uC704\\uD574\\uC11C, schema\\uC5D0\\uC11C \\uD2B9\\uC815\\uD55C \\uCEE8\\uBCA4\\uC158\\uC744 \\uB530\\uB77C\\uC57C \\uD569\\uB2C8\\uB2E4. \\uC774 \\uCEE8\\uBCA4\\uC158\\uC740 \\uAC15\\uB825\\uD558\\uACE0 \\uC720\\uC5F0\\uD558\\uBA70, \\uC544\\uC774\\uD15C \\uBAA9\\uB85D\\uC744 \\uB2E4\\uB8E8\\uB294 \\uB9CE\\uC740 \\uC81C\\uD488\\uB4E4\\uC744 \\uB9CC\\uB4E4\\uBA74\\uC11C \\uB098\\uC628 \\uACBD\\uD5D8\\uC744 \\uBC14\\uD0D5\\uC73C\\uB85C \\uB9CC\\uB4E4\\uC5B4\\uC84C\\uC2B5\\uB2C8\\uB2E4.\"}),(0,n.jsx)(a.p,{children:\"\\uC774\\uD574\\uD558\\uAE30 \\uC704\\uD574\\uC11C 3\\uAC00\\uC9C0\\uC758 \\uC911\\uC694\\uD55C \\uAC1C\\uB150\\uC744 \\uC54C\\uC544\\uC57C \\uD569\\uB2C8\\uB2E4.\"}),(0,n.jsxs)(a.ul,{children:[(0,n.jsx)(a.li,{children:\"Edge\\uB4E4\\uC740 \\uADF8 \\uC790\\uCCB4\\uB9CC\\uC73C\\uB85C Property\\uC744 \\uAC00\\uC9C0\\uACE0 \\uC788\\uC2B5\\uB2C8\\uB2E4 - \\uC608\\uB97C \\uB4E4\\uBA74, \\uCE5C\\uAD6C\\uB4E4\\uC758 \\uBAA9\\uB85D\\uC5D0\\uC11C, \\uC5B4\\uB5A4 \\uC0AC\\uB78C\\uACFC \\uCE5C\\uAD6C\\uAC00 \\uB418\\uC5C8\\uC744 \\uB54C\\uC758 \\uB0A0\\uC9DC\\uB294 \\uB2F9\\uC2E0\\uACFC edge \\uC0AC\\uC774\\uC5D0 Property\\uC774 \\uB429\\uB2C8\\uB2E4. \\uC6B0\\uB9AC\\uB294 edge\\uB4E4\\uC744 \\uD45C\\uD604\\uD558\\uB294 node\\uB4E4\\uC744 \\uB9CC\\uB4EC\\uC73C\\uB85C\\uC368, \\uC774\\uAC83\\uB4E4\\uC744 \\uB2E4\\uB8E8\\uACE0 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"}),(0,n.jsx)(a.li,{children:\"list \\uADF8 \\uC790\\uCCB4\\uB3C4 Property\\uC744 \\uAC00\\uC9C0\\uACE0 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uC608\\uB97C \\uB4E4\\uBA74 \\uB2E4\\uC74C \\uD398\\uC774\\uC9C0\\uAC00 \\uC788\\uB294\\uC9C0 \\uC5C6\\uB294\\uC9C0 \\uAC19\\uC740 \\uAC83\\uB4E4 \\uC785\\uB2C8\\uB2E4. \\uD604\\uC7AC \\uD398\\uC774\\uC9C0 \\uBFD0\\uB9CC \\uC544\\uB2C8\\uB77C \\uB9AC\\uC2A4\\uD2B8 \\uADF8 \\uC790\\uCCB4\\uB97C \\uD45C\\uD604\\uD558\\uB294 node\\uB97C \\uD1B5\\uD574 \\uC774\\uAC83\\uB4E4\\uC744 \\uB2E4\\uB8E8\\uACE0 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"}),(0,n.jsx)(a.li,{children:\"Pagination\\uC740 cursor\\uB97C \\uD1B5\\uD574 \\uC791\\uB3D9\\uD569\\uB2C8\\uB2E4 - \\uD574\\uB2F9 \\uC2EC\\uBCFC\\uC740 \\uB2E4\\uC74C \\uD398\\uC774\\uC9C0\\uB97C \\uAC00\\uB974\\uD0A4\\uB294 \\uBD88\\uD22C\\uBA85\\uD55C \\uAC12\\uC785\\uB2C8\\uB2E4(offset\\uC774 \\uC544\\uB2D9\\uB2C8\\uB2E4)\"})]}),(0,n.jsx)(a.p,{children:\"\\uB9CC\\uC57D \\uC720\\uC800\\uC758 \\uCE5C\\uAD6C\\uB4E4 \\uBAA9\\uB85D\\uC744 \\uBCF4\\uC5EC\\uC8FC\\uACE0 \\uC2F6\\uB2E4\\uACE0 \\uAC00\\uC815\\uD574\\uBD05\\uC2DC\\uB2E4. \\uC544\\uB798 \\uC0AC\\uC9C4\\uACFC \\uAC19\\uC740 \\uBAA8\\uC2B5\\uC73C\\uB85C \\uC0DD\\uAC01\\uD574\\uBCFC \\uC218 \\uC788\\uC744 \\uAC83\\uC785\\uB2C8\\uB2E4.\"}),(0,n.jsx)(a.p,{children:(0,n.jsx)(a.img,{alt:\"concept graph\",src:\"https://relay.dev/assets/images/connections-conceptual-graph-a88c591f79c81af5d67b28122e17c581.png\"})}),(0,n.jsx)(a.p,{children:\"GraphQL\\uB85C \\uD574\\uB2F9 \\uC0C1\\uD669\\uC744 \\uBAA8\\uB378\\uB9C1 \\uD574\\uBD05\\uC2DC\\uB2E4\"}),(0,n.jsx)(a.p,{children:\"Graphql\\uC5D0\\uC11C, Edge\\uAC00 \\uC544\\uB2CC \\uB178\\uB4DC\\uB4E4\\uB9CC Property\\uC744 \\uAC00\\uC9C8 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uADF8\\uB798\\uC11C \\uC544\\uB798\\uC640 \\uAC19\\uC774 \\uAC1C\\uB150\\uC801\\uC778 edge\\uB4E4\\uC744 \\uD45C\\uD604\\uD560 \\uAC83 \\uC785\\uB2C8\\uB2E4.\"}),(0,n.jsx)(a.p,{children:(0,n.jsx)(a.img,{alt:\"concept graph with edge\",src:\"https://relay.dev/assets/images/connections-edge-nodes-63a89a1f08749046137894e4b24774cc.png\"})}),(0,n.jsx)(a.p,{children:'\\uC774\\uC81C edge\\uB4E4\\uC758 propertyemfdms \"FriendsEdge\"\\uB77C\\uACE0 \\uBD88\\uB9AC\\uB294 \\uC0C8\\uB85C\\uC6B4 \\uD0C0\\uC785\\uC758 \\uB178\\uB4DC\\uB85C \\uD45C\\uD604\\uB429\\uB2C8\\uB2E4'}),(0,n.jsx)(a.p,{children:\"GraphQL\\uC744 \\uD1B5\\uD55C query\\uB294 \\uC544\\uB798\\uC640 \\uAC19\\uC740 \\uD615\\uD0DC\\uB85C \\uD45C\\uD604\\uB420 \\uAC83 \\uC785\\uB2C8\\uB2E4.\"}),(0,n.jsx)(a.pre,{className:\"language-graphql\",children:(0,n.jsxs)(a.code,{className:\"language-graphql code-highlight\",children:[(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"// \",(0,n.jsx)(a.span,{className:\"token constant\",children:\"XXX\"}),\" \",(0,n.jsx)(a.span,{className:\"token property\",children:\"example\"}),\" \",(0,n.jsx)(a.span,{className:\"token property\",children:\"only\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token property\",children:\"not\"}),\" \",(0,n.jsx)(a.span,{className:\"token property\",children:\"final\"}),\" \",(0,n.jsx)(a.span,{className:\"token property\",children:\"code\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"fragment\"}),\" \",(0,n.jsx)(a.span,{className:\"token function fragment\",children:\"FriendsFragment1\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"on\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Viewer\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token object\",children:\"friends\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token property\",children:\"since\"}),\" // \",(0,n.jsx)(a.span,{className:\"token property\",children:\"a\"}),\" \",(0,n.jsx)(a.span,{className:\"token property\",children:\"property\"}),\" \",(0,n.jsx)(a.span,{className:\"token property\",children:\"of\"}),\" \",(0,n.jsx)(a.span,{className:\"token property\",children:\"the\"}),\" \",(0,n.jsx)(a.span,{className:\"token property\",children:\"edge\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token object\",children:\"node\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token property\",children:\"name\"}),\" // \",(0,n.jsx)(a.span,{className:\"token property\",children:\"a\"}),\" \",(0,n.jsx)(a.span,{className:\"token property\",children:\"property\"}),\" \",(0,n.jsx)(a.span,{className:\"token property\",children:\"of\"}),\" \",(0,n.jsx)(a.span,{className:\"token property\",children:\"the\"}),\" \",(0,n.jsx)(a.span,{className:\"token property\",children:\"friend\"}),\" \",(0,n.jsx)(a.span,{className:\"token property\",children:\"itself\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`})]})}),(0,n.jsx)(a.p,{children:\"\\uC774\\uC81C, GraphQL \\uC2A4\\uD0A4\\uB9C8\\uC5D0\\uC11C Edge\\uAC00 \\uC0DD\\uC131\\uB41C \\uB0A0\\uC9DC\\uC640 \\uAC19\\uC740 \\uD2B9\\uC815 \\uC815\\uBCF4\\uB97C \\uB123\\uC744 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"}),(0,n.jsx)(a.p,{children:\"\\uC774\\uC81C, \\uC6B0\\uB9AC\\uC758 schema\\uC5D0\\uC11C pagination\\uACFC \\uBB34\\uD55C \\uC2A4\\uD06C\\uB864\\uC744 \\uC9C0\\uC6D0\\uD558\\uAE30 \\uC704\\uD574\\uC11C \\uBB34\\uC5C7\\uC744 \\uBAA8\\uB378\\uB9C1 \\uD574\\uC57C\\uD560\\uC9C0 \\uC0DD\\uAC01\\uD574\\uBD05\\uC2DC\\uB2E4\"}),(0,n.jsxs)(a.ul,{children:[(0,n.jsx)(a.li,{children:\"\\uD074\\uB77C\\uC774\\uC5B8\\uD2B8\\uB294 \\uC6D0\\uD558\\uB294 page\\uC758 \\uC0AC\\uC774\\uC988\\uB97C \\uBA85\\uC2DC\\uD560 \\uC218 \\uC788\\uC5B4\\uC57C\\uD569\\uB2C8\\uB2E4.\"}),(0,n.jsx)(a.li,{children:\"\\uD074\\uB77C\\uC774\\uC5B8\\uD2B8\\uB294 \\uB354 \\uB0A8\\uC740 \\uD398\\uC774\\uC9C0\\uAC00 \\uC788\\uB294\\uC9C0 \\uC54C \\uC218 \\uC788\\uC5B4\\uC57C\\uD569\\uB2C8\\uB2E4.\"}),(0,n.jsx)(a.li,{children:\"\\uD074\\uB77C\\uC774\\uC5B8\\uD2B8\\uB294 \\uD55C \\uBC88 \\uD398\\uC774\\uC9C0\\uB97C \\uC694\\uCCAD\\uD55C \\uC774\\uD6C4\\uC5D0\\uB3C4 \\uB2E4\\uC74C \\uD398\\uC774\\uC9C0\\uB97C \\uC694\\uCCAD\\uD560 \\uC218 \\uC788\\uC5B4\\uC57C\\uD569\\uB2C8\\uB2E4.\"})]}),(0,n.jsx)(a.p,{children:\"GraphQL\\uC5D0\\uC11C \\uC5B4\\uB5BB\\uAC8C \\uD574\\uB2F9 \\uAE30\\uB2A5\\uC744 \\uAD6C\\uD604\\uD560 \\uC218 \\uC788\\uC744\\uAE4C\\uC694? field argument\\uB97C \\uD1B5\\uD574 \\uD398\\uC774\\uC9C0 \\uD06C\\uAE30\\uB97C \\uBA85\\uC2DC\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"}),(0,n.jsx)(a.p,{children:\"\\uC11C\\uBC84\\uAC00 \\uB2E4\\uC74C \\uD398\\uC774\\uC9C0\\uAC00 \\uC788\\uB294\\uC9C0 \\uC5C6\\uB294\\uC9C0 \\uC54C\\uB824\\uC904 \\uC218 \\uC788\\uB3C4\\uB85D \\uD558\\uAE30 \\uC704\\uD574\\uC11C, \\uCE5C\\uAD6C \\uBAA9\\uB85D \\uADF8 \\uC790\\uCCB4\\uC5D0 \\uB300\\uD574\\uC11C \\uC54C\\uACE0 \\uC788\\uB294 graph \\uC548\\uC5D0 node\\uB97C \\uB3C4\\uC785\\uD574\\uC57C\\uD569\\uB2C8\\uB2E4. \\uC774 \\uC0C8\\uB85C\\uC6B4 node\\uB97C Connection\\uC774\\uB77C\\uACE0 \\uBD80\\uB985\\uB2C8\\uB2E4\"}),(0,n.jsx)(a.p,{children:\"Connection node\\uB294 \\uB2F9\\uC2E0\\uACFC \\uB2F9\\uC2E0 \\uCE5C\\uAD6C\\uB4E4 \\uC0AC\\uC774\\uC5D0 \\uC5F0\\uACB0\\uAD00\\uACC4\\uB97C \\uB098\\uD0C0\\uB0C5\\uB2C8\\uB2E4. Connection\\uC5D0 \\uB300\\uD55C \\uBA54\\uD0C0\\uB370\\uC774\\uD130\\uB294 \\uADF8\\uACF3\\uC5D0 \\uC800\\uC7A5\\uB418\\uC5B4 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uC608\\uB97C \\uB4E4\\uBA74, totalCount \\uD544\\uB4DC\\uC5D0\\uB294 \\uC5BC\\uB9C8\\uB098 \\uB9CE\\uC740 \\uCE5C\\uAD6C\\uB4E4\\uC774 \\uC788\\uB294\\uC9C0 \\uC54C\\uB824\\uC90D\\uB2C8\\uB2E4. \\uAC8C\\uB2E4\\uAC00, \\uD604\\uC7AC \\uD398\\uC774\\uC9C0\\uB97C \\uB098\\uD0C0\\uB0B4\\uB294 \\uB450 \\uD544\\uB4DC\\uAC00 \\uC788\\uC2B5\\uB2C8\\uB2E4: pageInfo \\uD544\\uB4DC\\uB294 \\uD604\\uC7AC \\uD398\\uC774\\uC9C0\\uC5D0 \\uB300\\uD55C \\uBA54\\uD0C0\\uB370\\uC774\\uD130\\uB97C \\uAC00\\uC9C0\\uACE0 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uADF8\\uB9AC\\uACE0 edges \\uD544\\uB4DC\\uB294 \\uC774\\uC804\\uC5D0 \\uBD24\\uB358 edge\\uB4E4\\uC758 \\uC9C0\\uC810\\uC5D0 \\uB300\\uD55C \\uC815\\uBCF4\\uB97C \\uAC00\\uC9C0\\uACE0 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"}),(0,n.jsx)(a.p,{children:(0,n.jsx)(a.img,{alt:\"Connection\",src:\"https://relay.dev/assets/images/connections-full-model-13e2ea59a6271992070d77ae4ae5e9b6.png\"})}),(0,n.jsx)(a.p,{children:\"\\uB9C8\\uCE68\\uB0B4, \\uC6B0\\uB9AC\\uB294 \\uB2E4\\uC74C \\uD398\\uC774\\uC9C0\\uC5D0 \\uB300\\uD55C \\uACB0\\uACFC\\uB97C \\uC694\\uCCAD\\uD560 \\uBC29\\uBC95\\uC774 \\uD544\\uC694\\uD569\\uB2C8\\uB2E4. \\uC704 \\uB2E4\\uC774\\uC5B4\\uADF8\\uB7A8\\uC744 \\uBCF4\\uBA74, PageInfo \\uB178\\uB4DC\\uC5D0 lastCursor\\uB77C\\uACE0 \\uBD88\\uB9AC\\uB294 \\uD544\\uB4DC\\uAC00 \\uC788\\uC74C\\uC744 \\uD655\\uC778\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uC774\\uAC83\\uC740 \\uB9C8\\uC9C0\\uB9C9\\uC73C\\uB85C \\uC8FC\\uC5B4\\uC9C4 edge\\uC5D0 \\uB300\\uD55C \\uC704\\uCE58\\uB97C \\uD45C\\uD604\\uD574\\uC8FC\\uB294 \\uD1A0\\uD070\\uC785\\uB2C8\\uB2E4. \\uC6B0\\uB9AC\\uB294 \\uD574\\uB2F9 \\uCEE4\\uC11C\\uB97C \\uC11C\\uBC84\\uC5D0 \\uC804\\uB2EC\\uD558\\uACE0, \\uC11C\\uBC84\\uB294 \\uD574\\uB2F9 \\uCEE4\\uC11C \\uC774\\uD6C4\\uC758 \\uCE5C\\uAD6C \\uBAA9\\uB85D\\uC744 \\uBC18\\uD658\\uD574\\uC90D\\uB2C8\\uB2E4.\"}),(0,n.jsx)(a.p,{children:\"lastCursor\\uB97C \\uB118\\uACA8\\uC90C\\uC73C\\uB85C\\uC368, \\uC11C\\uBC84\\uB294 \\uC5B4\\uB5A4 \\uCE5C\\uAD6C \\uBAA9\\uB85D\\uC744 \\uBC18\\uD658\\uD574\\uC57C\\uD560\\uC9C0 \\uC54C \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"}),(0,n.jsx)(a.p,{children:(0,n.jsx)(a.img,{alt:\"Connection with lastCursor\",src:\"https://relay.dev/assets/images/connections-full-model-next-page-88f27142830f48b2f0184ebcd0e9ad8d.png\"})}),(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.a,{href:\"https://relay.dev/graphql/connections.htm\",children:\"GraphQL Cursor Connections Spec\"}),\"\\uD30C\\uC77C\\uC5D0 paginated list\\uB97C \\uC704\\uD55C schema \\uBAA8\\uB378\\uB9C1 \\uBC29\\uBC95\\uC5D0 \\uB300\\uD55C \\uC790\\uC138\\uD55C \\uB0B4\\uC6A9\\uC774 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uC774 \\uBC29\\uBC95\\uC740 \\uB2E4\\uC591\\uD55C \\uC5B4\\uD50C\\uB9AC\\uCF00\\uC774\\uC158\\uC5D0\\uC11C \\uC720\\uC5F0\\uD558\\uAC8C \\uC791\\uB3D9\\uD569\\uB2C8\\uB2E4, \\uADF8\\uB9AC\\uACE0 Relay\\uAC00 \\uD574\\uB2F9 \\uCEE8\\uBCA4\\uC158\\uC744 \\uC774\\uC6A9\\uD574\\uC11C pagination\\uC744 \\uAD6C\\uD604\\uD558\\uC9C0\\uB9CC, Relay\\uB97C \\uC0AC\\uC6A9\\uD558\\uC9C0 \\uC54A\\uB354\\uB77C\\uB3C4 \\uD574\\uB2F9 \\uCEE8\\uBCA4\\uC158\\uC744 \\uC0AC\\uC6A9\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"]}),(0,n.jsx)(a.p,{children:\"\\uC774\\uC81C Connection\\uC744 \\uC704\\uD55C \\uAE30\\uC800\\uC5D0 \\uAE54\\uB9B0 \\uBAA8\\uB378\\uB9C1\\uC744 \\uC54C\\uC544\\uBD24\\uC73C\\uB2C8, \\uC774\\uC81C \\uB274\\uC2A4 \\uD53C\\uB4DC \\uC2A4\\uD1A0\\uB9AC \\uBAA9\\uB85D\\uC744 \\uAD6C\\uD604\\uD574\\uBD05\\uC2DC\\uB2E4.\"}),(0,n.jsxs)(a.h2,{id:\"load-more-comments-\\uAE30\\uB2A5-\\uAD6C\\uD604\",children:[(0,n.jsx)(a.a,{href:\"#load-more-comments-\\uAE30\\uB2A5-\\uAD6C\\uD604\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),'\"Load More Comments\" \\uAE30\\uB2A5 \\uAD6C\\uD604']}),(0,n.jsx)(a.p,{children:\"Story \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uB97C \\uB2E4\\uC2DC \\uD55C \\uBC88 \\uBD05\\uC2DC\\uB2E4. Story \\uCEF4\\uD3EC\\uB10C\\uD2B8 \\uC544\\uB798\\uC5D0 StoryCommentsSection \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uAC00 \\uC788\\uC2B5\\uB2C8\\uB2E4\"}),(0,n.jsx)(a.pre,{className:\"language-tsx\",children:(0,n.jsxs)(a.code,{className:\"language-tsx code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsx)(a.span,{className:\"token imports\",children:(0,n.jsx)(a.span,{className:\"token maybe-class-name\",children:\"StoryCommentsSection\"})}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:\"'./StoryCommentsSection'\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"Story\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(a.span,{className:\"token parameter\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\" story \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"})]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" data \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"useFragment\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token maybe-class-name\",children:\"StoryFragment\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" story\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003c\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Card\"})]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003e\"})]}),(0,n.jsx)(a.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003c\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Heading\"})]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003e\"})]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\"data\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token property-access\",children:\"title\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003c/\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Heading\"})]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003e\"})]}),(0,n.jsx)(a.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003c\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"PosterByline\"})]}),\" \",(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"person\"}),(0,n.jsxs)(a.span,{className:\"token language-javascript script\",children:[(0,n.jsx)(a.span,{className:\"token punctuation script-punctuation\",children:\"=\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\"data\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token property-access\",children:\"poster\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"/\u003e\"})]}),(0,n.jsx)(a.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003c\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Timestamp\"})]}),\" \",(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"time\"}),(0,n.jsxs)(a.span,{className:\"token language-javascript script\",children:[(0,n.jsx)(a.span,{className:\"token punctuation script-punctuation\",children:\"=\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\"data\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token property-access\",children:\"posted_at\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"/\u003e\"})]}),(0,n.jsx)(a.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003c\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Image\"})]}),\" \",(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"image\"}),(0,n.jsxs)(a.span,{className:\"token language-javascript script\",children:[(0,n.jsx)(a.span,{className:\"token punctuation script-punctuation\",children:\"=\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\"data\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token property-access\",children:\"image\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"/\u003e\"})]}),(0,n.jsx)(a.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003c\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"StorySummary\"})]}),\" \",(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"summary\"}),(0,n.jsxs)(a.span,{className:\"token language-javascript script\",children:[(0,n.jsx)(a.span,{className:\"token punctuation script-punctuation\",children:\"=\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\"data\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token property-access\",children:\"summary\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"/\u003e\"})]}),(0,n.jsx)(a.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003c\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"StoryCommentsSection\"})]}),\" \",(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"story\"}),(0,n.jsxs)(a.span,{className:\"token language-javascript script\",children:[(0,n.jsx)(a.span,{className:\"token punctuation script-punctuation\",children:\"=\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\"data\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"/\u003e\"})]}),(0,n.jsx)(a.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token plain-text\",children:\"    \"}),(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003c/\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Card\"})]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003e\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsx)(a.p,{children:\"\\uADF8\\uB9AC\\uACE0 StoryCommentsSection\\uC758 fragment\\uB97C Story\\uC758 fragment\\uC5D0 \\uCD94\\uAC00\\uD569\\uB2C8\\uB2E4.\"}),(0,n.jsx)(a.pre,{className:\"language-tsx\",children:(0,n.jsxs)(a.code,{className:\"language-tsx code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(a.span,{className:\"token maybe-class-name\",children:\"StoryFragment\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" graphql\",(0,n.jsxs)(a.span,{className:\"token template-string\",children:[(0,n.jsx)(a.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,n.jsx)(a.span,{className:\"token language-graphql graphql\",children:`\n`})]})]}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"fragment\"}),\" \",(0,n.jsx)(a.span,{className:\"token function fragment\",children:\"StoryFragment\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"on\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Story\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"    // \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"...\"}),\" \",(0,n.jsx)(a.span,{className:\"token function fragment\",children:\"as\"}),\" \",(0,n.jsx)(a.span,{className:\"token property\",children:\"before\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"...\"}),(0,n.jsx)(a.span,{className:\"token function fragment\",children:\"StoryCommentsSectionFragment\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token template-string\",children:[(0,n.jsx)(a.span,{className:\"token language-graphql graphql\"}),(0,n.jsx)(a.span,{className:\"token string template-punctuation\",children:\"`\"})]}),`\n`]})]})}),(0,n.jsx)(a.p,{children:'\\uC774\\uC81C \\uAC01 \\uC2A4\\uD1A0\\uB9AC\\uC5D0 3\\uAC1C\\uC758 \\uB313\\uAE00\\uC744 \\uD655\\uC778\\uD560 \\uC218 \\uC788\\uC744 \\uAC83 \\uC785\\uB2C8\\uB2E4. \\uBA87\\uBA87 \\uC2A4\\uD1A0\\uB9AC\\uB4E4\\uC740 3\\uAC1C \\uC774\\uC0C1\\uC758 \\uB313\\uAE00\\uC744 \\uAC00\\uC9C0\\uACE0 \\uC788\\uACE0, \\uADF8\\uB807\\uB2E4\\uBA74 \"Load more\" \\uBC84\\uD2BC\\uC774 \\uBCF4\\uC5EC\\uC9C8 \\uAC83 \\uC785\\uB2C8\\uB2E4.'}),(0,n.jsx)(a.p,{children:(0,n.jsx)(a.img,{alt:\"comment\",src:\"https://relay.dev/assets/images/connections-comments-initial-screenshot-14ed0e7a93720ef62d79f7528a0f5ea8.png\"})}),(0,n.jsx)(a.p,{children:\"\\uC774\\uC81C StoryCommentsSection\\uC73C\\uB85C \\uAC00\\uC11C \\uD55C \\uBC88 \\uBD05\\uC2DC\\uB2E4\"}),(0,n.jsx)(a.pre,{className:\"language-tsx\",children:(0,n.jsxs)(a.code,{className:\"language-tsx code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(a.span,{className:\"token maybe-class-name\",children:\"StoryCommentsSectionFragment\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" graphql\",(0,n.jsxs)(a.span,{className:\"token template-string\",children:[(0,n.jsx)(a.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,n.jsx)(a.span,{className:\"token language-graphql graphql\",children:`\n`})]})]}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"fragment\"}),\" \",(0,n.jsx)(a.span,{className:\"token function fragment\",children:\"StoryCommentsSectionFragment\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"on\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Story\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token property-query\",children:\"comments\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"first\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"3\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token object\",children:\"edges\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token object\",children:\"node\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"          \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"...\"}),(0,n.jsx)(a.span,{className:\"token function fragment\",children:\"CommentFragment\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token object\",children:\"pageInfo\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token property\",children:\"hasNextPage\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token template-string\",children:[(0,n.jsx)(a.span,{className:\"token language-graphql graphql\"}),(0,n.jsx)(a.span,{className:\"token string template-punctuation\",children:\"`\"})]}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"StoryCommentsSection\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(a.span,{className:\"token parameter\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\" story \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"})]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" data \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"useFragment\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token maybe-class-name\",children:\"StoryCommentsSectionFragment\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" story\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(a.span,{className:\"token function function-variable\",children:\"onLoadMore\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token comment\",children:\"/* TODO */\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token tag\",children:(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003c\"})}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003e\"})]}),(0,n.jsx)(a.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\"data\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token property-access\",children:\"comments\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token property-access\",children:\"edges\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function property-access method\",children:\"map\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token parameter\",children:\"commentEdge\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003c\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Comment\"})]}),\" \",(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"comment\"}),(0,n.jsxs)(a.span,{className:\"token language-javascript script\",children:[(0,n.jsx)(a.span,{className:\"token punctuation script-punctuation\",children:\"=\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\"commentEdge\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token property-access\",children:\"node\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"/\u003e\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\"data\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token property-access\",children:\"comments\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token property-access\",children:\"pageInfo\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token property-access\",children:\"hasNextPage\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"\u0026\u0026\"}),\" \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003c\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"LoadMoreCommentsButton\"})]}),\" \",(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"onClick\"}),(0,n.jsxs)(a.span,{className:\"token language-javascript script\",children:[(0,n.jsx)(a.span,{className:\"token punctuation script-punctuation\",children:\"=\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\"onLoadMore\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"/\u003e\"})]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token plain-text\",children:\"    \"}),(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token tag\",children:(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003c/\"})}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003e\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsx)(a.p,{children:'StoryCommentsSection\\uC5D0\\uC11C \\uCCAB\\uBC88\\uC9F8 3\\uAC1C\\uC758 \\uB313\\uAE00\\uC744 \\uAC00\\uC838\\uC635\\uB2C8\\uB2E4. comments \\uD544\\uB4DC\\uB294 page size\\uB97C \\uC778\\uC790\\uB85C \\uBC1B\\uC73C\\uBA70, \\uAC01\\uAC01\\uC758 comment\\uC5D0 \\uB300\\uD574 edge \\uD544\\uB4DC\\uAC00 \\uC788\\uC73C\\uBA70, edge \\uD544\\uB4DC\\uB294 comment data\\uB97C \\uAC00\\uC9C0\\uACE0 \\uC788\\uB294 node \\uD544\\uB4DC\\uB97C \\uAC00\\uC9C0\\uACE0 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uAC1C\\uBCC4\\uC801\\uC778 comment\\uB4E4\\uC5D0\\uC11C \\uB370\\uC774\\uD130\\uB97C \\uAC00\\uC838\\uC624\\uAE30 \\uC704\\uD574 CommentFragment\\uB97C spead\\uD574\\uC92C\\uC2B5\\uB2C8\\uB2E4. \\uADF8\\uB9AC\\uACE0 connection\\uC758 pageInfo \\uD544\\uB4DC\\uB97C \\uC0AC\\uC6A9\\uD574\\uC11C \"Load More\" \\uBC84\\uD2BC\\uC744 \\uBCF4\\uC5EC\\uC904\\uC9C0 \\uACB0\\uC815\\uD569\\uB2C8\\uB2E4.'}),(0,n.jsx)(a.p,{children:'\\uC774\\uC81C \"Loade More\" \\uBC84\\uD2BC\\uC744 \\uB20C\\uB800\\uC744 \\uB54C \\uC5B4\\uB5BB\\uAC8C \\uB3D9\\uC791\\uD560\\uC9C0 \\uAD6C\\uD604\\uD574\\uBD05\\uC2DC\\uB2E4.'}),(0,n.jsxs)(a.h2,{id:\"augmenting-the-fragment\",children:[(0,n.jsx)(a.a,{href:\"#augmenting-the-fragment\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"Augmenting the Fragment\"]}),(0,n.jsx)(a.p,{children:\"\\uCEF4\\uD3EC\\uB10C\\uD2B8\\uB97C \\uC218\\uC815\\uD558\\uAE30 \\uC804\\uC5D0, fragment\\uB294 3\\uAC1C\\uC758 extra information\\uC774 \\uD544\\uC694\\uD569\\uB2C8\\uB2E4. \\uCCAB\\uBC88\\uC9F8\\uB85C, \\uD558\\uB4DC \\uCF54\\uB529\\uB41C \\uC778\\uC790\\uAC00 \\uC544\\uB2CC page size\\uC640 cursor \\uC778\\uC790\\uB97C \\uBC1B\\uC744 \\uC218 \\uC788\\uB294 fragment\\uAC00 \\uD544\\uC694\\uD569\\uB2C8\\uB2E4\"}),(0,n.jsx)(a.pre,{className:\"language-tsx\",children:(0,n.jsxs)(a.code,{className:\"language-tsx code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(a.span,{className:\"token maybe-class-name\",children:\"StoryCommentsSectionFragment\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" graphql\",(0,n.jsxs)(a.span,{className:\"token template-string\",children:[(0,n.jsx)(a.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,n.jsx)(a.span,{className:\"token language-graphql graphql\",children:`\n`})]})]}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"fragment\"}),\" \",(0,n.jsx)(a.span,{className:\"token function fragment\",children:\"StoryCommentsSectionFragment\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"on\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Story\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token function directive\",children:\"@argumentDefinitions\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"cursor\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"type\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"String\"'}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"count\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"type\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"Int\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"defaultValue\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"3\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token property-query\",children:\"comments\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"after\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token variable\",children:\"$cursor\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"first\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token variable\",children:\"$count\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token object\",children:\"edges\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token object\",children:\"node\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"          \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"...\"}),(0,n.jsx)(a.span,{className:\"token function fragment\",children:\"CommentFragment\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token object\",children:\"pageInfo\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token property\",children:\"hasNextPage\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token template-string\",children:[(0,n.jsx)(a.span,{className:\"token language-graphql graphql\"}),(0,n.jsx)(a.span,{className:\"token string template-punctuation\",children:\"`\"})]}),`\n`]})]})}),(0,n.jsx)(a.p,{children:\"\\uB2E4\\uC74C\\uC73C\\uB85C, fragment\\uAC00 refetch\\uAC00 \\uAC00\\uB2A5\\uD558\\uB3C4\\uB85D \\uB9CC\\uB4E4\\uC5B4\\uC57C\\uD569\\uB2C8\\uB2E4. \\uADF8\\uB798\\uC11C Relay\\uAC00 \\uC778\\uC790\\uC5D0 \\uB9DE\\uB294 \\uC0C8\\uB85C\\uC6B4 \\uAC12\\uC744 \\uBD88\\uB7EC\\uC62C \\uC218 \\uC788\\uB3C4\\uB85D \\uD574\\uC57C\\uD569\\uB2C8\\uB2E4.\"}),(0,n.jsx)(a.ul,{children:(0,n.jsx)(a.li,{children:\"\\uC989 $cursor \\uC778\\uC790\\uB97C \\uBC1B\\uB3C4\\uB85D \\uD574\\uC57C\\uD569\\uB2C8\\uB2E4.\"})}),(0,n.jsx)(a.pre,{className:\"language-tsx\",children:(0,n.jsxs)(a.code,{className:\"language-tsx code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(a.span,{className:\"token maybe-class-name\",children:\"StoryCommentsSectionFragment\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" graphql\",(0,n.jsxs)(a.span,{className:\"token template-string\",children:[(0,n.jsx)(a.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,n.jsx)(a.span,{className:\"token language-graphql graphql\",children:`\n`})]})]}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"fragment\"}),\" \",(0,n.jsx)(a.span,{className:\"token function fragment\",children:\"StoryCommentsSectionFragment\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"on\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Story\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token function directive\",children:\"@refetchable\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"queryName\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"StoryCommentsSectionPaginationQuery\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token function directive\",children:\"@argumentDefinitions\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"...\"}),\" \",(0,n.jsx)(a.span,{className:\"token function fragment\",children:\"as\"}),\" \",(0,n.jsx)(a.span,{className:\"token property\",children:\"before\"}),`\n`]})})}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token template-string\",children:[(0,n.jsx)(a.span,{className:\"token language-graphql graphql\"}),(0,n.jsx)(a.span,{className:\"token string template-punctuation\",children:\"`\"})]}),`\n`]})]})}),(0,n.jsx)(a.p,{children:\"\\uADF8\\uB9AC\\uACE0 \\uB9C8\\uC9C0\\uB9C9\\uC73C\\uB85C Relay\\uB294 fragment \\uC548\\uC5D0 \\uC5B4\\uB5A4 field\\uAC00 Connection\\uC778\\uC9C0 \\uD45C\\uD604\\uD574\\uC918\\uC57C\\uD569\\uB2C8\\uB2E4. \\uC774\\uB97C \\uC704\\uD574 @connection \\uC9C0\\uC2DC\\uC5B4\\uB97C \\uC0AC\\uC6A9\\uD569\\uB2C8\\uB2E4.\"}),(0,n.jsx)(a.pre,{className:\"language-tsx\",children:(0,n.jsxs)(a.code,{className:\"language-tsx code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(a.span,{className:\"token maybe-class-name\",children:\"StoryCommentsSectionFragment\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" graphql\",(0,n.jsxs)(a.span,{className:\"token template-string\",children:[(0,n.jsx)(a.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,n.jsx)(a.span,{className:\"token language-graphql graphql\",children:`\n`})]})]}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"fragment\"}),\" \",(0,n.jsx)(a.span,{className:\"token function fragment\",children:\"StoryCommentsSectionFragment\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"on\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Story\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token function directive\",children:\"@refetchable\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"queryName\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"StoryCommentsSectionPaginationQuery\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token function directive\",children:\"@argumentDefinitions\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"cursor\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"type\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"String\"'}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"count\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"type\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"Int\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"defaultValue\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"3\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token property-query\",children:\"comments\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"after\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token variable\",children:\"$cursor\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"first\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token variable\",children:\"$count\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token function directive\",children:\"@connection\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"key\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"StoryCommentsSectionFragment_comments\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token object\",children:\"edges\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token object\",children:\"node\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"          \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"...\"}),(0,n.jsx)(a.span,{className:\"token function fragment\",children:\"CommentFragment\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token object\",children:\"pageInfo\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token property\",children:\"hasNextPage\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token template-string\",children:[(0,n.jsx)(a.span,{className:\"token language-graphql graphql\"}),(0,n.jsx)(a.span,{className:\"token string template-punctuation\",children:\"`\"})]}),`\n`]})]})}),(0,n.jsx)(a.p,{children:\"@connection \\uC9C0\\uC2DC\\uC5B4\\uB294 unique \\uBB38\\uC790\\uC5EC\\uC57C\\uD558\\uB294 key \\uC778\\uC790\\uB97C \\uBC1B\\uC2B5\\uB2C8\\uB2E4. \\uC774 key\\uB294 mutation\\uC744 \\uD558\\uB294 \\uB3D9\\uC548\\uC5D0 connection\\uC758 \\uCEE8\\uD150\\uCE20\\uB97C \\uC218\\uC815\\uD560\\uB54C \\uC0AC\\uC6A9\\uB429\\uB2C8\\uB2E4.\"}),(0,n.jsxs)(a.h2,{id:\"the-usepaginationfragment-hook\",children:[(0,n.jsx)(a.a,{href:\"#the-usepaginationfragment-hook\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"The usePaginationFragment Hook\"]}),(0,n.jsx)(a.p,{children:\"\\uC774\\uC81C fragment\\uB97C \\uC644\\uC131\\uD588\\uC73C\\uB2C8, Load More \\uBC84\\uD2BC\\uC744 \\uC0AC\\uC6A9\\uD558\\uB3C4\\uB85D \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uB97C \\uC218\\uC815\\uD574\\uBD05\\uC2DC\\uB2E4.\"}),(0,n.jsx)(a.p,{children:\"StoryCommentsSection \\uCEF4\\uD3EC\\uB10C\\uD2B8 \\uC0C1\\uB2E8\\uC5D0 \\uC544\\uB798 \\uB450 \\uC904\\uC758 \\uCF54\\uB4DC\\uB97C \\uCD94\\uAC00\\uD569\\uB2C8\\uB2E4.\"}),(0,n.jsx)(a.pre,{className:\"language-tsx\",children:(0,n.jsxs)(a.code,{className:\"language-tsx code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" data \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"useFragment\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token maybe-class-name\",children:\"StoryCommentsSectionFragment\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" story\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(a.span,{className:\"token function function-variable\",children:\"onLoadMore\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token comment\",children:\"/* TODO */\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsx)(a.p,{children:\"\\uADF8\\uB9AC\\uACE0 \\uC544\\uB798\\uC640 \\uAC19\\uC774 \\uC218\\uC815\\uD569\\uB2C8\\uB2E4.\"}),(0,n.jsx)(a.pre,{className:\"language-tsx\",children:(0,n.jsxs)(a.code,{className:\"language-tsx code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\" data\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" loadNext \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"usePaginationFragment\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token maybe-class-name\",children:\"StoryCommentsSectionFragment\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" story\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(a.span,{className:\"token function function-variable\",children:\"onLoadMore\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"loadNext\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token number\",children:\"3\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,n.jsx)(a.p,{children:'\\uC774\\uC81C \"Load More\" \\uBC84\\uD2BC\\uC744 \\uB20C\\uB800\\uC744 \\uB54C, Relay\\uB294 \\uC0C8\\uB85C\\uC6B4 \\uB370\\uC774\\uD130\\uB97C \\uBD88\\uB7EC\\uC624\\uACE0, \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uB97C \\uC5C5\\uB370\\uC774\\uD2B8\\uD569\\uB2C8\\uB2E4.'}),(0,n.jsxs)(a.h2,{id:\"usetransition-hook\\uC744-\\uC0AC\\uC6A9\\uD574\\uC11C-\\uB85C\\uB529-\\uACFC\\uC815-\\uAC1C\\uC120\\uD558\\uAE30\",children:[(0,n.jsx)(a.a,{href:\"#usetransition-hook\\uC744-\\uC0AC\\uC6A9\\uD574\\uC11C-\\uB85C\\uB529-\\uACFC\\uC815-\\uAC1C\\uC120\\uD558\\uAE30\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"useTransition Hook\\uC744 \\uC0AC\\uC6A9\\uD574\\uC11C \\uB85C\\uB529 \\uACFC\\uC815 \\uAC1C\\uC120\\uD558\\uAE30\"]}),(0,n.jsx)(a.p,{children:\"Load More \\uBC84\\uD2BC\\uC744 \\uD074\\uB9AD\\uD558\\uBA74, \\uC0C8\\uB85C\\uC6B4 \\uB313\\uAE00\\uC774 \\uBCF4\\uC5EC\\uC9C0\\uAE30 \\uC804\\uAE4C\\uC9C0 \\uC5B4\\uB5A0\\uD55C \\uC720\\uC800 \\uD53C\\uB4DC\\uBC31\\uB3C4 \\uBC1C\\uC0DD\\uD558\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4. \\uBAA8\\uB4E0 \\uC720\\uC800 \\uC5D1\\uC158\\uC5D0 \\uB300\\uD574\\uC11C \\uC989\\uAC01\\uC801\\uC778 \\uD53C\\uB4DC\\uBC31\\uC774 \\uC788\\uC5B4\\uC57C\\uD558\\uAE30 \\uB54C\\uBB38\\uC5D0, \\uB370\\uC774\\uD130\\uB97C \\uB85C\\uB529\\uD558\\uB294 \\uB3D9\\uC548\\uC5D0 \\uC2A4\\uD53C\\uB108\\uB97C \\uBCF4\\uC5EC\\uC90D\\uC2DC\\uB2E4. \\uD558\\uC9C0\\uB9CC \\uC874\\uC7AC\\uD558\\uB294 UI\\uB294 \\uC228\\uAE30\\uC9C0 \\uC54A\\uB294 \\uBC29\\uC2DD\\uC73C\\uB85C \\uC2A4\\uD53C\\uB108\\uB97C \\uBCF4\\uC5EC\\uC90D\\uC2DC\\uB2E4.\"}),(0,n.jsx)(a.pre,{className:\"language-tsx\",children:(0,n.jsxs)(a.code,{className:\"language-tsx code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"StoryCommentsSection\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(a.span,{className:\"token parameter\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\" story \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"})]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"[\"}),\"isPending\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" startTransition\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"useTransition\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\" data\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" loadNext \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"usePaginationFragment\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token maybe-class-name\",children:\"StoryCommentsSectionFragment\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" story\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(a.span,{className:\"token function function-variable\",children:\"onLoadMore\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator arrow\",children:\"=\u003e\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token function\",children:\"startTransition\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token function\",children:\"loadNext\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token number\",children:\"3\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token tag\",children:(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003c\"})}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003e\"})]}),(0,n.jsx)(a.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\"data\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token property-access\",children:\"comments\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token property-access\",children:\"edges\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function property-access method\",children:\"map\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token parameter\",children:\"commentEdge\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003c\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Comment\"})]}),\" \",(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"comment\"}),(0,n.jsxs)(a.span,{className:\"token language-javascript script\",children:[(0,n.jsx)(a.span,{className:\"token punctuation script-punctuation\",children:\"=\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\"commentEdge\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token property-access\",children:\"node\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"/\u003e\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\"data\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token property-access\",children:\"comments\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token property-access\",children:\"pageInfo\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token property-access\",children:\"hasNextPage\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"\u0026\u0026\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003c\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"LoadMoreCommentsButton\"})]}),\" \",(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"onClick\"}),(0,n.jsxs)(a.span,{className:\"token language-javascript script\",children:[(0,n.jsx)(a.span,{className:\"token punctuation script-punctuation\",children:\"=\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\"onLoadMore\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"disabled\"}),(0,n.jsxs)(a.span,{className:\"token language-javascript script\",children:[(0,n.jsx)(a.span,{className:\"token punctuation script-punctuation\",children:\"=\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\"isPending\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"/\u003e\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\"isPending \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"\u0026\u0026\"}),\" \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003c\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"CommentsLoadingSpinner\"})]}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"/\u003e\"})]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token plain-text\",children:\"    \"}),(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token tag\",children:(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003c/\"})}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003e\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsx)(a.p,{children:\"\\uC989\\uAC01\\uC801\\uC778 \\uACB0\\uACFC\\uB97C \\uBD88\\uB7EC\\uC624\\uC9C0 \\uC54A\\uB294 \\uC720\\uC800 \\uC5D1\\uC158\\uC740 React transition\\uC73C\\uB85C \\uAC10\\uC2F8\\uC838\\uC57C\\uD569\\uB2C8\\uB2E4. \\uC774\\uB97C \\uD1B5\\uD574 React\\uB294 \\uC5EC\\uB7EC \\uC5C5\\uB370\\uC774\\uD2B8\\uB4E4\\uC5D0 \\uB300\\uD574\\uC11C \\uC6B0\\uC120\\uC21C\\uC704\\uD654\\uB97C \\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uC608\\uB97C \\uB4E4\\uBA74, \\uB9CC\\uC57D \\uB370\\uC774\\uD130\\uAC00 \\uC0AC\\uC6A9\\uAC00\\uB2A5\\uD574\\uC84C\\uC744\\uB54C React\\uB294 \\uC0C8\\uB85C\\uC6B4 \\uB313\\uAE00\\uB4E4\\uC744 \\uB80C\\uB354\\uB9C1\\uD560 \\uAC83 \\uC785\\uB2C8\\uB2E4. \\uADF8\\uB9AC\\uACE0 \\uC720\\uC800\\uB294 \\uB2E4\\uB978 \\uD398\\uC774\\uC9C0\\uB85C \\uB118\\uC5B4\\uAC00\\uAE30 \\uC704\\uD574 \\uB2E4\\uB978 \\uD0ED\\uC744 \\uD074\\uB9AD\\uD588\\uC2B5\\uB2C8\\uB2E4. \\uC774\\uB54C React\\uB294 \\uC0C8\\uB85C\\uC6B4 \\uB313\\uAE00\\uC744 \\uB80C\\uB354\\uB9C1\\uD558\\uC9C0 \\uC54A\\uACE0, \\uD398\\uC774\\uC9C0\\uB97C \\uC774\\uB3D9\\uD560 \\uAC83 \\uC785\\uB2C8\\uB2E4.\"}),(0,n.jsxs)(a.h2,{id:\"infinite-scrolling-newsfeed-stories\",children:[(0,n.jsx)(a.a,{href:\"#infinite-scrolling-newsfeed-stories\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"Infinite Scrolling Newsfeed Stories\"]}),(0,n.jsx)(a.p,{children:\"\\uB274\\uC2A4\\uD53C\\uB4DC\\uB294 \\uB313\\uAE00\\uC744 \\uB354 \\uBD88\\uB7EC\\uC624\\uB294 \\uAC83\\uACFC \\uBE44\\uC2B7\\uD569\\uB2C8\\uB2E4. \\uD558\\uC9C0\\uB9CC loadNext \\uD568\\uC218\\uAC00 \\uC720\\uC800\\uC758 \\uC2A4\\uD06C\\uB864\\uC5D0 \\uB530\\uB77C \\uC790\\uB3D9\\uC801\\uC73C\\uB85C \\uD638\\uCD9C\\uB41C\\uB2E4\\uB294 \\uC810\\uC5D0\\uC11C \\uB2E4\\uB985\\uB2C8\\uB2E4.\"}),(0,n.jsxs)(a.h3,{id:\"step-1---query\\uC5D0\\uC11C-connection-\\uD544\\uB4DC-\\uC120\\uD0DD\\uD558\\uAE30\",children:[(0,n.jsx)(a.a,{href:\"#step-1---query\\uC5D0\\uC11C-connection-\\uD544\\uB4DC-\\uC120\\uD0DD\\uD558\\uAE30\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"Step 1 - Query\\uC5D0\\uC11C Connection \\uD544\\uB4DC \\uC120\\uD0DD\\uD558\\uAE30\"]}),(0,n.jsx)(a.p,{children:\"\\uD604\\uC7AC \\uC571\\uC5D0\\uC11C\\uB294 \\uC0C1\\uB2E8\\uC5D0 3\\uAC1C\\uC758 \\uC2A4\\uD1A0\\uB9AC\\uB97C \\uBD88\\uB7EC\\uC624\\uAE30 \\uC704\\uD574\\uC11C, topStories\\uC758 \\uB8E8\\uD2B8 \\uD544\\uB4DC\\uB97C \\uC0AC\\uC6A9\\uD569\\uB2C8\\uB2E4. Schema \\uB610\\uD55C Viewer\\uC5D0\\uC11C newfeedStories \\uD544\\uB4DC\\uB97C \\uC81C\\uACF5\\uD569\\uB2C8\\uB2E4(\\uD574\\uB2F9 \\uD544\\uB4DC\\uB294 Connection \\uC785\\uB2C8\\uB2E4). Newsfeed \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uB97C \\uC218\\uC815\\uD574\\uC11C \\uC0C8\\uB85C\\uC6B4 \\uD544\\uB4DC\\uB97C \\uC0AC\\uC6A9\\uD560 \\uC218 \\uC788\\uB3C4\\uB85D \\uD574\\uBD05\\uC2DC\\uB2E4. Newsfeed.tsx\\uB97C \\uB2E4\\uC2DC \\uD55C \\uBC88 \\uBD05\\uC2DC\\uB2E4. GraphQL \\uCFFC\\uB9AC\\uB294 \\uB2E4\\uC74C\\uACFC \\uAC19\\uC2B5\\uB2C8\\uB2E4.\"}),(0,n.jsx)(a.pre,{className:\"language-tsx\",children:(0,n.jsxs)(a.code,{className:\"language-tsx code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(a.span,{className:\"token maybe-class-name\",children:\"NewsfeedQuery\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" graphql\",(0,n.jsxs)(a.span,{className:\"token template-string\",children:[(0,n.jsx)(a.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,n.jsx)(a.span,{className:\"token language-graphql graphql\",children:`\n`})]})]}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"query\"}),\" \",(0,n.jsx)(a.span,{className:\"token function definition-query\",children:\"NewsfeedQuery\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token object\",children:\"topStories\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token property\",children:\"id\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"...\"}),(0,n.jsx)(a.span,{className:\"token function fragment\",children:\"StoryFragment\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token template-string\",children:[(0,n.jsx)(a.span,{className:\"token language-graphql graphql\"}),(0,n.jsx)(a.span,{className:\"token string template-punctuation\",children:\"`\"})]}),`\n`]})]})}),(0,n.jsx)(a.p,{children:\"\\uD574\\uB2F9 \\uCFFC\\uB9AC\\uB97C \\uC544\\uB798\\uC640 \\uAC19\\uC774 \\uBC14\\uAFD4\\uBD05\\uC2DC\\uB2E4\"}),(0,n.jsx)(a.pre,{className:\"language-tsx\",children:(0,n.jsxs)(a.code,{className:\"language-tsx code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(a.span,{className:\"token maybe-class-name\",children:\"NewsfeedQuery\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" graphql\",(0,n.jsxs)(a.span,{className:\"token template-string\",children:[(0,n.jsx)(a.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,n.jsx)(a.span,{className:\"token language-graphql graphql\",children:`\n`})]})]}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"query\"}),\" \",(0,n.jsx)(a.span,{className:\"token function definition-query\",children:\"NewsfeedQuery\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token object\",children:\"viewer\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token property-query\",children:\"newsfeedStories\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"first\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"3\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token object\",children:\"edges\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"          \",(0,n.jsx)(a.span,{className:\"token object\",children:\"node\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token property\",children:\"id\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"...\"}),(0,n.jsx)(a.span,{className:\"token function fragment\",children:\"StoryFragment\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"          \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token template-string\",children:[(0,n.jsx)(a.span,{className:\"token language-graphql graphql\"}),(0,n.jsx)(a.span,{className:\"token string template-punctuation\",children:\"`\"})]}),`\n`]})]})}),(0,n.jsx)(a.p,{children:\"\\uC5EC\\uAE30\\uC11C \\uC6B0\\uB9AC\\uB294 topStories\\uB97C viewer\\uC758 newsfeedStories\\uB85C \\uAD50\\uCCB4\\uD588\\uC2B5\\uB2C8\\uB2E4. \\uADF8\\uB9AC\\uACE0 \\uCC98\\uC74C 3\\uAC1C\\uC758 \\uC2A4\\uD1A0\\uB9AC\\uB97C \\uBD88\\uB7EC\\uC624\\uB3C4\\uB85D first\\uB77C\\uB294 \\uC774\\uB984\\uC758 \\uC778\\uC790\\uB97C \\uCD94\\uAC00\\uD588\\uC2B5\\uB2C8\\uB2E4. \\uADF8 \\uC548\\uC5D0\\uC11C \\uC6B0\\uB9AC\\uB294 edge\\uB97C \\uC120\\uD0DD\\uD558\\uACE0 \\uB610\\uD55C node\\uB97C \\uC120\\uD0DD\\uD588\\uC2B5\\uB2C8\\uB2E4. \\uADF8\\uB9AC\\uACE0 \\uC774\\uC804\\uACFC \\uAC19\\uC774 \\uADF8 \\uC548\\uC5D0\\uC11C StoryFragment\\uB97C spread \\uD588\\uC2B5\\uB2C8\\uB2E4. \\uADF8\\uB9AC\\uACE0 id\\uB97C \\uC120\\uD0DD\\uD568\\uC73C\\uB85C\\uC368 React\\uC758 key\\uB85C \\uC0AC\\uC6A9\\uD560 \\uC218 \\uC788\\uB3C4\\uB85D \\uD588\\uC2B5\\uB2C8\\uB2E4.\"}),(0,n.jsxs)(a.h2,{id:\"step-2---map-over-the-edges-of-the-connection\",children:[(0,n.jsx)(a.a,{href:\"#step-2---map-over-the-edges-of-the-connection\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"Step 2 - Map over the Edges of the Connection\"]}),(0,n.jsx)(a.p,{children:\"Newsfeed \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uB97C \\uC218\\uC815\\uD574\\uC11C edge\\uB4E4\\uC758 node\\uB4E4\\uC744 \\uAC01\\uAC01 \\uB80C\\uB354\\uB9C1\\uD558\\uB3C4\\uB85D \\uD588\\uC2B5\\uB2C8\\uB2E4.\"}),(0,n.jsx)(a.pre,{className:\"language-tsx\",children:(0,n.jsxs)(a.code,{className:\"language-tsx code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"Newsfeed\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" data \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"useLazyLoadQuery\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token maybe-class-name\",children:\"NewsfeedFragment\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" storyEdges \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" data\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token property-access\",children:\"viewer\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token property-access\",children:\"newsfeedStories\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token property-access\",children:\"edges\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token tag\",children:(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003c\"})}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003e\"})]}),(0,n.jsx)(a.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\"storyEdges\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function property-access method\",children:\"map\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token parameter\",children:\"storyEdge\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003c\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Story\"})]}),\" \",(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"key\"}),(0,n.jsxs)(a.span,{className:\"token language-javascript script\",children:[(0,n.jsx)(a.span,{className:\"token punctuation script-punctuation\",children:\"=\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\"storyEdge\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token property-access\",children:\"node\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token property-access\",children:\"id\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"story\"}),(0,n.jsxs)(a.span,{className:\"token language-javascript script\",children:[(0,n.jsx)(a.span,{className:\"token punctuation script-punctuation\",children:\"=\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\"storyEdge\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token property-access\",children:\"node\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"/\u003e\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token plain-text\",children:\"    \"}),(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token tag\",children:(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003c/\"})}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003e\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(a.h2,{id:\"step-3---lower-newsfeed-into-a-fragment\",children:[(0,n.jsx)(a.a,{href:\"#step-3---lower-newsfeed-into-a-fragment\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"Step 3 - Lower Newsfeed into a Fragment\"]}),(0,n.jsx)(a.p,{children:\"Relay\\uC758 pagination \\uAE30\\uB2A5\\uC740 query \\uC804\\uCCB4\\uC5D0 \\uB300\\uD574\\uC11C \\uC791\\uB3D9\\uD558\\uC9C0 \\uC54A\\uACE0, fragment\\uB4E4\\uC5D0 \\uB300\\uD574\\uC11C\\uB9CC \\uC791\\uB3D9\\uD569\\uB2C8\\uB2E4. \\uC65C\\uB0D0\\uD558\\uBA74, \\uC6B0\\uB9AC\\uB294 \\uAC04\\uB2E8\\uD55C \\uC608\\uC81C \\uC571\\uC5D0\\uC11C \\uCFFC\\uB9AC\\uB97C \\uD558\\uB098\\uB9CC \\uC0AC\\uC6A9\\uD558\\uC9C0\\uB9CC, \\uC2E4\\uC81C \\uC5B4\\uD50C\\uB9AC\\uCF00\\uC774\\uC158\\uC5D0\\uC11C\\uB294 query\\uB294 \\uACE0\\uC218\\uC900\\uC758 \\uB77C\\uC6B0\\uD305 \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC5D0\\uC11C \\uBC1C\\uD589\\uB418\\uAE30 \\uB54C\\uBB38\\uC785\\uB2C8\\uB2E4(\\uADF8\\uB9AC\\uACE0 paginate\\uB41C \\uB9AC\\uC2A4\\uD2B8\\uB97C \\uBCF4\\uC5EC\\uC8FC\\uB294 \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uB294 \\uAC70\\uC758 \\uAC19\\uC740 \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uAC00 \\uC544\\uB2D9\\uB2C8\\uB2E4).\"}),(0,n.jsx)(a.p,{children:\"\\uC774\\uB7F0 \\uBD80\\uBD84\\uB4E4\\uC774 \\uC791\\uB3D9\\uD558\\uB3C4\\uB85D \\uD558\\uAE30 \\uC704\\uD574\\uC11C, NewsfeedQuery\\uB97C fragment\\uB85C \\uB098\\uB234\\uC2B5\\uB2C8\\uB2E4. \\uADF8\\uB9AC\\uACE0 \\uD574\\uB2F9 fragment\\uB294 NewsfeedContentsFragment \\uC785\\uB2C8\\uB2E4.\"}),(0,n.jsx)(a.pre,{className:\"language-tsx\",children:(0,n.jsxs)(a.code,{className:\"language-tsx code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(a.span,{className:\"token maybe-class-name\",children:\"NewsfeedQuery\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" graphql\",(0,n.jsxs)(a.span,{className:\"token template-string\",children:[(0,n.jsx)(a.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,n.jsx)(a.span,{className:\"token language-graphql graphql\",children:`\n`})]})]}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"query\"}),\" \",(0,n.jsx)(a.span,{className:\"token function definition-query\",children:\"NewsfeedQuery\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"...\"}),(0,n.jsx)(a.span,{className:\"token function fragment\",children:\"NewsfeedContentsFragment\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token template-string\",children:[(0,n.jsx)(a.span,{className:\"token language-graphql graphql\"}),(0,n.jsx)(a.span,{className:\"token string template-punctuation\",children:\"`\"})]}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(a.span,{className:\"token maybe-class-name\",children:\"NewsfeedContentsFragment\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" graphql\",(0,n.jsxs)(a.span,{className:\"token template-string\",children:[(0,n.jsx)(a.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,n.jsx)(a.span,{className:\"token language-graphql graphql\",children:`\n`})]})]}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"fragment\"}),\" \",(0,n.jsx)(a.span,{className:\"token function fragment\",children:\"NewsfeedContentsFragment\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"on\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Query\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token object\",children:\"viewer\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token object\",children:\"newsfeedStories\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token object\",children:\"edges\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"          \",(0,n.jsx)(a.span,{className:\"token object\",children:\"node\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token property\",children:\"id\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"...\"}),(0,n.jsx)(a.span,{className:\"token function fragment\",children:\"StoryFragment\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"          \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token template-string\",children:[(0,n.jsx)(a.span,{className:\"token language-graphql graphql\"}),(0,n.jsx)(a.span,{className:\"token string template-punctuation\",children:\"`\"})]}),`\n`]})]})}),(0,n.jsxs)(a.p,{children:[\"\\uADF8\\uB9AC\\uACE0 \\uBAA8\\uB4E0 GraphQL schema\\uB294 \\uAC00\\uC7A5 \\uACE0\\uC218\\uC900\\uC758 \\uD544\\uB4DC\\uC758 \\uD0C0\\uC785\\uC744 \\uB098\\uD0C0\\uB0B4\\uB294 Query \\uD0C0\\uC785\\uC744 \\uAC00\\uC9C0\\uACE0 \\uC788\\uC2B5\\uB2C8\\uB2E4. fragment\\uB97C \",(0,n.jsx)(a.code,{children:\"on Query\"}),\"\\uB85C \\uC815\\uC758\\uD568\\uC73C\\uB85C\\uC368, \\uCD5C\\uC0C1\\uB2E8\\uC758 Query\\uC5D0 \\uB300\\uD55C fragment\\uB97C \\uC815\\uC758\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"]}),(0,n.jsx)(a.p,{children:\"Newsfeed \\uC548\\uC5D0\\uC11C\\uB294, useLazyLoadQuery\\uC640 useFragment \\uBAA8\\uB450 \\uD638\\uCD9C\\uD588\\uC2B5\\uB2C8\\uB2E4. \\uD558\\uC9C0\\uB9CC \\uC2E4 \\uC5B4\\uD50C\\uB9AC\\uCF00\\uC774\\uC158\\uC5D0\\uC11C\\uB294 \\uBCF4\\uD1B5 \\uB450 Hook\\uC740 \\uB2E4\\uB978 \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC5D0\\uC11C \\uD638\\uCD9C\\uB429\\uB2C8\\uB2E4.\"}),(0,n.jsx)(a.pre,{className:\"language-tsx\",children:(0,n.jsxs)(a.code,{className:\"language-tsx code-highlight\",children:[(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"export\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"default\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"Newsfeed\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" queryData \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"useLazyLoadQuery\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token maybe-class-name\",children:\"NewsfeedFragment\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" data \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"useFragment\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token maybe-class-name\",children:\"NewsfeedContentsFragment\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" queryData\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" storyEdges \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" data\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token property-access\",children:\"newsfeedStories\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token property-access\",children:\"edges\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token operator spread\",children:\"...\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`\n`})]})}),(0,n.jsxs)(a.h2,{id:\"step-4---augment-the-fragment-for-pagination\",children:[(0,n.jsx)(a.a,{href:\"#step-4---augment-the-fragment-for-pagination\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"Step 4 - Augment the Fragment for Pagination\"]}),(0,n.jsx)(a.p,{children:\"\\uC774\\uC81C \\uC6B0\\uB9AC\\uB294 \\uC2A4\\uD1A0\\uB9AC\\uB97C \\uC704\\uD574\\uC11C Connection field\\uB97C \\uC0AC\\uC6A9\\uD558\\uACE0 \\uC788\\uACE0, \\uB610\\uD55C fragment\\uB4E4\\uB85C \\uB9CC\\uB4E4\\uC5C8\\uC2B5\\uB2C8\\uB2E4. \\uC774\\uC81C Pagination\\uC744 \\uC9C0\\uC6D0\\uD558\\uB3C4\\uB85D \\uC218\\uC815\\uD574\\uBD05\\uC2DC\\uB2E4. \\uB9C8\\uC9C0\\uB9C9 \\uC608\\uC2DC\\uC640 \\uB611\\uAC19\\uC774 \\uC0DD\\uAC01\\uD558\\uBA74 \\uB429\\uB2C8\\uB2E4. \\uC6B0\\uB9AC\\uB294 \\uB2E4\\uC74C\\uACFC \\uAC19\\uC740 \\uAC83\\uC744 \\uD574\\uC57C\\uD569\\uB2C8\\uB2E4\"}),(0,n.jsxs)(a.ul,{children:[(0,n.jsx)(a.li,{children:\"page \\uC0AC\\uC774\\uC988\\uC640 cursor\\uC5D0 \\uB300\\uD574\\uC11C fragment \\uC778\\uC790 \\uCD94\\uAC00\\uD558\\uAE30(first\\uC640 after)\"}),(0,n.jsx)(a.li,{children:\"\\uC704\\uC758 \\uC778\\uC790\\uB4E4\\uC744 field \\uC778\\uC790\\uB85C\\uC368 newsfeedStories \\uD544\\uB4DC\\uC5D0 \\uB123\\uC5B4\\uC8FC\\uAE30\"}),(0,n.jsx)(a.li,{children:\"fragment\\uB97C @refetchable\\uB85C \\uD45C\\uC2DC\\uD558\\uAE30\"}),(0,n.jsx)(a.li,{children:\"newsfeedStories \\uD544\\uB4DC\\uB294 @connection\\uC774\\uB77C \\uD45C\\uC2DC\\uD558\\uAE30\"})]}),(0,n.jsx)(a.p,{children:\"\\uADF8\\uB7EC\\uBA74 \\uC544\\uB798\\uC640 \\uAC19\\uC740 \\uD615\\uD0DC\\uAC00 \\uB420 \\uAC83 \\uC785\\uB2C8\\uB2E4.\"}),(0,n.jsx)(a.pre,{className:\"language-tsx\",children:(0,n.jsxs)(a.code,{className:\"language-tsx code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(a.span,{className:\"token maybe-class-name\",children:\"NewsfeedContentsFragment\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" graphql\",(0,n.jsxs)(a.span,{className:\"token template-string\",children:[(0,n.jsx)(a.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,n.jsx)(a.span,{className:\"token language-graphql graphql\",children:`\n`})]})]}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"fragment\"}),\" \",(0,n.jsx)(a.span,{className:\"token function fragment\",children:\"NewsfeedContentsFragment\"}),\" \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"on\"}),\" \",(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Query\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token function directive\",children:\"@argumentDefinitions\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"cursor\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"type\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"String\"'}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"count\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"type\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"Int\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"defaultValue\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token number\",children:\"3\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token function directive\",children:\"@refetchable\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"queryName\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"NewsfeedContentsRefetchQuery\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token object\",children:\"viewer\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token property-query\",children:\"newsfeedStories\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"after\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token variable\",children:\"$cursor\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"first\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token variable\",children:\"$count\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token function directive\",children:\"@connection\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"key\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,n.jsx)(a.span,{className:\"token string\",children:'\"NewsfeedContentsFragment_newsfeedStories\"'}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token object\",children:\"edges\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"          \",(0,n.jsx)(a.span,{className:\"token object\",children:\"node\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token property\",children:\"id\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"            \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"...\"}),(0,n.jsx)(a.span,{className:\"token function fragment\",children:\"StoryFragment\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"          \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsx)(a.span,{className:\"token template-string\",children:(0,n.jsxs)(a.span,{className:\"token language-graphql graphql\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token template-string\",children:[(0,n.jsx)(a.span,{className:\"token language-graphql graphql\"}),(0,n.jsx)(a.span,{className:\"token string template-punctuation\",children:\"`\"})]}),`\n`]})]})}),(0,n.jsxs)(a.h2,{id:\"step-5---usepaginationfragment-\\uD638\\uCD9C\\uD558\\uAE30\",children:[(0,n.jsx)(a.a,{href:\"#step-5---usepaginationfragment-\\uD638\\uCD9C\\uD558\\uAE30\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"Step 5 - usePaginationFragment \\uD638\\uCD9C\\uD558\\uAE30\"]}),(0,n.jsx)(a.p,{children:\"\\uC774\\uC81C NewsfeedContent \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC5D0\\uC11C usePaginationFragment\\uB97C \\uD638\\uCD9C\\uD558\\uB3C4\\uB85D \\uB9CC\\uB4ED\\uB2C8\\uB2E4\"}),(0,n.jsx)(a.pre,{className:\"language-tsx\",children:(0,n.jsxs)(a.code,{className:\"language-tsx code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"NewsfeedContents\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(a.span,{className:\"token parameter\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\" viewer \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"})]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\" data\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" loadNext \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"usePaginationFragment\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token maybe-class-name\",children:\"NewsfeedFragment\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" viewer\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" storyEdges \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" data\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token property-access\",children:\"newsfeedStories\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token property-access\",children:\"edges\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token tag\",children:(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003c\"})}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003e\"})]}),(0,n.jsx)(a.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\"storyEdges\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function property-access method\",children:\"map\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token parameter\",children:\"storyEdge\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003c\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Story\"})]}),\" \",(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"key\"}),(0,n.jsxs)(a.span,{className:\"token language-javascript script\",children:[(0,n.jsx)(a.span,{className:\"token punctuation script-punctuation\",children:\"=\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\"storyEdge\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token property-access\",children:\"node\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token property-access\",children:\"id\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"story\"}),(0,n.jsxs)(a.span,{className:\"token language-javascript script\",children:[(0,n.jsx)(a.span,{className:\"token punctuation script-punctuation\",children:\"=\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\"storyEdge\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token property-access\",children:\"node\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"/\u003e\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token plain-text\",children:\"    \"}),(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token tag\",children:(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003c/\"})}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003e\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(a.h2,{id:\"step-6---scroll-trigger\\uB97C-\\uC774\\uC6A9\\uD574\\uC11C-paginate-\\uD558\\uAE30\",children:[(0,n.jsx)(a.a,{href:\"#step-6---scroll-trigger\\uB97C-\\uC774\\uC6A9\\uD574\\uC11C-paginate-\\uD558\\uAE30\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"Step 6 - Scroll Trigger\\uB97C \\uC774\\uC6A9\\uD574\\uC11C Paginate \\uD558\\uAE30\"]}),(0,n.jsx)(a.p,{children:\"InfiniteScrollTrigger\\uB77C\\uB294 \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uB97C \\uC81C\\uACF5\\uD558\\uACE0 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uD574\\uB2F9 \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uB294 \\uC2A4\\uD06C\\uB864\\uC774 \\uB05D\\uC5D0 \\uB3C4\\uB2EC\\uD588\\uC744 \\uB54C, \\uCF5C\\uBC31\\uC744 \\uD638\\uCD9C\\uD569\\uB2C8\\uB2E4. \\uADF8\\uB9AC\\uACE0 \\uC6B0\\uB9AC\\uB294 \\uC774\\uB54C loadNext\\uB97C \\uD638\\uCD9C\\uD560 \\uAC83 \\uC785\\uB2C8\\uB2E4. \\uADF8\\uB807\\uAC8C \\uD558\\uAE30 \\uC704\\uD574\\uC11C\\uB294, \\uB2E4\\uC74C \\uD398\\uC774\\uC9C0\\uAC00 \\uC788\\uB294\\uC9C0 \\uC54C\\uC544\\uC57C\\uD558\\uBA70, usePaginationFragment\\uB85C \\uBD80\\uD130 \\uBC18\\uD658\\uB41C \\uAC12\\uC73C\\uB85C \\uD310\\uB2E8\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"}),(0,n.jsx)(a.pre,{className:\"language-tsx\",children:(0,n.jsxs)(a.code,{className:\"language-tsx code-highlight\",children:[(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"NewsfeedContents\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(a.span,{className:\"token parameter\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\" query \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"})]}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\" data\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" loadNext\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" hasNext\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),\" isLoadingNext \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"usePaginationFragment\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token maybe-class-name\",children:\"NewsfeedContentsFragment\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,n.jsx)(a.span,{className:\"code-line\",children:`    query\n`}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(a.span,{className:\"token function\",children:\"onEndReached\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(a.span,{className:\"token function\",children:\"loadNext\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token number\",children:\"3\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"const\"}),\" storyEdges \",(0,n.jsx)(a.span,{className:\"token operator\",children:\"=\"}),\" data\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token property-access\",children:\"viewer\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token property-access\",children:\"newsfeedStories\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token property-access\",children:\"edges\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"    \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token tag\",children:(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003c\"})}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003e\"})]}),(0,n.jsx)(a.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\"storyEdges\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token function property-access method\",children:\"map\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(a.span,{className:\"token parameter\",children:\"storyEdge\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(a.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"        \",(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003c\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"Story\"})]}),\" \",(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"key\"}),(0,n.jsxs)(a.span,{className:\"token language-javascript script\",children:[(0,n.jsx)(a.span,{className:\"token punctuation script-punctuation\",children:\"=\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\"storyEdge\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token property-access\",children:\"node\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token property-access\",children:\"id\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"story\"}),(0,n.jsxs)(a.span,{className:\"token language-javascript script\",children:[(0,n.jsx)(a.span,{className:\"token punctuation script-punctuation\",children:\"=\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\"storyEdge\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(a.span,{className:\"token property-access\",children:\"node\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"/\u003e\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(a.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token plain-text\",children:\"      \"}),(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003c\"}),(0,n.jsx)(a.span,{className:\"token class-name\",children:\"InfiniteScrollTrigger\"})]}),`\n`]})]}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsxs)(a.span,{className:\"token tag\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"onEndReached\"}),(0,n.jsxs)(a.span,{className:\"token language-javascript script\",children:[(0,n.jsx)(a.span,{className:\"token punctuation script-punctuation\",children:\"=\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\"onEndReached\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"})]}),`\n`]})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsxs)(a.span,{className:\"token tag\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"hasNext\"}),(0,n.jsxs)(a.span,{className:\"token language-javascript script\",children:[(0,n.jsx)(a.span,{className:\"token punctuation script-punctuation\",children:\"=\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\"hasNext\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"})]}),`\n`]})}),(0,n.jsx)(a.span,{className:\"code-line\",children:(0,n.jsxs)(a.span,{className:\"token tag\",children:[\"        \",(0,n.jsx)(a.span,{className:\"token attr-name\",children:\"isLoadingNext\"}),(0,n.jsxs)(a.span,{className:\"token language-javascript script\",children:[(0,n.jsx)(a.span,{className:\"token punctuation script-punctuation\",children:\"=\"}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"{\"}),\"isLoadingNext\",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"})]}),`\n`]})}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsxs)(a.span,{className:\"token tag\",children:[\"      \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"/\u003e\"})]}),(0,n.jsx)(a.span,{className:\"token plain-text\",children:`\n`})]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token plain-text\",children:\"    \"}),(0,n.jsxs)(a.span,{className:\"token tag\",children:[(0,n.jsx)(a.span,{className:\"token tag\",children:(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003c/\"})}),(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"\u003e\"})]}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(a.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(a.span,{className:\"code-line\",children:[(0,n.jsx)(a.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsx)(a.p,{children:\"\\uC774\\uC81C \\uC2E4\\uC81C \\uB274\\uC2A4\\uD53C\\uB4DC \\uC571\\uCC98\\uB7FC \\uB3D9\\uC791\\uD558\\uB294 \\uAC83\\uC744 \\uBCFC \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"}),(0,n.jsxs)(a.h2,{id:\"\\uC694\\uC57D\",children:[(0,n.jsx)(a.a,{href:\"#\\uC694\\uC57D\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(a.span,{className:\"icon icon-link\"})}),\"\\uC694\\uC57D\"]}),(0,n.jsxs)(a.ul,{children:[(0,n.jsx)(a.li,{children:\"Connection\\uC740 paginate \\uD560 \\uC218 \\uC788\\uB294 \\uBAA9\\uB85D\\uB4E4\\uC5D0 \\uB300\\uD55C Relay\\uAC00 \\uC0AC\\uC6A9\\uD558\\uB294 schema \\uCEE8\\uBCA4\\uC158\\uC785\\uB2C8\\uB2E4.\"}),(0,n.jsx)(a.li,{children:\"\\uB2E8\\uC21C\\uD55C \\uB9AC\\uC2A4\\uD2B8\\uB97C \\uC0AC\\uC6A9\\uD558\\uB294 \\uAC83 \\uBCF4\\uB2E4 schema \\uC548\\uC5D0\\uC11C Connection\\uC744 \\uC0AC\\uC6A9\\uD558\\uB294 \\uAC83\\uC774 \\uB354 \\uC88B\\uC2B5\\uB2C8\\uB2E4. \\uD544\\uC694\\uD560 \\uB54C\\uB9CC paginate \\uD560 \\uC218 \\uC788\\uAE30 \\uB54C\\uBB38\\uC785\\uB2C8\\uB2E4.\"})]}),(0,n.jsx)(a.p,{children:\"\\uB2E4\\uC74C\\uC73C\\uB85C, \\uC11C\\uBC84\\uC758 \\uB370\\uC774\\uD130\\uB97C \\uC5B4\\uB5BB\\uAC8C \\uC5C5\\uB370\\uC774\\uD2B8 \\uD558\\uB294\\uC9C0 \\uC54C\\uC544\\uBCF4\\uACA0\\uC2B5\\uB2C8\\uB2E4. \\uC5B4\\uB5BB\\uAC8C \\uAE30\\uC874 Connection\\uC5D0 \\uC0C8\\uB85C\\uC6B4 \\uB178\\uB4DC\\uB97C \\uCD94\\uAC00\\uD560 \\uC218 \\uC788\\uB294\\uC9C0 \\uC54C\\uC544\\uBCFC \\uAC83 \\uC785\\uB2C8\\uB2E4.\"})]})}}var f=q;return w;})();\n;return Component;","toc":[{"value":"GraphQL Connections \u0026 Pagination","url":"#graphql-connections--pagination","depth":2},{"value":"\"Load More Comments\" 기능 구현","url":"#load-more-comments-기능-구현","depth":2},{"value":"Augmenting the Fragment","url":"#augmenting-the-fragment","depth":2},{"value":"The usePaginationFragment Hook","url":"#the-usepaginationfragment-hook","depth":2},{"value":"useTransition Hook을 사용해서 로딩 과정 개선하기","url":"#usetransition-hook을-사용해서-로딩-과정-개선하기","depth":2},{"value":"Infinite Scrolling Newsfeed Stories","url":"#infinite-scrolling-newsfeed-stories","depth":2},{"value":"Step 1 - Query에서 Connection 필드 선택하기","url":"#step-1---query에서-connection-필드-선택하기","depth":3},{"value":"Step 2 - Map over the Edges of the Connection","url":"#step-2---map-over-the-edges-of-the-connection","depth":2},{"value":"Step 3 - Lower Newsfeed into a Fragment","url":"#step-3---lower-newsfeed-into-a-fragment","depth":2},{"value":"Step 4 - Augment the Fragment for Pagination","url":"#step-4---augment-the-fragment-for-pagination","depth":2},{"value":"Step 5 - usePaginationFragment 호출하기","url":"#step-5---usepaginationfragment-호출하기","depth":2},{"value":"Step 6 - Scroll Trigger를 이용해서 Paginate 하기","url":"#step-6---scroll-trigger를-이용해서-paginate-하기","depth":2},{"value":"요약","url":"#요약","depth":2}],"frontMatter":{"readingTime":{"text":"18 min read","minutes":17.025,"time":1021500,"words":3405},"slug":"backend/graphql-connections-n-pagination","fileName":"backend/graphql-connections-n-pagination.mdx","title":"[번역] Relay - Graphql Connections \u0026 Pagination","date":"2023-01-26T00:00:00.000Z","tags":["graphql","relay"],"draft":false,"summary":"Relay 문서의 Graphql Connections \u0026 Pagination 항목 번역","images":[],"layout":"PostLayout"}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.425,"time":25500,"words":85},"slug":["default"],"fileName":"default.mdx","name":"Kim, Dong-Wook","avatar":"/static/images/avatar.png","occupation":"Frontend Developer","company":"Krafton Inc.","email":"woody.morgan.crafts@gmail.com","linkedin":"https://www.linkedin.com/in/woody-morgan/","github":"https://github.com/woody-morgan","date":null}],"prev":{"title":"[번역] Relay - Graphql Queries for Interactions","date":"2023-01-09T08:10:00.000Z","tags":["graphql","relay"],"draft":false,"summary":"Relay 문서의 Graphql Queries for Interactions 항목 번역","images":[],"layout":"PostLayout","slug":"backend/graphql-queries-for-interactions"},"next":{"title":"Declarative Programming With React. Part 1","date":"2023-05-31T00:00:00.000Z","tags":["declarative","algebraic effect","reactjs","suspense"],"draft":false,"summary":"React Suspense와 Compound Component Pattern으로 알아보는 선언적 프로그래밍(feat. 대수적 효과)","images":[],"layout":"PostLayout","slug":"project/declarative-programming-part1"}},"__N_SSG":true},"page":"/blog/[...slug]","query":{"slug":["backend","graphql-connections-n-pagination"]},"buildId":"TVO3Lgkr23w8dbV9TCWmC","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>