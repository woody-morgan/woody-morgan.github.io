<!DOCTYPE html><html lang="en" class="scroll-smooth"><head><link rel="apple-touch-icon" sizes="76x76" href="/static/favicons/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/static/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/static/favicons/favicon-16x16.png"/><link rel="manifest" href="/static/favicons/site.webmanifest"/><link rel="mask-icon" href="/static/favicons/safari-pinned-tab.svg" color="#5bbad5"/><meta name="msapplication-TileColor" content="#000000"/><meta name="theme-color" content="#000000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"/><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');if("system"===e||(!e&&true)){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else if(e) d.add(e)}catch(e){}}()</script><meta content="width=device-width, initial-scale=1" name="viewport"/><title>[번역] Relay - Graphql Queries</title><meta name="robots" content="follow, index"/><meta name="description" content="Relay 문서의 Graphql Queries 항목 번역"/><meta property="og:url" content="https://woody-morgan.github.io//blog/backend/graphql-queries"/><meta property="og:type" content="article"/><meta property="og:site_name" content="woody-morgan.github.io"/><meta property="og:description" content="Relay 문서의 Graphql Queries 항목 번역"/><meta property="og:title" content="[번역] Relay - Graphql Queries"/><meta property="og:image" content="https://woody-morgan.github.io//static/images/avatar.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site"/><meta name="twitter:title" content="[번역] Relay - Graphql Queries"/><meta name="twitter:description" content="Relay 문서의 Graphql Queries 항목 번역"/><meta name="twitter:image" content="https://woody-morgan.github.io//static/images/avatar.png"/><meta property="article:published_time" content="2023-01-04T00:00:00.000Z"/><link rel="canonical" href="https://woody-morgan.github.io//blog/backend/graphql-queries"/><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "Article",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://woody-morgan.github.io//blog/backend/graphql-queries"
  },
  "headline": "[번역] Relay - Graphql Queries",
  "image": [
    {
      "@type": "ImageObject",
      "url": "https://woody-morgan.github.io//static/images/avatar.png"
    }
  ],
  "datePublished": "2023-01-04T00:00:00.000Z",
  "dateModified": "2023-01-04T00:00:00.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "Kim, Dong-Wook"
    }
  ],
  "publisher": {
    "@type": "Organization",
    "name": "woody morgan",
    "logo": {
      "@type": "ImageObject",
      "url": "https://woody-morgan.github.io//static/images/logo.png"
    }
  },
  "description": "Relay 문서의 Graphql Queries 항목 번역"
}</script><meta name="next-head-count" content="20"/><link rel="preload" href="/_next/static/css/35c5c6636e0e5fd1.css" as="style"/><link rel="stylesheet" href="/_next/static/css/35c5c6636e0e5fd1.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-7b5e3b538b1441e1.js" defer=""></script><script src="/_next/static/chunks/main-63e2e8f7580e9625.js" defer=""></script><script src="/_next/static/chunks/pages/_app-565e4f5351bb39dd.js" defer=""></script><script src="/_next/static/chunks/860-5d67c27e6b591244.js" defer=""></script><script src="/_next/static/chunks/800-b0aa0e93ac41918c.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5B...slug%5D-f0fe9f9fb583fc8f.js" defer=""></script><script src="/_next/static/pin5XU8JHb5SU8uL0Jiye/_buildManifest.js" defer=""></script><script src="/_next/static/pin5XU8JHb5SU8uL0Jiye/_ssgManifest.js" defer=""></script><script src="/_next/static/pin5XU8JHb5SU8uL0Jiye/_middlewareManifest.js" defer=""></script></head><body class="bg-white text-black antialiased dark:bg-gray-900 dark:text-white"><div id="__next" data-reactroot=""><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="flex h-screen flex-col justify-between"><header class="flex items-center justify-between py-10"><div><a aria-label="Woody Morgan" href="/"><div class="flex items-center justify-between"><div class="mr-3"><svg xmlns="http://www.w3.org/2000/svg" class="flex text-gray-900 dark:text-gray-100" viewBox="0 0 128 128" width="48" height="48" fill="currentColor"><g transform="translate(0.000000,132.000000) scale(0.100000,-0.100000)"><path d="M523 1126 c-181 -44 -334 -202 -372 -384 -35 -166 15 -330 138 -453 199 -199 503 -199 702 0 199 199 199 503 0 702 -126 126 -299 176 -468 135z m259 -57 c191 -64 308 -227 308 -429 0 -256 -194 -450 -450 -450 -256 0 -450 194 -450 450 0 200 116 364 305 429 82 28 204 28 287 0z"></path><path d="M533 1006 c-104 -34 -194 -114 -241 -214 -23 -49 -27 -70 -27 -152 0 -87 3 -101 32 -161 39 -80 111 -150 191 -187 49 -23 70 -27 152 -27 87 0 101 3 161 32 80 39 150 111 187 191 23 49 27 70 27 152 0 82 -4 103 -27 152 -37 79 -108 152 -185 190 -54 26 -79 32 -146 35 -51 2 -98 -2 -124 -11z m89 -93 c2 -44 7 -58 18 -58 11 0 16 14 18 58 3 53 5 57 27 57 53 0 136 -42 190 -95 53 -54 95 -137 95 -190 0 -22 -4 -24 -57 -27 -44 -2 -58 -7 -58 -18 0 -11 14 -16 58 -18 53 -3 57 -5 57 -27 0 -53 -42 -136 -95 -190 -54 -53 -137 -95 -190 -95 -22 0 -24 4 -27 58 -2 43 -7 57 -18 57 -11 0 -16 -14 -18 -57 -3 -54 -5 -58 -27 -58 -53 0 -136 42 -190 95 -53 54 -95 137 -95 190 0 22 4 24 58 27 43 2 57 7 57 18 0 11 -14 16 -57 18 -54 3 -58 5 -58 27 0 13 9 50 21 80 38 103 166 203 261 204 26 1 27 -1 30 -56z"></path><path d="M664 839 c-8 -13 12 -32 64 -61 17 -9 42 -35 57 -58 26 -42 47 -48 53 -16 11 57 -146 180 -174 135z"></path><path d="M513 754 c-3 -9 5 -26 21 -43 19 -20 26 -38 26 -67 0 -54 31 -84 86 -84 33 0 46 -7 74 -35 37 -38 70 -46 70 -17 0 10 -16 33 -35 52 -29 28 -35 41 -35 75 0 55 -31 85 -86 85 -30 0 -47 6 -64 25 -27 29 -48 32 -57 9z m157 -89 c26 -32 -13 -81 -47 -59 -35 22 -23 74 17 74 10 0 23 -7 30 -15z"></path></g></svg></div><div class="hidden h-6 text-2xl font-semibold sm:block">Woody Morgan</div></div></a></div><div class="flex items-center text-base leading-5"><div class="hidden sm:block"><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/blog">Blog</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/tags">Tags</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/projects">Projects</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/about">About</a></div><button aria-label="Toggle Dark Mode" type="button" class="ml-1 mr-1 h-8 w-8 rounded p-1 sm:ml-4"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100" opacity="0"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg></button><div class="sm:hidden"><button type="button" class="ml-1 mr-1 h-8 w-8 rounded py-1" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg></button><div class="fixed top-24 right-0 z-[1000] h-full w-full transform bg-gray-200 opacity-95 duration-300 ease-in-out dark:bg-gray-800 translate-x-full"><button type="button" aria-label="toggle modal" class="fixed h-full w-full cursor-auto focus:outline-none"></button><nav class="fixed mt-8 h-full"><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/blog">Blog</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/tags">Tags</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/projects">Projects</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/about">About</a></div></nav></div></div></div></header><main class="mb-auto"><div style="opacity:1"><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><article><div class="xl:divide-y xl:divide-gray-200 xl:dark:divide-gray-700"><header class="pt-6 xl:pb-6"><div class="space-y-1 text-center"><dl class="space-y-10"><div><dt class="sr-only">Published on</dt><dd class="text-base font-medium leading-6 text-gray-500 dark:text-gray-400"><time dateTime="2023-01-04T00:00:00.000Z">2023년 1월 4일 수요일</time></dd></div></dl><div><h1 class="text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14">[번역] Relay - Graphql Queries</h1></div></div></header><div class="divide-y divide-gray-200 pb-8 dark:divide-gray-700 xl:grid xl:grid-cols-4 xl:gap-x-6 xl:divide-y-0" style="grid-template-rows:auto 1fr"><dl class="pt-6 pb-10 xl:border-b xl:border-gray-200 xl:pt-11 xl:dark:border-gray-700"><dt class="sr-only">Authors</dt><dd><ul class="flex justify-center space-x-8 sm:space-x-12 xl:block xl:space-x-0 xl:space-y-8"><li class="flex items-center space-x-2"><img src="/static/images/avatar.png" width="38px" height="38px" alt="avatar" class="h-10 w-10 rounded-full"/><dl class="whitespace-nowrap text-sm font-medium leading-5"><dt class="sr-only">Name</dt><dd class="text-gray-900 dark:text-gray-100">Kim, Dong-Wook</dd><dt class="sr-only">Twitter</dt><dd></dd></dl></li></ul></dd></dl><div class="divide-y divide-gray-200 dark:divide-gray-700 xl:col-span-3 xl:row-span-2 xl:pb-0"><div class="prose max-w-none pt-10 pb-8 dark:prose-dark"><h2 id="graphql-queries"><a href="#graphql-queries" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>GraphQL Queries</h2><p>GraphQL Query란 GraphQL 서버로부터 쿼리하고 싶은 데이터의 설명서 입니다. 이것은 여러 필드들의 집합으로 구성되어 있습니다(잠재적으로 Fragment가 될 수 있습니다). 우리가 쿼리할 수 있는 것은 서버로부터 노출된 GraphQL Schema에 의존합니다.</p><p>쿼리는 네트워크 요청을 통해 전달될 수 있으며, 쿼리가 사용하는 변수를 가지고 데이터를 불러올 수 있습니다. 서버는 우리가 보낸 query의 형태에 맞춰서 JSON 객체를 응답할 것 입니다.</p><div class="relative"><pre><code class="language-graphql code-highlight"><span class="code-line"><span class="token keyword">query</span> <span class="token function definition-query">UserQuery</span><span class="token punctuation">(</span><span class="token variable">$id</span><span class="token punctuation">:</span> <span class="token scalar">ID</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property-query">user</span><span class="token punctuation">(</span><span class="token attr-name">id</span><span class="token punctuation">:</span> <span class="token variable">$id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property">id</span>
</span><span class="code-line">    <span class="token property">name</span>
</span><span class="code-line">    <span class="token operator">...</span><span class="token function fragment">UserFragment</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token object">viewer</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token object">actor</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token property">name</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">fragment</span> <span class="token function fragment">UserFragment</span> <span class="token keyword">on</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property">username</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>예시 응답</p><div class="relative"><pre><code class="code-highlight language-json"><span class="code-line">
</span><span class="code-line">query UserQuery($id<span class="token operator">:</span> ID!) <span class="token punctuation">{</span>
</span><span class="code-line">  user(id<span class="token operator">:</span> $id) <span class="token punctuation">{</span>
</span><span class="code-line">    id
</span><span class="code-line">    name
</span><span class="code-line">    ...UserFragment
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">  viewer <span class="token punctuation">{</span>
</span><span class="code-line">    actor <span class="token punctuation">{</span>
</span><span class="code-line">      name
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">fragment UserFragment on User <span class="token punctuation">{</span>
</span><span class="code-line">  username
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span></code></pre></div><h2 id="rendering-queries"><a href="#rendering-queries" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Rendering Queries</h2><p>Relay에서 query를 렌더링하기 위해서 <code>usePreloadedQuery</code> Hook을 사용할 수 있습니다. <code>usePreloadedQuery</code> Hook은 query definition과 query reference를 가지며, 이것에 부합하는 데이터를 반환합니다</p><div class="relative"><pre><code class="language-tsx code-highlight"><span class="code-line"><span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> <span class="token maybe-class-name">HomeTabQuery</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;HomeTabQuery.graphql&#x27;</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span> <span class="token maybe-class-name">PreloadedQuery</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;react-relay&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> <span class="token maybe-class-name">React</span> <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">&#x27;React&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">const</span> <span class="token punctuation">{</span> graphql<span class="token punctuation">,</span> usePreloadedQuery <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">&#x27;react-relay&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">type</span> <span class="token class-name">Props</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  queryRef<span class="token operator">:</span> <span class="token maybe-class-name">PreloadedQuery</span><span class="token operator">&lt;</span><span class="token maybe-class-name">HomeTabQuery</span><span class="token operator">&gt;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">function</span> <span class="token function">HomeTab</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token operator">:</span> <span class="token maybe-class-name">Props</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token generic-function"><span class="token function">usePreloadedQuery</span><span class="token class-name generic"><span class="token operator">&lt;</span>HomeTabQuery<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>
</span><span class="code-line">    graphql<span class="token template-string"><span class="token string template-punctuation">`</span><span class="token language-graphql graphql">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">      <span class="token keyword">query</span> <span class="token function definition-query">HomeTabQuery</span><span class="token punctuation">(</span><span class="token variable">$id</span><span class="token punctuation">:</span> <span class="token scalar">ID</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">        <span class="token property-query">user</span><span class="token punctuation">(</span><span class="token attr-name">id</span><span class="token punctuation">:</span> <span class="token variable">$id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">          <span class="token property">name</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">        <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">      <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">    </span><span class="token string template-punctuation">`</span></span><span class="token punctuation">,</span>
</span><span class="code-line">    props<span class="token punctuation">.</span><span class="token property-access">queryRef</span>
</span><span class="code-line">  <span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>data<span class="token punctuation">.</span><span class="token property-access">user</span><span class="token operator">?.</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>코드를 자세히 살펴봅시다</p><ul><li><code>usePreloadedQuery</code>는 graphql 쿼리와 PreloadedQuery reference를 받습니다. 그리고 쿼리를 통해 받아온 데이터를 반환합니다<ul><li>PreloadedQuery(여기서는 queryRef)는 우리가 데이터를 불러온 query 인스턴스에 대한 describe와 reference를 가진 객체입니다.<ul><li>실제로 어떻게 데이터를 불러오고, 데이터를 불러오는 과정에서 로딩 상태를 어떻게 렌더링하는지 <a target="_blank" rel="noopener noreferrer" href="https://relay.dev/docs/guided-tour/rendering/loading-states/">Loading States with Suspense</a> 섹션에서 설명합니다</li></ul></li></ul></li><li>fragments와 유사하게, 컴포넌트는 자동으로 query data에 대해 구독되어집니다. 만약 해당 쿼리에 대한 데이터가 어플리케이션 어디선가 업데이트 된다면, 컴포넌트는 가장 최신의 데이터를 가지고 자동적으로 re-render 됩니다.</li><li><code>usePreloadedQuery</code> 또한 Flow type parameter를 가집니다.(해당 type은 쿼리의 Flow type과 부합합니다. 이 경우 <code>HomeTabQuery</code>를 보면 됩니다)<ul><li>Relay 컴파일러는 자동으로 선언된 쿼리들에 대한 Flow type을 생성하며 이것은 generated 폴더안에 <code>&lt;query_name&gt;``.graphql.js</code> 파일을 import해서 사용할 수 있습니다</li><li>주의해야할 점은, <code>data</code>는 명시적인 어노테이션 없이도 GraphQL Schema를 기반으로 적절한 Flow-type 되었다는 것 입니다. 예를 들면, 위의 예제에서 <code>data</code>의 타입은 <code>{ user: ?{ name: ?string } }</code>입니다</li></ul></li><li>Relay Environment Provider를 이용해서 Relay environment를 제공하고 있다는 점을 잊지 마세요.</li></ul><h2 id="fetching-queries-for-render"><a href="#fetching-queries-for-render" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Fetching Queries for Render</h2><p>query를 렌더링하는 것을 떠나서, 우리는 서버로부터 query의 결과를 받아와야합니다. 보통 우리는 쿼리를 어플리케이션의 root에서 불러오려고 합니다. 그리고 화면을 그리기 위해 필요로하는 모든 데이터를 축적하는 하나 또는 소수의 쿼리들을 가지고 있습니다. 이상적으로, 우리는 어플리케이션을 렌더링 하기 이전에 가능한 빨리 데이터를 불러올 것 입니다.</p><p>후속적으로 데이터를 불러와서 렌더링하기 위해서, <code>useQueryLoader</code> Hookd을 사용할 수 있습니다</p><div class="relative"><pre><code class="language-tsx code-highlight"><span class="code-line">
</span><span class="code-line"><span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span><span class="token maybe-class-name">HomeTabQuery</span> <span class="token keyword">as</span> <span class="token maybe-class-name">HomeTabQueryType</span><span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;HomeTabQuery.graphql&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span><span class="token maybe-class-name">PreloadedQuery</span><span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;react-relay&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> <span class="token maybe-class-name">HomeTabQuery</span> <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">&#x27;HomeTabQuery.graphql&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">const</span> <span class="token punctuation">{</span>useQueryLoader<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">&#x27;react-relay&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">type</span> <span class="token class-name">Props</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  initialQueryRef<span class="token operator">:</span> <span class="token maybe-class-name">PreloadedQuery</span><span class="token operator">&lt;</span><span class="token maybe-class-name">HomeTabQueryType</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">function</span> <span class="token function">AppTabs</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">[</span>
</span><span class="code-line">    homeTabQueryRef<span class="token punctuation">,</span>
</span><span class="code-line">    loadHomeTabQuery<span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useQueryLoader</span><span class="token class-name generic"><span class="token operator">&lt;</span>HomeTabQueryType<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token maybe-class-name">HomeTabQuery</span><span class="token punctuation">,</span>
</span><span class="code-line">    props<span class="token punctuation">.</span><span class="token property-access">initialQueryRef</span><span class="token punctuation">,</span> <span class="token comment">/* e.g. provided by router */</span>
</span><span class="code-line">  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token function function-variable">onSelectHomeTab</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator arrow">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token comment">// Start loading query for HomeTab immediately in the event handler</span>
</span><span class="code-line">    <span class="token comment">// that triggers navigation to that tab, *before* we even start</span>
</span><span class="code-line">    <span class="token comment">// rendering the target tab.</span>
</span><span class="code-line">    <span class="token comment">// Calling this function will update the value of homeTabQueryRef.</span>
</span><span class="code-line">    <span class="token function">loadHomeTabQuery</span><span class="token punctuation">(</span><span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token string">&#x27;4&#x27;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// ...</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// ...</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">    screen <span class="token operator">===</span> <span class="token string">&#x27;HomeTab&#x27;</span> <span class="token operator">&amp;&amp;</span> homeTabQueryRef <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">?</span>
</span><span class="code-line">      <span class="token comment">// Pass to component that uses usePreloadedQuery</span>
</span><span class="code-line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">HomeTab</span></span> <span class="token attr-name">queryRef</span><span class="token language-javascript script"><span class="token punctuation script-punctuation">=</span><span class="token punctuation">{</span>homeTabQueryRef<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span> <span class="token operator">:</span>
</span><span class="code-line">      <span class="token comment">// ...</span>
</span><span class="code-line">  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span></code></pre></div><p>위의 예제를 살펴봅시다</p><ul><li>AppTabs 컴포넌트에서 useQueryLoader를 호출하고 있습니다<ul><li>해당 훅은 query를 인자로 갖고 있는데, 이 경우 <code>HomeTabQuery</code>입니다(이전 예제에서 선언한 query 입니다). 그리고 우리는 자동으로 생성된 <code>&#x27;HomeTabQuery.graphql&#x27;</code>이 생성됩니다.</li><li>해당 훅은 옵셔널한 초기 PreloadedQuery를 가지는데, 이는 homeTabQueryRef(useQueryLoader에 의해 반환된)의 초기 값으로 사용됩니다.</li><li>그리고 Flow type parameter를 부가적으로 받습니다. 해당 타입은 <code>&#x27;HomeTabQuery.graphql&#x27;</code>에 자동생성될 것 입니다.</li></ul></li><li>useQueryLoader를 호출함으로써 2가지 것을 얻을 수 있습니다<ul><li>homeTabQueryRef: <code>?PreloadedQuery</code>이며, 데이터를 불러온 query 인스턴스를 describe &amp; reference하는 객체입니다. 해당 값은 쿼리를 불러오지 않았다면 null값을 가집니다. 위의 예시에서는 loadHomeTabQuery를 호출하지 않을 경우 입니다.</li><li>loadHomeTabQuery: 해당 쿼리에 대한 데이터를 서버로부터 불러오는 함수입니다(caching되지 않았다면). 그리고 쿼리가 예상하는 객체(변수와 함께!)를 주며, 이 경우 <code>{id: &#x27;4&#x27;}</code>입니다.(어떻게 Relay가 캐쉬된 데이터를 사용하는지 알고 싶다면 <a target="_blank" rel="noopener noreferrer" href="https://relay.dev/docs/guided-tour/reusing-cached-data/">Reusing Cached Data For Render</a>를 읽어보세요) 해당 함수를 호출하는 것은 <code>homeTabQueryRef(PreloadedQuery의 인스턴스인)</code>의 값 또한 업데이트 할 것 입니다.<ul><li>우리가 함수로 넘긴 <code>variables</code>는 GraphQL 쿼리가 예상하는 값이 맞는지 체크하기 위해서 Flow Type Check를 할 것 입니다.</li><li>우리는 해당 함수를 event handler 안에서 호출함으로써 <code>HomeTab</code>이 렌더링 되도록 합니다. 이로써 우리는 새로운 Tab이 렌더링 되기도 전에 데이터가 가능한 빨리 화면에 그려지도록 할 수 있습니다.<ul><li>실제로, <code>loadQuery</code>는 React 렌더링 phase에서 호출되면 에러를 반환할 것 입니다.</li></ul></li></ul></li></ul></li><li><code>useQueryLoader</code>는 자동으로 컴포넌트가 언마운트되면 load된 모든 쿼리들을 처분(또는 해제)할 것 입니다. 이것이 의미하는 것은 Relay가 더 이상 특정 쿼리 인스턴스에 대한 캐시를 더 이상 가지고 있지 않을 것이라는 것 입니다.(<a target="_blank" rel="noopener noreferrer" href="https://relay.dev/docs/guided-tour/reusing-cached-data/">Resuing Cached Data For Render</a>에서 query data lifecycle에 대해서 알 수 있습니다). 추가적으로, 만약 쿼리 인스턴스 삭제가 이루어질때 query 요청이 진행중이면, 요청이 자동적으로 취소될 것 입니다.</li><li>AppTabs 컴포넌트는 이전 예제에서 HomeTab 컴포넌트를 렌더링합니다. 그리고 적절한 query reference를 넘깁니다. 즉, 부모 컴포넌트가 해당 쿼리에 대한 데이터의 lifetime을 가지고 있으며, 이 컴포넌트가 언마운트 될 때 query 인스턴스를 분해할 것 입니다.</li><li>마지막으로, useQueryLoader 훅을 사용하기 전에 Relay Environment Provider를 이용해서 Relay 환경을 제공해야 합니다.</li></ul><p>때때로, 부모 컴포넌트 바깥의 context에서 데이터 fetching을 시작하고 싶을 때가 있습니다. 예를 들면 어플리케이션의 초기 로드를 위한 데이터를 불러올때 말입니다. 이런 경우, useQueryLoader를 사용할 필요 없이 loadQuery API를 직접적으로 사용할 수 있습니다.</p><div class="relative"><pre><code class="language-tsx code-highlight"><span class="code-line">
</span><span class="code-line"><span class="token keyword">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span><span class="token maybe-class-name">HomeTabQuery</span> <span class="token keyword">as</span> <span class="token maybe-class-name">HomeTabQueryType</span><span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;HomeTabQuery.graphql&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> <span class="token maybe-class-name">HomeTabQuery</span> <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">&#x27;HomeTabQuery.graphql&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">const</span> <span class="token punctuation">{</span>loadQuery<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">&#x27;react-relay&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> environment <span class="token operator">=</span> <span class="token function">createEnvironment</span><span class="token punctuation">(</span><span class="token operator spread">...</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// At some point during app initialization</span>
</span><span class="code-line"><span class="token keyword">const</span> initialQueryRef <span class="token operator">=</span> <span class="token generic-function"><span class="token function">loadQuery</span><span class="token class-name generic"><span class="token operator">&lt;</span>HomeTabQueryType<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>
</span><span class="code-line">  environment<span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token maybe-class-name">HomeTabQuery</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">{</span>id<span class="token operator">:</span> <span class="token string">&#x27;4&#x27;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// ...</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// E.g. passing the initialQueryRef to the root component</span>
</span><span class="code-line"><span class="token function">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">AppTabs</span></span> <span class="token attr-name">initialQueryRef</span><span class="token language-javascript script"><span class="token punctuation script-punctuation">=</span><span class="token punctuation">{</span>initialQueryRef<span class="token punctuation">}</span></span> <span class="token attr-name">initialTab</span><span class="token language-javascript script"><span class="token punctuation script-punctuation">=</span><span class="token punctuation">{</span><span class="token operator spread">...</span><span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">)</span>
</span><span class="code-line">
</span></code></pre></div><ul><li>위의 경우, PreloadedQuery 인스턴스를 직접적으로 얻기 위해서 loadQuery 함수를 호출하고 있습니다. 해당 인스턴스는 usePreloadedQuery를 사용하는 컴포넌트에게 후추 넘길 수 있습니다.</li><li>이 경우, AppTabs 컴포넌트가 query reference의 lifetime을 가지고 있다고 예상할 수 있습니다.</li><li>이 예제에서 &quot;app initialization&quot;의 세부사항에 대해서 단순하게 넘겼는데, 이는 어플리케이션 마다 매우 다를 것이기 때문입니다. 여기에서 중요하게 보고 넘어가야할 것은 root 컴포넌트 렌더링을 시작하기 전에 query reference를 획득해야한다는 것 입니다. 실제로, loadQuery는 리엑트 렌더링 phase에서 호출되면 에러를 반환할 것 입니다.</li></ul><h2 id="render-as-you-fetch"><a href="#render-as-you-fetch" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Render as you Fetch</h2><p>위의 예제들은 데이터를 가능한 빨리 가져와서 유저에게 컨텐츠를 보여주기 위해서 렌더링으로 부터 데이터 fetching을 어떻게 분리해야할지 보여줍니다. 이를 통해 waterfalling round trip을 방지할 수 있고, 더 많은 제어권과 fetch가 발생했을때 예측가능성을 우리에게 줍니다. 반면 우리 렌더링 중 fetch가 발생하면, 어느 시점에 fetch가 발생할지 결정하기 힘들어집니다. 이 부분은 React suspense의 <a target="_blank" rel="noopener noreferrer" href="https://17.reactjs.org/docs/concurrent-mode-suspense.html#approach-3-render-as-you-fetch-using-suspense">render-as-you-fetch</a> 패턴과 매우 유사합니다.</p><p>이 패턴은 Relay가 데이터 fetching을 할때 선호하는 패턴입니다. 그리고 이 패턴은 여러 상황에서 적용되는데, 예를 들면 어플리케이션 초기 로딩할때, subsequent navigation이 되는 동안, 또는 일반적으로 UI 요소가 초기에 숨겨져있거나 추후 인터렉션에 의해 드러내어 질때(menu, popover, dialog, 등등), 그리고 추가적인 데이터를 불러올때 잘 적용될 수 있습니다.</p><h2 id="lazily-fetching-queries-during-render"><a href="#lazily-fetching-queries-during-render" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Lazily Fetching Queries during Render</h2><p>쿼리를 불러올때 다른 대안은 컴포넌트가 렌더링 될 때 게으르게(lazily) 쿼리를 fetch하는 것 입니다. 그렇지만, 이전에 언급했다싶이, 선호되는 패턴은 rendering 되기 전에 쿼리 fetching을 시작하는 것 입니다. 만약 게으른 fetching이 경고 없이 사용되어졌다면, nested 또는 waterfalling round trip을 발생시킬 수 있으며, 이는 성능 하락으로 이어질 수 있습니다</p><p>쿼리를 게으르게 fetch하기 위해서, <code>useLazyLoadQuery</code> Hook을 사용할 수 있습니다</p><div class="relative"><pre><code class="language-tsx code-highlight"><span class="code-line"><span class="token keyword">const</span> <span class="token maybe-class-name">React</span> <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">&#x27;React&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword">const</span> <span class="token punctuation">{</span> graphql<span class="token punctuation">,</span> useLazyLoadQuery <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">&#x27;react-relay&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token function">useLazyLoadQuery</span><span class="token punctuation">(</span>
</span><span class="code-line">    graphql<span class="token template-string"><span class="token string template-punctuation">`</span><span class="token language-graphql graphql">
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">      <span class="token keyword">query</span> <span class="token function definition-query">AppQuery</span><span class="token punctuation">(</span><span class="token variable">$id</span><span class="token punctuation">:</span> <span class="token scalar">ID</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">        <span class="token property-query">user</span><span class="token punctuation">(</span><span class="token attr-name">id</span><span class="token punctuation">:</span> <span class="token variable">$id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">          <span class="token property">name</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">        <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">      <span class="token punctuation">}</span>
</span></span></span><span class="code-line"><span class="token template-string"><span class="token language-graphql graphql">    </span><span class="token string template-punctuation">`</span></span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token string">&#x27;4&#x27;</span> <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>data<span class="token punctuation">.</span><span class="token property-access">user</span><span class="token operator">?.</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><p>어떤 일이 일어나는지 봅시다</p><ul><li><code>useLazyLoadQuery</code>는 graphql query와 해당 쿼리를 위한 몇개의 변수를 취합니다. 그리고 해당 쿼리를 통해 얻어진 데이터를 반환합니다. 변수들은 GraphQL 쿼리 안에서 추론된 변수들의 값을 가진 객체입니다.</li><li>fragment들과 유사하게, 컴포넌트는 자동으로 query data 업데이트에 대해 구독 되어집니다. 만약 해당 쿼리에 대한 데이터가 어플리케이션 어디선가 업데이트가 된다면, 컴포넌트는 가장 최근에 업데이트 된 데이터로 자동적으로 re-render될 것 입니다.</li><li><code>useLazyLoadQuery</code>는 추가적으로 Flow type parameter를 받습니다. 해당 parameter는 query에 대한 flow type과 부합하며, 예제의 경우 AppQuery입니다.<ul><li>Relay가 선언된 쿼리들에 대한 Flow type을 자동으로 생성한다는 것을 명심하세요. 자동 생성된 타입들은 import해서 <code>useLazyLoadQuery</code>에서 사용할 수 있습니다. 해당 타입들은 <code>&lt;query_name&gt;.graphql.js</code> 형식으로된 name format에 따라서 생성된 파일을 사용할 수 있습니다.</li><li>넘겨진 variable들은 Graphql query가 예상하는 타입과 부합하는지 Flow type 체크가 될 것 입니다.</li><li>명시적인 인용구 없이도 데이터는 이미 적절하게 Flow-type이 되었다는 것에 주의하세요. 그리고 해당 타입은 GraphQL 스키마를 기반으로 타입이 생성됩니다. 예를 들면, 위의 <code>data</code>는 <code>{ user: ?{ name: ?string } }</code>의 타입을 가지게 될 것 입니다.</li></ul></li><li>기본적으로, 컴포넌트가 렌더링 될 때, Relay는 query에 대한 데이터를 가져올 것 입니다(캐싱되지 않았다면요). 그리고 useLazyLoadQuery를 호출함으로써 결과값을 가져올 것 입니다. 우리는 <a target="_blank" rel="noopener noreferrer" href="https://relay.dev/docs/guided-tour/rendering/loading-states/">Loading States with Suspense</a>에서 더 자세한 내용을 살펴볼 것 이며, 그리고 어떻게 Relay가 데이터를 캐싱하는지 <a target="_blank" rel="noopener noreferrer" href="https://relay.dev/docs/guided-tour/reusing-cached-data/">Reusing Cached Data For Rendering</a>문서에서 살펴볼 것 입니다.</li><li>만약 당신의 컴포넌트를 re-render하면서 다른 query variable들을 query에 넣었다면, 새로운 변수들에 대한 새로운 데이터를 가져올 것 이며, 이는 잠재적으로 다른 데이터로 re-render될 것 입니다.</li><li>마지막으로, 꼭 query를 렌더링 하기 전에 Relay Environment Provider를 이용해서 Relay environment를 제공하세요.</li></ul></div><div class="pt-6 pb-6 text-sm text-gray-700 dark:text-gray-300"><a target="_blank" rel="noopener noreferrer" href="https://github.com/woody-morgan/woody-morgan.github.io/blob/master/data/blog/backend/graphql-queries.mdx">View on GitHub</a></div></div><footer><div class="divide-gray-200 text-sm font-medium leading-5 dark:divide-gray-700 xl:col-start-1 xl:row-start-2 xl:divide-y"><div class="py-4 xl:py-8"><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">Tags</h2><div class="flex flex-wrap"><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/graphql">graphql</a><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/relay">relay</a></div></div><div class="flex justify-between py-4 xl:block xl:space-y-8 xl:py-8"><div><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">Previous Article</h2><div class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a href="/blog/backend/graphql-mutations">[번역] Relay - Graphql mutations</a></div></div><div><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">Next Article</h2><div class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a href="/blog/backend/graphql-arrays-n-lists">[번역] Relay - Graphql Arrays and Lists</a></div></div></div></div><div class="pt-4 xl:pt-8"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/blog">← Back to the blog</a></div></footer></div></div></article></div></div></main><footer><div class="mt-16 flex flex-col items-center"><div class="mb-3 flex space-x-4"><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://github.com/woody-morgan"><span class="sr-only">github</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current text-gray-700 hover:text-blue-500 dark:text-gray-200 dark:hover:text-blue-400 h-6 w-6"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/in/woody-morgan"><span class="sr-only">linkedin</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current text-gray-700 hover:text-blue-500 dark:text-gray-200 dark:hover:text-blue-400 h-6 w-6"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 0 1-2.063-2.065 2.064 2.064 0 1 1 2.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg></a></div><div class="mb-2 flex space-x-2 text-sm text-gray-500 dark:text-gray-400"><div>woody morgan</div><div> • </div><div>© 2024</div><div> • </div><a href="/">woody-morgan.github.io</a></div><div class="mb-8 text-sm text-gray-500 dark:text-gray-400"><a target="_blank" rel="noopener noreferrer" href="https://github.com/timlrx/tailwind-nextjs-starter-blog">Tailwind Nextjs Theme</a></div></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"mdxSource":"var Component=(()=\u003e{var o=Object.create;var l=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var h=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty;var r=a=\u003el(a,\"__esModule\",{value:!0});var u=(a,s)=\u003e()=\u003e(s||a((s={exports:{}}).exports,s),s.exports),N=(a,s)=\u003e{r(a);for(var c in s)l(a,c,{get:s[c],enumerable:!0})},k=(a,s,c)=\u003e{if(s\u0026\u0026typeof s==\"object\"||typeof s==\"function\")for(let n of p(s))!m.call(a,n)\u0026\u0026n!==\"default\"\u0026\u0026l(a,n,{get:()=\u003es[n],enumerable:!(c=d(s,n))||c.enumerable});return a},y=a=\u003ek(r(l(a!=null?o(h(a)):{},\"default\",a\u0026\u0026a.__esModule\u0026\u0026\"default\"in a?{get:()=\u003ea.default,enumerable:!0}:{value:a,enumerable:!0})),a);var t=u((w,i)=\u003e{i.exports=_jsx_runtime});var Q={};N(Q,{default:()=\u003eq,frontmatter:()=\u003eg});var e=y(t()),g={title:\"[\\uBC88\\uC5ED] Relay - Graphql Queries\",date:\"2023-01-04\",tags:[\"graphql\",\"relay\"],draft:!1,summary:\"Relay \\uBB38\\uC11C\\uC758 Graphql Queries \\uD56D\\uBAA9 \\uBC88\\uC5ED\",images:[],layout:\"PostLayout\"};function f(a={}){let{wrapper:s}=a.components||{};return s?(0,e.jsx)(s,Object.assign({},a,{children:(0,e.jsx)(c,{})})):c();function c(){let n=Object.assign({h2:\"h2\",a:\"a\",span:\"span\",p:\"p\",pre:\"pre\",code:\"code\",ul:\"ul\",li:\"li\"},a.components);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.h2,{id:\"graphql-queries\",children:[(0,e.jsx)(n.a,{href:\"#graphql-queries\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"GraphQL Queries\"]}),(0,e.jsx)(n.p,{children:\"GraphQL Query\\uB780 GraphQL \\uC11C\\uBC84\\uB85C\\uBD80\\uD130 \\uCFFC\\uB9AC\\uD558\\uACE0 \\uC2F6\\uC740 \\uB370\\uC774\\uD130\\uC758 \\uC124\\uBA85\\uC11C \\uC785\\uB2C8\\uB2E4. \\uC774\\uAC83\\uC740 \\uC5EC\\uB7EC \\uD544\\uB4DC\\uB4E4\\uC758 \\uC9D1\\uD569\\uC73C\\uB85C \\uAD6C\\uC131\\uB418\\uC5B4 \\uC788\\uC2B5\\uB2C8\\uB2E4(\\uC7A0\\uC7AC\\uC801\\uC73C\\uB85C Fragment\\uAC00 \\uB420 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4). \\uC6B0\\uB9AC\\uAC00 \\uCFFC\\uB9AC\\uD560 \\uC218 \\uC788\\uB294 \\uAC83\\uC740 \\uC11C\\uBC84\\uB85C\\uBD80\\uD130 \\uB178\\uCD9C\\uB41C GraphQL Schema\\uC5D0 \\uC758\\uC874\\uD569\\uB2C8\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"\\uCFFC\\uB9AC\\uB294 \\uB124\\uD2B8\\uC6CC\\uD06C \\uC694\\uCCAD\\uC744 \\uD1B5\\uD574 \\uC804\\uB2EC\\uB420 \\uC218 \\uC788\\uC73C\\uBA70, \\uCFFC\\uB9AC\\uAC00 \\uC0AC\\uC6A9\\uD558\\uB294 \\uBCC0\\uC218\\uB97C \\uAC00\\uC9C0\\uACE0 \\uB370\\uC774\\uD130\\uB97C \\uBD88\\uB7EC\\uC62C \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uC11C\\uBC84\\uB294 \\uC6B0\\uB9AC\\uAC00 \\uBCF4\\uB0B8 query\\uC758 \\uD615\\uD0DC\\uC5D0 \\uB9DE\\uCDB0\\uC11C JSON \\uAC1D\\uCCB4\\uB97C \\uC751\\uB2F5\\uD560 \\uAC83 \\uC785\\uB2C8\\uB2E4.\"}),(0,e.jsx)(n.pre,{className:\"language-graphql\",children:(0,e.jsxs)(n.code,{className:\"language-graphql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"query\"}),\" \",(0,e.jsx)(n.span,{className:\"token function definition-query\",children:\"UserQuery\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token variable\",children:\"$id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token scalar\",children:\"ID\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property-query\",children:\"user\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:\"id\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:\"name\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"...\"}),(0,e.jsx)(n.span,{className:\"token function fragment\",children:\"UserFragment\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token object\",children:\"viewer\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token object\",children:\"actor\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property\",children:\"name\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"fragment\"}),\" \",(0,e.jsx)(n.span,{className:\"token function fragment\",children:\"UserFragment\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"on\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"User\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property\",children:\"username\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\uC608\\uC2DC \\uC751\\uB2F5\"}),(0,e.jsx)(n.pre,{className:\"language-json\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-json\",children:[(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"query UserQuery($id\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" ID!) \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  user(id\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" $id) \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`    id\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`    name\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`    ...UserFragment\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  viewer \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    actor \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`      name\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"fragment UserFragment on User \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`  username\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`})]})}),(0,e.jsxs)(n.h2,{id:\"rendering-queries\",children:[(0,e.jsx)(n.a,{href:\"#rendering-queries\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Rendering Queries\"]}),(0,e.jsxs)(n.p,{children:[\"Relay\\uC5D0\\uC11C query\\uB97C \\uB80C\\uB354\\uB9C1\\uD558\\uAE30 \\uC704\\uD574\\uC11C \",(0,e.jsx)(n.code,{children:\"usePreloadedQuery\"}),\" Hook\\uC744 \\uC0AC\\uC6A9\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4. \",(0,e.jsx)(n.code,{children:\"usePreloadedQuery\"}),\" Hook\\uC740 query definition\\uACFC query reference\\uB97C \\uAC00\\uC9C0\\uBA70, \\uC774\\uAC83\\uC5D0 \\uBD80\\uD569\\uD558\\uB294 \\uB370\\uC774\\uD130\\uB97C \\uBC18\\uD658\\uD569\\uB2C8\\uB2E4\"]}),(0,e.jsx)(n.pre,{className:\"language-tsx\",children:(0,e.jsxs)(n.code,{className:\"language-tsx code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"type\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"HomeTabQuery\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'HomeTabQuery.graphql'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"type\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"PreloadedQuery\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'react-relay'\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"React\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"require\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'React'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" graphql\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" usePreloadedQuery \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"require\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'react-relay'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"type\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Props\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  queryRef\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"PreloadedQuery\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"HomeTabQuery\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"HomeTab\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token parameter\",children:[\"props\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Props\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" data \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsxs)(n.span,{className:\"token generic-function\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"usePreloadedQuery\"}),(0,e.jsxs)(n.span,{className:\"token class-name generic\",children:[(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"HomeTabQuery\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"})]})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    graphql\",(0,e.jsxs)(n.span,{className:\"token template-string\",children:[(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,e.jsx)(n.span,{className:\"token language-graphql graphql\",children:`\n`})]})]}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token template-string\",children:(0,e.jsxs)(n.span,{className:\"token language-graphql graphql\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"query\"}),\" \",(0,e.jsx)(n.span,{className:\"token function definition-query\",children:\"HomeTabQuery\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token variable\",children:\"$id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token scalar\",children:\"ID\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token template-string\",children:(0,e.jsxs)(n.span,{className:\"token language-graphql graphql\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token property-query\",children:\"user\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token template-string\",children:(0,e.jsxs)(n.span,{className:\"token language-graphql graphql\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token property\",children:\"name\"}),`\n`]})})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token template-string\",children:(0,e.jsxs)(n.span,{className:\"token language-graphql graphql\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token template-string\",children:(0,e.jsxs)(n.span,{className:\"token language-graphql graphql\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsxs)(n.span,{className:\"token template-string\",children:[(0,e.jsx)(n.span,{className:\"token language-graphql graphql\",children:\"    \"}),(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    props\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"queryRef\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003c\"}),\"h1\"]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003e\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"data\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"user\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"?.\"}),\"name\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003c/\"}),\"h1\"]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003e\"})]}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\uCF54\\uB4DC\\uB97C \\uC790\\uC138\\uD788 \\uC0B4\\uD3B4\\uBD05\\uC2DC\\uB2E4\"}),(0,e.jsxs)(n.ul,{children:[(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"usePreloadedQuery\"}),\"\\uB294 graphql \\uCFFC\\uB9AC\\uC640 PreloadedQuery reference\\uB97C \\uBC1B\\uC2B5\\uB2C8\\uB2E4. \\uADF8\\uB9AC\\uACE0 \\uCFFC\\uB9AC\\uB97C \\uD1B5\\uD574 \\uBC1B\\uC544\\uC628 \\uB370\\uC774\\uD130\\uB97C \\uBC18\\uD658\\uD569\\uB2C8\\uB2E4\",(0,e.jsx)(n.ul,{children:(0,e.jsxs)(n.li,{children:[\"PreloadedQuery(\\uC5EC\\uAE30\\uC11C\\uB294 queryRef)\\uB294 \\uC6B0\\uB9AC\\uAC00 \\uB370\\uC774\\uD130\\uB97C \\uBD88\\uB7EC\\uC628 query \\uC778\\uC2A4\\uD134\\uC2A4\\uC5D0 \\uB300\\uD55C describe\\uC640 reference\\uB97C \\uAC00\\uC9C4 \\uAC1D\\uCCB4\\uC785\\uB2C8\\uB2E4.\",(0,e.jsx)(n.ul,{children:(0,e.jsxs)(n.li,{children:[\"\\uC2E4\\uC81C\\uB85C \\uC5B4\\uB5BB\\uAC8C \\uB370\\uC774\\uD130\\uB97C \\uBD88\\uB7EC\\uC624\\uACE0, \\uB370\\uC774\\uD130\\uB97C \\uBD88\\uB7EC\\uC624\\uB294 \\uACFC\\uC815\\uC5D0\\uC11C \\uB85C\\uB529 \\uC0C1\\uD0DC\\uB97C \\uC5B4\\uB5BB\\uAC8C \\uB80C\\uB354\\uB9C1\\uD558\\uB294\\uC9C0 \",(0,e.jsx)(n.a,{href:\"https://relay.dev/docs/guided-tour/rendering/loading-states/\",children:\"Loading States with Suspense\"}),\" \\uC139\\uC158\\uC5D0\\uC11C \\uC124\\uBA85\\uD569\\uB2C8\\uB2E4\"]})})]})})]}),(0,e.jsx)(n.li,{children:\"fragments\\uC640 \\uC720\\uC0AC\\uD558\\uAC8C, \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uB294 \\uC790\\uB3D9\\uC73C\\uB85C query data\\uC5D0 \\uB300\\uD574 \\uAD6C\\uB3C5\\uB418\\uC5B4\\uC9D1\\uB2C8\\uB2E4. \\uB9CC\\uC57D \\uD574\\uB2F9 \\uCFFC\\uB9AC\\uC5D0 \\uB300\\uD55C \\uB370\\uC774\\uD130\\uAC00 \\uC5B4\\uD50C\\uB9AC\\uCF00\\uC774\\uC158 \\uC5B4\\uB514\\uC120\\uAC00 \\uC5C5\\uB370\\uC774\\uD2B8 \\uB41C\\uB2E4\\uBA74, \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uB294 \\uAC00\\uC7A5 \\uCD5C\\uC2E0\\uC758 \\uB370\\uC774\\uD130\\uB97C \\uAC00\\uC9C0\\uACE0 \\uC790\\uB3D9\\uC801\\uC73C\\uB85C re-render \\uB429\\uB2C8\\uB2E4.\"}),(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"usePreloadedQuery\"}),\" \\uB610\\uD55C Flow type parameter\\uB97C \\uAC00\\uC9D1\\uB2C8\\uB2E4.(\\uD574\\uB2F9 type\\uC740 \\uCFFC\\uB9AC\\uC758 Flow type\\uACFC \\uBD80\\uD569\\uD569\\uB2C8\\uB2E4. \\uC774 \\uACBD\\uC6B0 \",(0,e.jsx)(n.code,{children:\"HomeTabQuery\"}),\"\\uB97C \\uBCF4\\uBA74 \\uB429\\uB2C8\\uB2E4)\",(0,e.jsxs)(n.ul,{children:[(0,e.jsxs)(n.li,{children:[\"Relay \\uCEF4\\uD30C\\uC77C\\uB7EC\\uB294 \\uC790\\uB3D9\\uC73C\\uB85C \\uC120\\uC5B8\\uB41C \\uCFFC\\uB9AC\\uB4E4\\uC5D0 \\uB300\\uD55C Flow type\\uC744 \\uC0DD\\uC131\\uD558\\uBA70 \\uC774\\uAC83\\uC740 generated \\uD3F4\\uB354\\uC548\\uC5D0 \",(0,e.jsx)(n.code,{children:\"\u003cquery_name\u003e``.graphql.js\"}),\" \\uD30C\\uC77C\\uC744 import\\uD574\\uC11C \\uC0AC\\uC6A9\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4\"]}),(0,e.jsxs)(n.li,{children:[\"\\uC8FC\\uC758\\uD574\\uC57C\\uD560 \\uC810\\uC740, \",(0,e.jsx)(n.code,{children:\"data\"}),\"\\uB294 \\uBA85\\uC2DC\\uC801\\uC778 \\uC5B4\\uB178\\uD14C\\uC774\\uC158 \\uC5C6\\uC774\\uB3C4 GraphQL Schema\\uB97C \\uAE30\\uBC18\\uC73C\\uB85C \\uC801\\uC808\\uD55C Flow-type \\uB418\\uC5C8\\uB2E4\\uB294 \\uAC83 \\uC785\\uB2C8\\uB2E4. \\uC608\\uB97C \\uB4E4\\uBA74, \\uC704\\uC758 \\uC608\\uC81C\\uC5D0\\uC11C \",(0,e.jsx)(n.code,{children:\"data\"}),\"\\uC758 \\uD0C0\\uC785\\uC740 \",(0,e.jsx)(n.code,{children:\"{ user: ?{ name: ?string } }\"}),\"\\uC785\\uB2C8\\uB2E4\"]})]})]}),(0,e.jsx)(n.li,{children:\"Relay Environment Provider\\uB97C \\uC774\\uC6A9\\uD574\\uC11C Relay environment\\uB97C \\uC81C\\uACF5\\uD558\\uACE0 \\uC788\\uB2E4\\uB294 \\uC810\\uC744 \\uC78A\\uC9C0 \\uB9C8\\uC138\\uC694.\"})]}),(0,e.jsxs)(n.h2,{id:\"fetching-queries-for-render\",children:[(0,e.jsx)(n.a,{href:\"#fetching-queries-for-render\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Fetching Queries for Render\"]}),(0,e.jsx)(n.p,{children:\"query\\uB97C \\uB80C\\uB354\\uB9C1\\uD558\\uB294 \\uAC83\\uC744 \\uB5A0\\uB098\\uC11C, \\uC6B0\\uB9AC\\uB294 \\uC11C\\uBC84\\uB85C\\uBD80\\uD130 query\\uC758 \\uACB0\\uACFC\\uB97C \\uBC1B\\uC544\\uC640\\uC57C\\uD569\\uB2C8\\uB2E4. \\uBCF4\\uD1B5 \\uC6B0\\uB9AC\\uB294 \\uCFFC\\uB9AC\\uB97C \\uC5B4\\uD50C\\uB9AC\\uCF00\\uC774\\uC158\\uC758 root\\uC5D0\\uC11C \\uBD88\\uB7EC\\uC624\\uB824\\uACE0 \\uD569\\uB2C8\\uB2E4. \\uADF8\\uB9AC\\uACE0 \\uD654\\uBA74\\uC744 \\uADF8\\uB9AC\\uAE30 \\uC704\\uD574 \\uD544\\uC694\\uB85C\\uD558\\uB294 \\uBAA8\\uB4E0 \\uB370\\uC774\\uD130\\uB97C \\uCD95\\uC801\\uD558\\uB294 \\uD558\\uB098 \\uB610\\uB294 \\uC18C\\uC218\\uC758 \\uCFFC\\uB9AC\\uB4E4\\uC744 \\uAC00\\uC9C0\\uACE0 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uC774\\uC0C1\\uC801\\uC73C\\uB85C, \\uC6B0\\uB9AC\\uB294 \\uC5B4\\uD50C\\uB9AC\\uCF00\\uC774\\uC158\\uC744 \\uB80C\\uB354\\uB9C1 \\uD558\\uAE30 \\uC774\\uC804\\uC5D0 \\uAC00\\uB2A5\\uD55C \\uBE68\\uB9AC \\uB370\\uC774\\uD130\\uB97C \\uBD88\\uB7EC\\uC62C \\uAC83 \\uC785\\uB2C8\\uB2E4.\"}),(0,e.jsxs)(n.p,{children:[\"\\uD6C4\\uC18D\\uC801\\uC73C\\uB85C \\uB370\\uC774\\uD130\\uB97C \\uBD88\\uB7EC\\uC640\\uC11C \\uB80C\\uB354\\uB9C1\\uD558\\uAE30 \\uC704\\uD574\\uC11C, \",(0,e.jsx)(n.code,{children:\"useQueryLoader\"}),\" Hookd\\uC744 \\uC0AC\\uC6A9\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4\"]}),(0,e.jsx)(n.pre,{className:\"language-tsx\",children:(0,e.jsxs)(n.code,{className:\"language-tsx code-highlight\",children:[(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"type\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"HomeTabQuery\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"as\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"HomeTabQueryType\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'HomeTabQuery.graphql'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"type\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"PreloadedQuery\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'react-relay'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"HomeTabQuery\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"require\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'HomeTabQuery.graphql'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"useQueryLoader\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"require\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'react-relay'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"type\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Props\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  initialQueryRef\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"PreloadedQuery\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"HomeTabQueryType\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"AppTabs\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token parameter\",children:\"props\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    homeTabQueryRef\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    loadHomeTabQuery\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsxs)(n.span,{className:\"token generic-function\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"useQueryLoader\"}),(0,e.jsxs)(n.span,{className:\"token class-name generic\",children:[(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"HomeTabQueryType\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"})]})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"HomeTabQuery\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    props\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"initialQueryRef\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"/* e.g. provided by router */\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token function function-variable\",children:\"onSelectHomeTab\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=\u003e\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// Start loading query for HomeTab immediately in the event handler\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// that triggers navigation to that tab, *before* we even start\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// rendering the target tab.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// Calling this function will update the value of homeTabQueryRef.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token function\",children:\"loadHomeTabQuery\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"id\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'4'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// ...\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// ...\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    screen \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"===\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'HomeTab'\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u0026\u0026\"}),\" homeTabQueryRef \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"null\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"?\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// Pass to component that uses usePreloadedQuery\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token class-name\",children:\"HomeTab\"})]}),\" \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"queryRef\"}),(0,e.jsxs)(n.span,{className:\"token language-javascript script\",children:[(0,e.jsx)(n.span,{className:\"token punctuation script-punctuation\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"homeTabQueryRef\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"/\u003e\"})]}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// ...\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`})]})}),(0,e.jsx)(n.p,{children:\"\\uC704\\uC758 \\uC608\\uC81C\\uB97C \\uC0B4\\uD3B4\\uBD05\\uC2DC\\uB2E4\"}),(0,e.jsxs)(n.ul,{children:[(0,e.jsxs)(n.li,{children:[\"AppTabs \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC5D0\\uC11C useQueryLoader\\uB97C \\uD638\\uCD9C\\uD558\\uACE0 \\uC788\\uC2B5\\uB2C8\\uB2E4\",(0,e.jsxs)(n.ul,{children:[(0,e.jsxs)(n.li,{children:[\"\\uD574\\uB2F9 \\uD6C5\\uC740 query\\uB97C \\uC778\\uC790\\uB85C \\uAC16\\uACE0 \\uC788\\uB294\\uB370, \\uC774 \\uACBD\\uC6B0 \",(0,e.jsx)(n.code,{children:\"HomeTabQuery\"}),\"\\uC785\\uB2C8\\uB2E4(\\uC774\\uC804 \\uC608\\uC81C\\uC5D0\\uC11C \\uC120\\uC5B8\\uD55C query \\uC785\\uB2C8\\uB2E4). \\uADF8\\uB9AC\\uACE0 \\uC6B0\\uB9AC\\uB294 \\uC790\\uB3D9\\uC73C\\uB85C \\uC0DD\\uC131\\uB41C \",(0,e.jsx)(n.code,{children:\"'HomeTabQuery.graphql'\"}),\"\\uC774 \\uC0DD\\uC131\\uB429\\uB2C8\\uB2E4.\"]}),(0,e.jsx)(n.li,{children:\"\\uD574\\uB2F9 \\uD6C5\\uC740 \\uC635\\uC154\\uB110\\uD55C \\uCD08\\uAE30 PreloadedQuery\\uB97C \\uAC00\\uC9C0\\uB294\\uB370, \\uC774\\uB294 homeTabQueryRef(useQueryLoader\\uC5D0 \\uC758\\uD574 \\uBC18\\uD658\\uB41C)\\uC758 \\uCD08\\uAE30 \\uAC12\\uC73C\\uB85C \\uC0AC\\uC6A9\\uB429\\uB2C8\\uB2E4.\"}),(0,e.jsxs)(n.li,{children:[\"\\uADF8\\uB9AC\\uACE0 Flow type parameter\\uB97C \\uBD80\\uAC00\\uC801\\uC73C\\uB85C \\uBC1B\\uC2B5\\uB2C8\\uB2E4. \\uD574\\uB2F9 \\uD0C0\\uC785\\uC740 \",(0,e.jsx)(n.code,{children:\"'HomeTabQuery.graphql'\"}),\"\\uC5D0 \\uC790\\uB3D9\\uC0DD\\uC131\\uB420 \\uAC83 \\uC785\\uB2C8\\uB2E4.\"]})]})]}),(0,e.jsxs)(n.li,{children:[\"useQueryLoader\\uB97C \\uD638\\uCD9C\\uD568\\uC73C\\uB85C\\uC368 2\\uAC00\\uC9C0 \\uAC83\\uC744 \\uC5BB\\uC744 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4\",(0,e.jsxs)(n.ul,{children:[(0,e.jsxs)(n.li,{children:[\"homeTabQueryRef: \",(0,e.jsx)(n.code,{children:\"?PreloadedQuery\"}),\"\\uC774\\uBA70, \\uB370\\uC774\\uD130\\uB97C \\uBD88\\uB7EC\\uC628 query \\uC778\\uC2A4\\uD134\\uC2A4\\uB97C describe \u0026 reference\\uD558\\uB294 \\uAC1D\\uCCB4\\uC785\\uB2C8\\uB2E4. \\uD574\\uB2F9 \\uAC12\\uC740 \\uCFFC\\uB9AC\\uB97C \\uBD88\\uB7EC\\uC624\\uC9C0 \\uC54A\\uC558\\uB2E4\\uBA74 null\\uAC12\\uC744 \\uAC00\\uC9D1\\uB2C8\\uB2E4. \\uC704\\uC758 \\uC608\\uC2DC\\uC5D0\\uC11C\\uB294 loadHomeTabQuery\\uB97C \\uD638\\uCD9C\\uD558\\uC9C0 \\uC54A\\uC744 \\uACBD\\uC6B0 \\uC785\\uB2C8\\uB2E4.\"]}),(0,e.jsxs)(n.li,{children:[\"loadHomeTabQuery: \\uD574\\uB2F9 \\uCFFC\\uB9AC\\uC5D0 \\uB300\\uD55C \\uB370\\uC774\\uD130\\uB97C \\uC11C\\uBC84\\uB85C\\uBD80\\uD130 \\uBD88\\uB7EC\\uC624\\uB294 \\uD568\\uC218\\uC785\\uB2C8\\uB2E4(caching\\uB418\\uC9C0 \\uC54A\\uC558\\uB2E4\\uBA74). \\uADF8\\uB9AC\\uACE0 \\uCFFC\\uB9AC\\uAC00 \\uC608\\uC0C1\\uD558\\uB294 \\uAC1D\\uCCB4(\\uBCC0\\uC218\\uC640 \\uD568\\uAED8!)\\uB97C \\uC8FC\\uBA70, \\uC774 \\uACBD\\uC6B0 \",(0,e.jsx)(n.code,{children:\"{id: '4'}\"}),\"\\uC785\\uB2C8\\uB2E4.(\\uC5B4\\uB5BB\\uAC8C Relay\\uAC00 \\uCE90\\uC26C\\uB41C \\uB370\\uC774\\uD130\\uB97C \\uC0AC\\uC6A9\\uD558\\uB294\\uC9C0 \\uC54C\\uACE0 \\uC2F6\\uB2E4\\uBA74 \",(0,e.jsx)(n.a,{href:\"https://relay.dev/docs/guided-tour/reusing-cached-data/\",children:\"Reusing Cached Data For Render\"}),\"\\uB97C \\uC77D\\uC5B4\\uBCF4\\uC138\\uC694) \\uD574\\uB2F9 \\uD568\\uC218\\uB97C \\uD638\\uCD9C\\uD558\\uB294 \\uAC83\\uC740 \",(0,e.jsx)(n.code,{children:\"homeTabQueryRef(PreloadedQuery\\uC758 \\uC778\\uC2A4\\uD134\\uC2A4\\uC778)\"}),\"\\uC758 \\uAC12 \\uB610\\uD55C \\uC5C5\\uB370\\uC774\\uD2B8 \\uD560 \\uAC83 \\uC785\\uB2C8\\uB2E4.\",(0,e.jsxs)(n.ul,{children:[(0,e.jsxs)(n.li,{children:[\"\\uC6B0\\uB9AC\\uAC00 \\uD568\\uC218\\uB85C \\uB118\\uAE34 \",(0,e.jsx)(n.code,{children:\"variables\"}),\"\\uB294 GraphQL \\uCFFC\\uB9AC\\uAC00 \\uC608\\uC0C1\\uD558\\uB294 \\uAC12\\uC774 \\uB9DE\\uB294\\uC9C0 \\uCCB4\\uD06C\\uD558\\uAE30 \\uC704\\uD574\\uC11C Flow Type Check\\uB97C \\uD560 \\uAC83 \\uC785\\uB2C8\\uB2E4.\"]}),(0,e.jsxs)(n.li,{children:[\"\\uC6B0\\uB9AC\\uB294 \\uD574\\uB2F9 \\uD568\\uC218\\uB97C event handler \\uC548\\uC5D0\\uC11C \\uD638\\uCD9C\\uD568\\uC73C\\uB85C\\uC368 \",(0,e.jsx)(n.code,{children:\"HomeTab\"}),\"\\uC774 \\uB80C\\uB354\\uB9C1 \\uB418\\uB3C4\\uB85D \\uD569\\uB2C8\\uB2E4. \\uC774\\uB85C\\uC368 \\uC6B0\\uB9AC\\uB294 \\uC0C8\\uB85C\\uC6B4 Tab\\uC774 \\uB80C\\uB354\\uB9C1 \\uB418\\uAE30\\uB3C4 \\uC804\\uC5D0 \\uB370\\uC774\\uD130\\uAC00 \\uAC00\\uB2A5\\uD55C \\uBE68\\uB9AC \\uD654\\uBA74\\uC5D0 \\uADF8\\uB824\\uC9C0\\uB3C4\\uB85D \\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\",(0,e.jsx)(n.ul,{children:(0,e.jsxs)(n.li,{children:[\"\\uC2E4\\uC81C\\uB85C, \",(0,e.jsx)(n.code,{children:\"loadQuery\"}),\"\\uB294 React \\uB80C\\uB354\\uB9C1 phase\\uC5D0\\uC11C \\uD638\\uCD9C\\uB418\\uBA74 \\uC5D0\\uB7EC\\uB97C \\uBC18\\uD658\\uD560 \\uAC83 \\uC785\\uB2C8\\uB2E4.\"]})})]})]})]})]})]}),(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"useQueryLoader\"}),\"\\uB294 \\uC790\\uB3D9\\uC73C\\uB85C \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uAC00 \\uC5B8\\uB9C8\\uC6B4\\uD2B8\\uB418\\uBA74 load\\uB41C \\uBAA8\\uB4E0 \\uCFFC\\uB9AC\\uB4E4\\uC744 \\uCC98\\uBD84(\\uB610\\uB294 \\uD574\\uC81C)\\uD560 \\uAC83 \\uC785\\uB2C8\\uB2E4. \\uC774\\uAC83\\uC774 \\uC758\\uBBF8\\uD558\\uB294 \\uAC83\\uC740 Relay\\uAC00 \\uB354 \\uC774\\uC0C1 \\uD2B9\\uC815 \\uCFFC\\uB9AC \\uC778\\uC2A4\\uD134\\uC2A4\\uC5D0 \\uB300\\uD55C \\uCE90\\uC2DC\\uB97C \\uB354 \\uC774\\uC0C1 \\uAC00\\uC9C0\\uACE0 \\uC788\\uC9C0 \\uC54A\\uC744 \\uAC83\\uC774\\uB77C\\uB294 \\uAC83 \\uC785\\uB2C8\\uB2E4.(\",(0,e.jsx)(n.a,{href:\"https://relay.dev/docs/guided-tour/reusing-cached-data/\",children:\"Resuing Cached Data For Render\"}),\"\\uC5D0\\uC11C query data lifecycle\\uC5D0 \\uB300\\uD574\\uC11C \\uC54C \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4). \\uCD94\\uAC00\\uC801\\uC73C\\uB85C, \\uB9CC\\uC57D \\uCFFC\\uB9AC \\uC778\\uC2A4\\uD134\\uC2A4 \\uC0AD\\uC81C\\uAC00 \\uC774\\uB8E8\\uC5B4\\uC9C8\\uB54C query \\uC694\\uCCAD\\uC774 \\uC9C4\\uD589\\uC911\\uC774\\uBA74, \\uC694\\uCCAD\\uC774 \\uC790\\uB3D9\\uC801\\uC73C\\uB85C \\uCDE8\\uC18C\\uB420 \\uAC83 \\uC785\\uB2C8\\uB2E4.\"]}),(0,e.jsx)(n.li,{children:\"AppTabs \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uB294 \\uC774\\uC804 \\uC608\\uC81C\\uC5D0\\uC11C HomeTab \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uB97C \\uB80C\\uB354\\uB9C1\\uD569\\uB2C8\\uB2E4. \\uADF8\\uB9AC\\uACE0 \\uC801\\uC808\\uD55C query reference\\uB97C \\uB118\\uAE41\\uB2C8\\uB2E4. \\uC989, \\uBD80\\uBAA8 \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uAC00 \\uD574\\uB2F9 \\uCFFC\\uB9AC\\uC5D0 \\uB300\\uD55C \\uB370\\uC774\\uD130\\uC758 lifetime\\uC744 \\uAC00\\uC9C0\\uACE0 \\uC788\\uC73C\\uBA70, \\uC774 \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uAC00 \\uC5B8\\uB9C8\\uC6B4\\uD2B8 \\uB420 \\uB54C query \\uC778\\uC2A4\\uD134\\uC2A4\\uB97C \\uBD84\\uD574\\uD560 \\uAC83 \\uC785\\uB2C8\\uB2E4.\"}),(0,e.jsx)(n.li,{children:\"\\uB9C8\\uC9C0\\uB9C9\\uC73C\\uB85C, useQueryLoader \\uD6C5\\uC744 \\uC0AC\\uC6A9\\uD558\\uAE30 \\uC804\\uC5D0 Relay Environment Provider\\uB97C \\uC774\\uC6A9\\uD574\\uC11C Relay \\uD658\\uACBD\\uC744 \\uC81C\\uACF5\\uD574\\uC57C \\uD569\\uB2C8\\uB2E4.\"})]}),(0,e.jsx)(n.p,{children:\"\\uB54C\\uB54C\\uB85C, \\uBD80\\uBAA8 \\uCEF4\\uD3EC\\uB10C\\uD2B8 \\uBC14\\uAE65\\uC758 context\\uC5D0\\uC11C \\uB370\\uC774\\uD130 fetching\\uC744 \\uC2DC\\uC791\\uD558\\uACE0 \\uC2F6\\uC744 \\uB54C\\uAC00 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uC608\\uB97C \\uB4E4\\uBA74 \\uC5B4\\uD50C\\uB9AC\\uCF00\\uC774\\uC158\\uC758 \\uCD08\\uAE30 \\uB85C\\uB4DC\\uB97C \\uC704\\uD55C \\uB370\\uC774\\uD130\\uB97C \\uBD88\\uB7EC\\uC62C\\uB54C \\uB9D0\\uC785\\uB2C8\\uB2E4. \\uC774\\uB7F0 \\uACBD\\uC6B0, useQueryLoader\\uB97C \\uC0AC\\uC6A9\\uD560 \\uD544\\uC694 \\uC5C6\\uC774 loadQuery API\\uB97C \\uC9C1\\uC811\\uC801\\uC73C\\uB85C \\uC0AC\\uC6A9\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"}),(0,e.jsx)(n.pre,{className:\"language-tsx\",children:(0,e.jsxs)(n.code,{className:\"language-tsx code-highlight\",children:[(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"type\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"HomeTabQuery\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"as\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"HomeTabQueryType\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'HomeTabQuery.graphql'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"HomeTabQuery\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"require\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'HomeTabQuery.graphql'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"loadQuery\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"require\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'react-relay'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" environment \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"createEnvironment\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token operator spread\",children:\"...\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// At some point during app initialization\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" initialQueryRef \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsxs)(n.span,{className:\"token generic-function\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"loadQuery\"}),(0,e.jsxs)(n.span,{className:\"token class-name generic\",children:[(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"HomeTabQueryType\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"})]})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  environment\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"HomeTabQuery\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"id\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'4'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// ...\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// E.g. passing the initialQueryRef to the root component\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"render\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003c\"}),(0,e.jsx)(n.span,{className:\"token class-name\",children:\"AppTabs\"})]}),\" \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"initialQueryRef\"}),(0,e.jsxs)(n.span,{className:\"token language-javascript script\",children:[(0,e.jsx)(n.span,{className:\"token punctuation script-punctuation\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"initialQueryRef\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"initialTab\"}),(0,e.jsxs)(n.span,{className:\"token language-javascript script\",children:[(0,e.jsx)(n.span,{className:\"token punctuation script-punctuation\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token operator spread\",children:\"...\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"/\u003e\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`})]})}),(0,e.jsxs)(n.ul,{children:[(0,e.jsx)(n.li,{children:\"\\uC704\\uC758 \\uACBD\\uC6B0, PreloadedQuery \\uC778\\uC2A4\\uD134\\uC2A4\\uB97C \\uC9C1\\uC811\\uC801\\uC73C\\uB85C \\uC5BB\\uAE30 \\uC704\\uD574\\uC11C loadQuery \\uD568\\uC218\\uB97C \\uD638\\uCD9C\\uD558\\uACE0 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uD574\\uB2F9 \\uC778\\uC2A4\\uD134\\uC2A4\\uB294 usePreloadedQuery\\uB97C \\uC0AC\\uC6A9\\uD558\\uB294 \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC5D0\\uAC8C \\uD6C4\\uCD94 \\uB118\\uAE38 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"}),(0,e.jsx)(n.li,{children:\"\\uC774 \\uACBD\\uC6B0, AppTabs \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uAC00 query reference\\uC758 lifetime\\uC744 \\uAC00\\uC9C0\\uACE0 \\uC788\\uB2E4\\uACE0 \\uC608\\uC0C1\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"}),(0,e.jsx)(n.li,{children:'\\uC774 \\uC608\\uC81C\\uC5D0\\uC11C \"app initialization\"\\uC758 \\uC138\\uBD80\\uC0AC\\uD56D\\uC5D0 \\uB300\\uD574\\uC11C \\uB2E8\\uC21C\\uD558\\uAC8C \\uB118\\uACBC\\uB294\\uB370, \\uC774\\uB294 \\uC5B4\\uD50C\\uB9AC\\uCF00\\uC774\\uC158 \\uB9C8\\uB2E4 \\uB9E4\\uC6B0 \\uB2E4\\uB97C \\uAC83\\uC774\\uAE30 \\uB54C\\uBB38\\uC785\\uB2C8\\uB2E4. \\uC5EC\\uAE30\\uC5D0\\uC11C \\uC911\\uC694\\uD558\\uAC8C \\uBCF4\\uACE0 \\uB118\\uC5B4\\uAC00\\uC57C\\uD560 \\uAC83\\uC740 root \\uCEF4\\uD3EC\\uB10C\\uD2B8 \\uB80C\\uB354\\uB9C1\\uC744 \\uC2DC\\uC791\\uD558\\uAE30 \\uC804\\uC5D0 query reference\\uB97C \\uD68D\\uB4DD\\uD574\\uC57C\\uD55C\\uB2E4\\uB294 \\uAC83 \\uC785\\uB2C8\\uB2E4. \\uC2E4\\uC81C\\uB85C, loadQuery\\uB294 \\uB9AC\\uC5D1\\uD2B8 \\uB80C\\uB354\\uB9C1 phase\\uC5D0\\uC11C \\uD638\\uCD9C\\uB418\\uBA74 \\uC5D0\\uB7EC\\uB97C \\uBC18\\uD658\\uD560 \\uAC83 \\uC785\\uB2C8\\uB2E4.'})]}),(0,e.jsxs)(n.h2,{id:\"render-as-you-fetch\",children:[(0,e.jsx)(n.a,{href:\"#render-as-you-fetch\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Render as you Fetch\"]}),(0,e.jsxs)(n.p,{children:[\"\\uC704\\uC758 \\uC608\\uC81C\\uB4E4\\uC740 \\uB370\\uC774\\uD130\\uB97C \\uAC00\\uB2A5\\uD55C \\uBE68\\uB9AC \\uAC00\\uC838\\uC640\\uC11C \\uC720\\uC800\\uC5D0\\uAC8C \\uCEE8\\uD150\\uCE20\\uB97C \\uBCF4\\uC5EC\\uC8FC\\uAE30 \\uC704\\uD574\\uC11C \\uB80C\\uB354\\uB9C1\\uC73C\\uB85C \\uBD80\\uD130 \\uB370\\uC774\\uD130 fetching\\uC744 \\uC5B4\\uB5BB\\uAC8C \\uBD84\\uB9AC\\uD574\\uC57C\\uD560\\uC9C0 \\uBCF4\\uC5EC\\uC90D\\uB2C8\\uB2E4. \\uC774\\uB97C \\uD1B5\\uD574 waterfalling round trip\\uC744 \\uBC29\\uC9C0\\uD560 \\uC218 \\uC788\\uACE0, \\uB354 \\uB9CE\\uC740 \\uC81C\\uC5B4\\uAD8C\\uACFC fetch\\uAC00 \\uBC1C\\uC0DD\\uD588\\uC744\\uB54C \\uC608\\uCE21\\uAC00\\uB2A5\\uC131\\uC744 \\uC6B0\\uB9AC\\uC5D0\\uAC8C \\uC90D\\uB2C8\\uB2E4. \\uBC18\\uBA74 \\uC6B0\\uB9AC \\uB80C\\uB354\\uB9C1 \\uC911 fetch\\uAC00 \\uBC1C\\uC0DD\\uD558\\uBA74, \\uC5B4\\uB290 \\uC2DC\\uC810\\uC5D0 fetch\\uAC00 \\uBC1C\\uC0DD\\uD560\\uC9C0 \\uACB0\\uC815\\uD558\\uAE30 \\uD798\\uB4E4\\uC5B4\\uC9D1\\uB2C8\\uB2E4. \\uC774 \\uBD80\\uBD84\\uC740 React suspense\\uC758 \",(0,e.jsx)(n.a,{href:\"https://17.reactjs.org/docs/concurrent-mode-suspense.html#approach-3-render-as-you-fetch-using-suspense\",children:\"render-as-you-fetch\"}),\" \\uD328\\uD134\\uACFC \\uB9E4\\uC6B0 \\uC720\\uC0AC\\uD569\\uB2C8\\uB2E4.\"]}),(0,e.jsx)(n.p,{children:\"\\uC774 \\uD328\\uD134\\uC740 Relay\\uAC00 \\uB370\\uC774\\uD130 fetching\\uC744 \\uD560\\uB54C \\uC120\\uD638\\uD558\\uB294 \\uD328\\uD134\\uC785\\uB2C8\\uB2E4. \\uADF8\\uB9AC\\uACE0 \\uC774 \\uD328\\uD134\\uC740 \\uC5EC\\uB7EC \\uC0C1\\uD669\\uC5D0\\uC11C \\uC801\\uC6A9\\uB418\\uB294\\uB370, \\uC608\\uB97C \\uB4E4\\uBA74 \\uC5B4\\uD50C\\uB9AC\\uCF00\\uC774\\uC158 \\uCD08\\uAE30 \\uB85C\\uB529\\uD560\\uB54C, subsequent navigation\\uC774 \\uB418\\uB294 \\uB3D9\\uC548, \\uB610\\uB294 \\uC77C\\uBC18\\uC801\\uC73C\\uB85C UI \\uC694\\uC18C\\uAC00 \\uCD08\\uAE30\\uC5D0 \\uC228\\uACA8\\uC838\\uC788\\uAC70\\uB098 \\uCD94\\uD6C4 \\uC778\\uD130\\uB809\\uC158\\uC5D0 \\uC758\\uD574 \\uB4DC\\uB7EC\\uB0B4\\uC5B4 \\uC9C8\\uB54C(menu, popover, dialog, \\uB4F1\\uB4F1), \\uADF8\\uB9AC\\uACE0 \\uCD94\\uAC00\\uC801\\uC778 \\uB370\\uC774\\uD130\\uB97C \\uBD88\\uB7EC\\uC62C\\uB54C \\uC798 \\uC801\\uC6A9\\uB420 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"}),(0,e.jsxs)(n.h2,{id:\"lazily-fetching-queries-during-render\",children:[(0,e.jsx)(n.a,{href:\"#lazily-fetching-queries-during-render\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Lazily Fetching Queries during Render\"]}),(0,e.jsx)(n.p,{children:\"\\uCFFC\\uB9AC\\uB97C \\uBD88\\uB7EC\\uC62C\\uB54C \\uB2E4\\uB978 \\uB300\\uC548\\uC740 \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uAC00 \\uB80C\\uB354\\uB9C1 \\uB420 \\uB54C \\uAC8C\\uC73C\\uB974\\uAC8C(lazily) \\uCFFC\\uB9AC\\uB97C fetch\\uD558\\uB294 \\uAC83 \\uC785\\uB2C8\\uB2E4. \\uADF8\\uB807\\uC9C0\\uB9CC, \\uC774\\uC804\\uC5D0 \\uC5B8\\uAE09\\uD588\\uB2E4\\uC2F6\\uC774, \\uC120\\uD638\\uB418\\uB294 \\uD328\\uD134\\uC740 rendering \\uB418\\uAE30 \\uC804\\uC5D0 \\uCFFC\\uB9AC fetching\\uC744 \\uC2DC\\uC791\\uD558\\uB294 \\uAC83 \\uC785\\uB2C8\\uB2E4. \\uB9CC\\uC57D \\uAC8C\\uC73C\\uB978 fetching\\uC774 \\uACBD\\uACE0 \\uC5C6\\uC774 \\uC0AC\\uC6A9\\uB418\\uC5B4\\uC84C\\uB2E4\\uBA74, nested \\uB610\\uB294 waterfalling round trip\\uC744 \\uBC1C\\uC0DD\\uC2DC\\uD0AC \\uC218 \\uC788\\uC73C\\uBA70, \\uC774\\uB294 \\uC131\\uB2A5 \\uD558\\uB77D\\uC73C\\uB85C \\uC774\\uC5B4\\uC9C8 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4\"}),(0,e.jsxs)(n.p,{children:[\"\\uCFFC\\uB9AC\\uB97C \\uAC8C\\uC73C\\uB974\\uAC8C fetch\\uD558\\uAE30 \\uC704\\uD574\\uC11C, \",(0,e.jsx)(n.code,{children:\"useLazyLoadQuery\"}),\" Hook\\uC744 \\uC0AC\\uC6A9\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4\"]}),(0,e.jsx)(n.pre,{className:\"language-tsx\",children:(0,e.jsxs)(n.code,{className:\"language-tsx code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"React\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"require\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'React'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" graphql\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" useLazyLoadQuery \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"require\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'react-relay'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"App\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" data \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"useLazyLoadQuery\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    graphql\",(0,e.jsxs)(n.span,{className:\"token template-string\",children:[(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,e.jsx)(n.span,{className:\"token language-graphql graphql\",children:`\n`})]})]}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token template-string\",children:(0,e.jsxs)(n.span,{className:\"token language-graphql graphql\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"query\"}),\" \",(0,e.jsx)(n.span,{className:\"token function definition-query\",children:\"AppQuery\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token variable\",children:\"$id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token scalar\",children:\"ID\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token template-string\",children:(0,e.jsxs)(n.span,{className:\"token language-graphql graphql\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token property-query\",children:\"user\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable\",children:\"$id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]})})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token template-string\",children:(0,e.jsxs)(n.span,{className:\"token language-graphql graphql\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token property\",children:\"name\"}),`\n`]})})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token template-string\",children:(0,e.jsxs)(n.span,{className:\"token language-graphql graphql\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token template-string\",children:(0,e.jsxs)(n.span,{className:\"token language-graphql graphql\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsxs)(n.span,{className:\"token template-string\",children:[(0,e.jsx)(n.span,{className:\"token language-graphql graphql\",children:\"    \"}),(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" id\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'4'\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"return\"}),\" \",(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003c\"}),\"h1\"]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003e\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"data\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"user\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"?.\"}),\"name\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsxs)(n.span,{className:\"token tag\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003c/\"}),\"h1\"]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"\u003e\"})]}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"\\uC5B4\\uB5A4 \\uC77C\\uC774 \\uC77C\\uC5B4\\uB098\\uB294\\uC9C0 \\uBD05\\uC2DC\\uB2E4\"}),(0,e.jsxs)(n.ul,{children:[(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"useLazyLoadQuery\"}),\"\\uB294 graphql query\\uC640 \\uD574\\uB2F9 \\uCFFC\\uB9AC\\uB97C \\uC704\\uD55C \\uBA87\\uAC1C\\uC758 \\uBCC0\\uC218\\uB97C \\uCDE8\\uD569\\uB2C8\\uB2E4. \\uADF8\\uB9AC\\uACE0 \\uD574\\uB2F9 \\uCFFC\\uB9AC\\uB97C \\uD1B5\\uD574 \\uC5BB\\uC5B4\\uC9C4 \\uB370\\uC774\\uD130\\uB97C \\uBC18\\uD658\\uD569\\uB2C8\\uB2E4. \\uBCC0\\uC218\\uB4E4\\uC740 GraphQL \\uCFFC\\uB9AC \\uC548\\uC5D0\\uC11C \\uCD94\\uB860\\uB41C \\uBCC0\\uC218\\uB4E4\\uC758 \\uAC12\\uC744 \\uAC00\\uC9C4 \\uAC1D\\uCCB4\\uC785\\uB2C8\\uB2E4.\"]}),(0,e.jsx)(n.li,{children:\"fragment\\uB4E4\\uACFC \\uC720\\uC0AC\\uD558\\uAC8C, \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uB294 \\uC790\\uB3D9\\uC73C\\uB85C query data \\uC5C5\\uB370\\uC774\\uD2B8\\uC5D0 \\uB300\\uD574 \\uAD6C\\uB3C5 \\uB418\\uC5B4\\uC9D1\\uB2C8\\uB2E4. \\uB9CC\\uC57D \\uD574\\uB2F9 \\uCFFC\\uB9AC\\uC5D0 \\uB300\\uD55C \\uB370\\uC774\\uD130\\uAC00 \\uC5B4\\uD50C\\uB9AC\\uCF00\\uC774\\uC158 \\uC5B4\\uB514\\uC120\\uAC00 \\uC5C5\\uB370\\uC774\\uD2B8\\uAC00 \\uB41C\\uB2E4\\uBA74, \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uB294 \\uAC00\\uC7A5 \\uCD5C\\uADFC\\uC5D0 \\uC5C5\\uB370\\uC774\\uD2B8 \\uB41C \\uB370\\uC774\\uD130\\uB85C \\uC790\\uB3D9\\uC801\\uC73C\\uB85C re-render\\uB420 \\uAC83 \\uC785\\uB2C8\\uB2E4.\"}),(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"useLazyLoadQuery\"}),\"\\uB294 \\uCD94\\uAC00\\uC801\\uC73C\\uB85C Flow type parameter\\uB97C \\uBC1B\\uC2B5\\uB2C8\\uB2E4. \\uD574\\uB2F9 parameter\\uB294 query\\uC5D0 \\uB300\\uD55C flow type\\uACFC \\uBD80\\uD569\\uD558\\uBA70, \\uC608\\uC81C\\uC758 \\uACBD\\uC6B0 AppQuery\\uC785\\uB2C8\\uB2E4.\",(0,e.jsxs)(n.ul,{children:[(0,e.jsxs)(n.li,{children:[\"Relay\\uAC00 \\uC120\\uC5B8\\uB41C \\uCFFC\\uB9AC\\uB4E4\\uC5D0 \\uB300\\uD55C Flow type\\uC744 \\uC790\\uB3D9\\uC73C\\uB85C \\uC0DD\\uC131\\uD55C\\uB2E4\\uB294 \\uAC83\\uC744 \\uBA85\\uC2EC\\uD558\\uC138\\uC694. \\uC790\\uB3D9 \\uC0DD\\uC131\\uB41C \\uD0C0\\uC785\\uB4E4\\uC740 import\\uD574\\uC11C \",(0,e.jsx)(n.code,{children:\"useLazyLoadQuery\"}),\"\\uC5D0\\uC11C \\uC0AC\\uC6A9\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uD574\\uB2F9 \\uD0C0\\uC785\\uB4E4\\uC740 \",(0,e.jsx)(n.code,{children:\"\u003cquery_name\u003e.graphql.js\"}),\" \\uD615\\uC2DD\\uC73C\\uB85C\\uB41C name format\\uC5D0 \\uB530\\uB77C\\uC11C \\uC0DD\\uC131\\uB41C \\uD30C\\uC77C\\uC744 \\uC0AC\\uC6A9\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"]}),(0,e.jsx)(n.li,{children:\"\\uB118\\uACA8\\uC9C4 variable\\uB4E4\\uC740 Graphql query\\uAC00 \\uC608\\uC0C1\\uD558\\uB294 \\uD0C0\\uC785\\uACFC \\uBD80\\uD569\\uD558\\uB294\\uC9C0 Flow type \\uCCB4\\uD06C\\uAC00 \\uB420 \\uAC83 \\uC785\\uB2C8\\uB2E4.\"}),(0,e.jsxs)(n.li,{children:[\"\\uBA85\\uC2DC\\uC801\\uC778 \\uC778\\uC6A9\\uAD6C \\uC5C6\\uC774\\uB3C4 \\uB370\\uC774\\uD130\\uB294 \\uC774\\uBBF8 \\uC801\\uC808\\uD558\\uAC8C Flow-type\\uC774 \\uB418\\uC5C8\\uB2E4\\uB294 \\uAC83\\uC5D0 \\uC8FC\\uC758\\uD558\\uC138\\uC694. \\uADF8\\uB9AC\\uACE0 \\uD574\\uB2F9 \\uD0C0\\uC785\\uC740 GraphQL \\uC2A4\\uD0A4\\uB9C8\\uB97C \\uAE30\\uBC18\\uC73C\\uB85C \\uD0C0\\uC785\\uC774 \\uC0DD\\uC131\\uB429\\uB2C8\\uB2E4. \\uC608\\uB97C \\uB4E4\\uBA74, \\uC704\\uC758 \",(0,e.jsx)(n.code,{children:\"data\"}),\"\\uB294 \",(0,e.jsx)(n.code,{children:\"{ user: ?{ name: ?string } }\"}),\"\\uC758 \\uD0C0\\uC785\\uC744 \\uAC00\\uC9C0\\uAC8C \\uB420 \\uAC83 \\uC785\\uB2C8\\uB2E4.\"]})]})]}),(0,e.jsxs)(n.li,{children:[\"\\uAE30\\uBCF8\\uC801\\uC73C\\uB85C, \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uAC00 \\uB80C\\uB354\\uB9C1 \\uB420 \\uB54C, Relay\\uB294 query\\uC5D0 \\uB300\\uD55C \\uB370\\uC774\\uD130\\uB97C \\uAC00\\uC838\\uC62C \\uAC83 \\uC785\\uB2C8\\uB2E4(\\uCE90\\uC2F1\\uB418\\uC9C0 \\uC54A\\uC558\\uB2E4\\uBA74\\uC694). \\uADF8\\uB9AC\\uACE0 useLazyLoadQuery\\uB97C \\uD638\\uCD9C\\uD568\\uC73C\\uB85C\\uC368 \\uACB0\\uACFC\\uAC12\\uC744 \\uAC00\\uC838\\uC62C \\uAC83 \\uC785\\uB2C8\\uB2E4. \\uC6B0\\uB9AC\\uB294 \",(0,e.jsx)(n.a,{href:\"https://relay.dev/docs/guided-tour/rendering/loading-states/\",children:\"Loading States with Suspense\"}),\"\\uC5D0\\uC11C \\uB354 \\uC790\\uC138\\uD55C \\uB0B4\\uC6A9\\uC744 \\uC0B4\\uD3B4\\uBCFC \\uAC83 \\uC774\\uBA70, \\uADF8\\uB9AC\\uACE0 \\uC5B4\\uB5BB\\uAC8C Relay\\uAC00 \\uB370\\uC774\\uD130\\uB97C \\uCE90\\uC2F1\\uD558\\uB294\\uC9C0 \",(0,e.jsx)(n.a,{href:\"https://relay.dev/docs/guided-tour/reusing-cached-data/\",children:\"Reusing Cached Data For Rendering\"}),\"\\uBB38\\uC11C\\uC5D0\\uC11C \\uC0B4\\uD3B4\\uBCFC \\uAC83 \\uC785\\uB2C8\\uB2E4.\"]}),(0,e.jsx)(n.li,{children:\"\\uB9CC\\uC57D \\uB2F9\\uC2E0\\uC758 \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uB97C re-render\\uD558\\uBA74\\uC11C \\uB2E4\\uB978 query variable\\uB4E4\\uC744 query\\uC5D0 \\uB123\\uC5C8\\uB2E4\\uBA74, \\uC0C8\\uB85C\\uC6B4 \\uBCC0\\uC218\\uB4E4\\uC5D0 \\uB300\\uD55C \\uC0C8\\uB85C\\uC6B4 \\uB370\\uC774\\uD130\\uB97C \\uAC00\\uC838\\uC62C \\uAC83 \\uC774\\uBA70, \\uC774\\uB294 \\uC7A0\\uC7AC\\uC801\\uC73C\\uB85C \\uB2E4\\uB978 \\uB370\\uC774\\uD130\\uB85C re-render\\uB420 \\uAC83 \\uC785\\uB2C8\\uB2E4.\"}),(0,e.jsx)(n.li,{children:\"\\uB9C8\\uC9C0\\uB9C9\\uC73C\\uB85C, \\uAF2D query\\uB97C \\uB80C\\uB354\\uB9C1 \\uD558\\uAE30 \\uC804\\uC5D0 Relay Environment Provider\\uB97C \\uC774\\uC6A9\\uD574\\uC11C Relay environment\\uB97C \\uC81C\\uACF5\\uD558\\uC138\\uC694.\"})]})]})}}var q=f;return Q;})();\n;return Component;","toc":[{"value":"GraphQL Queries","url":"#graphql-queries","depth":2},{"value":"Rendering Queries","url":"#rendering-queries","depth":2},{"value":"Fetching Queries for Render","url":"#fetching-queries-for-render","depth":2},{"value":"Render as you Fetch","url":"#render-as-you-fetch","depth":2},{"value":"Lazily Fetching Queries during Render","url":"#lazily-fetching-queries-during-render","depth":2}],"frontMatter":{"readingTime":{"text":"10 min read","minutes":9.68,"time":580800,"words":1936},"slug":"backend/graphql-queries","fileName":"backend/graphql-queries.mdx","title":"[번역] Relay - Graphql Queries","date":"2023-01-04T00:00:00.000Z","tags":["graphql","relay"],"draft":false,"summary":"Relay 문서의 Graphql Queries 항목 번역","images":[],"layout":"PostLayout"}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.425,"time":25500,"words":85},"slug":["default"],"fileName":"default.mdx","name":"Kim, Dong-Wook","avatar":"/static/images/avatar.png","occupation":"Frontend Developer","company":"Krafton Inc.","email":"woody.morgan.crafts@gmail.com","linkedin":"https://www.linkedin.com/in/woody-morgan/","github":"https://github.com/woody-morgan","date":null}],"prev":{"title":"[번역] Relay - Graphql mutations","date":"2023-01-03T00:00:00.000Z","tags":["graphql","relay"],"draft":false,"summary":"Relay 문서의 Graphql Mutation 항목 번역","images":[],"layout":"PostLayout","slug":"backend/graphql-mutations"},"next":{"title":"[번역] Relay - Graphql Arrays and Lists","date":"2023-01-09T07:49:00.000Z","tags":["graphql","relay"],"draft":false,"summary":"Relay 문서의 Graphql Arrays and Lists 항목 번역","images":[],"layout":"PostLayout","slug":"backend/graphql-arrays-n-lists"}},"__N_SSG":true},"page":"/blog/[...slug]","query":{"slug":["backend","graphql-queries"]},"buildId":"pin5XU8JHb5SU8uL0Jiye","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>