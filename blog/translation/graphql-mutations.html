<!DOCTYPE html><html lang="en" class="scroll-smooth"><head><link rel="apple-touch-icon" sizes="76x76" href="/static/favicons/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/static/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/static/favicons/favicon-16x16.png"/><link rel="manifest" href="/static/favicons/site.webmanifest"/><link rel="mask-icon" href="/static/favicons/safari-pinned-tab.svg" color="#5bbad5"/><meta name="msapplication-TileColor" content="#000000"/><meta name="theme-color" content="#000000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"/><meta charSet="utf-8"/><script>!function(){try {var d=document.documentElement.classList;d.remove('light','dark');var e=localStorage.getItem('theme');if("system"===e||(!e&&true)){var t="(prefers-color-scheme: dark)",m=window.matchMedia(t);m.media!==t||m.matches?d.add('dark'):d.add('light')}else if(e) d.add(e)}catch(e){}}()</script><meta content="width=device-width, initial-scale=1" name="viewport"/><title>[번역] Relay - Graphql mutations</title><meta name="robots" content="follow, index"/><meta name="description" content="Relay 문서의 Graphql Mutation 항목 번역"/><meta property="og:url" content="https://woodi97.github.io//blog/translation/graphql-mutations"/><meta property="og:type" content="article"/><meta property="og:site_name" content="woodi97.github.io"/><meta property="og:description" content="Relay 문서의 Graphql Mutation 항목 번역"/><meta property="og:title" content="[번역] Relay - Graphql mutations"/><meta property="og:image" content="https://woodi97.github.io//static/images/avatar.png"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content=""/><meta name="twitter:title" content="[번역] Relay - Graphql mutations"/><meta name="twitter:description" content="Relay 문서의 Graphql Mutation 항목 번역"/><meta name="twitter:image" content="https://woodi97.github.io//static/images/avatar.png"/><meta property="article:published_time" content="2023-01-03T00:00:00.000Z"/><link rel="canonical" href="https://woodi97.github.io//blog/translation/graphql-mutations"/><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "Article",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://woodi97.github.io//blog/translation/graphql-mutations"
  },
  "headline": "[번역] Relay - Graphql mutations",
  "image": [
    {
      "@type": "ImageObject",
      "url": "https://woodi97.github.io//static/images/avatar.png"
    }
  ],
  "datePublished": "2023-01-03T00:00:00.000Z",
  "dateModified": "2023-01-03T00:00:00.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "Kim, Dong-Wook"
    }
  ],
  "publisher": {
    "@type": "Organization",
    "name": "woodi97",
    "logo": {
      "@type": "ImageObject",
      "url": "https://woodi97.github.io//static/images/logo.png"
    }
  },
  "description": "Relay 문서의 Graphql Mutation 항목 번역"
}</script><meta name="next-head-count" content="20"/><link rel="preload" href="/_next/static/css/d97594294b7cc965.css" as="style"/><link rel="stylesheet" href="/_next/static/css/d97594294b7cc965.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-906b3afc5706f7da.js" defer=""></script><script src="/_next/static/chunks/main-63e2e8f7580e9625.js" defer=""></script><script src="/_next/static/chunks/pages/_app-8f5a6f96dd36f463.js" defer=""></script><script src="/_next/static/chunks/860-5d67c27e6b591244.js" defer=""></script><script src="/_next/static/chunks/357-66bac407b847e9de.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5B...slug%5D-06009771ac4d9070.js" defer=""></script><script src="/_next/static/iznTHZmAnO-DpZn0a4XsR/_buildManifest.js" defer=""></script><script src="/_next/static/iznTHZmAnO-DpZn0a4XsR/_ssgManifest.js" defer=""></script><script src="/_next/static/iznTHZmAnO-DpZn0a4XsR/_middlewareManifest.js" defer=""></script></head><body class="bg-white text-black antialiased dark:bg-gray-900 dark:text-white"><div id="__next" data-reactroot=""><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="flex h-screen flex-col justify-between"><header class="flex items-center justify-between py-10"><div><a aria-label="WOODI" href="/"><div class="flex items-center justify-between"><div class="mr-3"><svg xmlns="http://www.w3.org/2000/svg" class="flex text-gray-900 dark:text-gray-100" viewBox="0 0 128 128" width="48" height="48" fill="currentColor"><g transform="translate(0.000000,132.000000) scale(0.100000,-0.100000)"><path d="M523 1126 c-181 -44 -334 -202 -372 -384 -35 -166 15 -330 138 -453 199 -199 503 -199 702 0 199 199 199 503 0 702 -126 126 -299 176 -468 135z m259 -57 c191 -64 308 -227 308 -429 0 -256 -194 -450 -450 -450 -256 0 -450 194 -450 450 0 200 116 364 305 429 82 28 204 28 287 0z"></path><path d="M533 1006 c-104 -34 -194 -114 -241 -214 -23 -49 -27 -70 -27 -152 0 -87 3 -101 32 -161 39 -80 111 -150 191 -187 49 -23 70 -27 152 -27 87 0 101 3 161 32 80 39 150 111 187 191 23 49 27 70 27 152 0 82 -4 103 -27 152 -37 79 -108 152 -185 190 -54 26 -79 32 -146 35 -51 2 -98 -2 -124 -11z m89 -93 c2 -44 7 -58 18 -58 11 0 16 14 18 58 3 53 5 57 27 57 53 0 136 -42 190 -95 53 -54 95 -137 95 -190 0 -22 -4 -24 -57 -27 -44 -2 -58 -7 -58 -18 0 -11 14 -16 58 -18 53 -3 57 -5 57 -27 0 -53 -42 -136 -95 -190 -54 -53 -137 -95 -190 -95 -22 0 -24 4 -27 58 -2 43 -7 57 -18 57 -11 0 -16 -14 -18 -57 -3 -54 -5 -58 -27 -58 -53 0 -136 42 -190 95 -53 54 -95 137 -95 190 0 22 4 24 58 27 43 2 57 7 57 18 0 11 -14 16 -57 18 -54 3 -58 5 -58 27 0 13 9 50 21 80 38 103 166 203 261 204 26 1 27 -1 30 -56z"></path><path d="M664 839 c-8 -13 12 -32 64 -61 17 -9 42 -35 57 -58 26 -42 47 -48 53 -16 11 57 -146 180 -174 135z"></path><path d="M513 754 c-3 -9 5 -26 21 -43 19 -20 26 -38 26 -67 0 -54 31 -84 86 -84 33 0 46 -7 74 -35 37 -38 70 -46 70 -17 0 10 -16 33 -35 52 -29 28 -35 41 -35 75 0 55 -31 85 -86 85 -30 0 -47 6 -64 25 -27 29 -48 32 -57 9z m157 -89 c26 -32 -13 -81 -47 -59 -35 22 -23 74 17 74 10 0 23 -7 30 -15z"></path></g></svg></div><div class="hidden h-6 text-2xl font-semibold sm:block">WOODI</div></div></a></div><div class="flex items-center text-base leading-5"><div class="hidden sm:block"><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/blog">Blog</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/tags">Tags</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/projects">Projects</a><a class="p-1 font-medium text-gray-900 dark:text-gray-100 sm:p-4" href="/about">About</a></div><button aria-label="Toggle Dark Mode" type="button" class="ml-1 mr-1 h-8 w-8 rounded p-1 sm:ml-4"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100" opacity="0"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg></button><div class="sm:hidden"><button type="button" class="ml-1 mr-1 h-8 w-8 rounded py-1" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg></button><div class="fixed top-24 right-0 z-[1000] h-full w-full transform bg-gray-200 opacity-95 duration-300 ease-in-out dark:bg-gray-800 translate-x-full"><button type="button" aria-label="toggle modal" class="fixed h-full w-full cursor-auto focus:outline-none"></button><nav class="fixed mt-8 h-full"><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/blog">Blog</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/tags">Tags</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/projects">Projects</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/about">About</a></div></nav></div></div></div></header><main class="mb-auto"><div style="opacity:1"><div class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><article><div class="xl:divide-y xl:divide-gray-200 xl:dark:divide-gray-700"><header class="pt-6 xl:pb-6"><div class="space-y-1 text-center"><dl class="space-y-10"><div><dt class="sr-only">Published on</dt><dd class="text-base font-medium leading-6 text-gray-500 dark:text-gray-400"><time dateTime="2023-01-03T00:00:00.000Z">2023년 1월 3일 화요일</time></dd></div></dl><div><h1 class="text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14">[번역] Relay - Graphql mutations</h1></div></div></header><div class="divide-y divide-gray-200 pb-8 dark:divide-gray-700 xl:grid xl:grid-cols-4 xl:gap-x-6 xl:divide-y-0" style="grid-template-rows:auto 1fr"><dl class="pt-6 pb-10 xl:border-b xl:border-gray-200 xl:pt-11 xl:dark:border-gray-700"><dt class="sr-only">Authors</dt><dd><ul class="flex justify-center space-x-8 sm:space-x-12 xl:block xl:space-x-0 xl:space-y-8"><li class="flex items-center space-x-2"><img src="/static/images/avatar.png" width="38px" height="38px" alt="avatar" class="h-10 w-10 rounded-full"/><dl class="whitespace-nowrap text-sm font-medium leading-5"><dt class="sr-only">Name</dt><dd class="text-gray-900 dark:text-gray-100">Kim, Dong-Wook</dd><dt class="sr-only">Twitter</dt><dd></dd></dl></li></ul></dd></dl><div class="divide-y divide-gray-200 dark:divide-gray-700 xl:col-span-3 xl:row-span-2 xl:pb-0"><div class="prose max-w-none pt-10 pb-8 dark:prose-dark"><h2 id="graphql-mutation"><a href="#graphql-mutation" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>GraphQL Mutation</h2><p>GraphQL에서는 GraphQL mutations를 통해 서버의 데이터를 업데이트 합니다. Mutation은 server operation들을 읽고 쓰며, 두 작업 모두 backend의 데이터를 수정합니다. 그리고 해당 요청에 의해 수정된 데이터를 query할 수 있도록 합니다.</p><h3 id="writing-mutations"><a href="#writing-mutations" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Writing mutations</h3><p>GraphQL mutation은 query와 비슷해 보입니다. 단지 <code>mutation</code>이라는 키워드를 사용할 뿐입니다.</p><div class="relative"><pre><code class="language-graphql code-highlight"><span class="code-line"><span class="token keyword">mutation</span> <span class="token function definition-mutation">FeedbackLikeMutation</span><span class="token punctuation">(</span><span class="token variable variable-input">$input</span><span class="token punctuation">:</span> <span class="token class-name">FeedbackLikeData</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property-query property-mutation">feedback_like</span><span class="token punctuation">(</span><span class="token attr-name">data</span><span class="token punctuation">:</span> <span class="token variable variable-input">$input</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token object">feedback</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token property">id</span>
</span><span class="code-line">      <span class="token property">viewer_does_like</span>
</span><span class="code-line">      <span class="token property">like_count</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><ul><li>위에 있는 mutation 코드는 특정 Feedback 오브젝트를 &quot;like&quot;라고 표시하도록 서버에 요청합니다</li><li><code>feedback_like</code>은 mutation root field이며(또는 mutation field일 수도) backend 데이터를 업데이트 하도록 합니다</li><li>하나의 mutation은 2개의 step으로 진행됩니다. 첫째, 서버에서 업데이트가 진행될때, 그리고 query가 실행되었을때, 이런 작업은 당신이 보는 데이터가 이미 mutation reponse의 일환으로 이미 데이터가 업데이트 되었다는 것을 보장합니다</li></ul><p><code>주의: 같은 방식으로 쿼리들이 프로세싱 되었다는 것에 주의하세요. Outer selection들은 inner selection에 앞서 이미 계산되었습니다. 즉 이것은 convention의 문제일뿐입니다.(오직 top-level mutation field들만 side-effect가 있고 다른 field는 그렇지 않습니다)</code></p><ul><li>mutation field(이 경우 <code>feedback_like</code>)는 특정한 GraphQL type을 리턴합니다.(해당 GraphQL type은 mutation response안에서 어떤 데이터를 query 할 수 있는지 노출합니다)</li><li>이 경우, 우리는 업데이트 된 feedback object를 querying하고, 업데이트 된 <code>like_count</code>와 <code>viewer_does_like</code>를 포함해서 쿼리합니다.</li></ul><p>성공적인 query reponse는 다음과 같습니다</p><div class="relative"><pre><code class="language-graphql code-highlight"><span class="code-line">
</span><span class="code-line"><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token string">&quot;feedback_like&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token string">&quot;feedback&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;feedback-id&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token string">&quot;viewer_does_like&quot;</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token string">&quot;like_count&quot;</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span></code></pre></div><p>Relay에서는 graphql태그를 사용해서 GraphQL mutation들을 선언할 수 있습니다.</p><div class="relative"><pre><code class="language-graphql code-highlight"><span class="code-line">
</span><span class="code-line"><span class="token object">const</span> <span class="token punctuation">{</span><span class="token property">graphql</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token property-query">require</span><span class="token punctuation">(</span>&#x27;<span class="token property">react</span>-<span class="token property">relay</span>&#x27;<span class="token punctuation">)</span>;
</span><span class="code-line">
</span><span class="code-line"><span class="token property">const</span> <span class="token property">feedbackLikeMutation</span> <span class="token operator">=</span> <span class="token property">graphql</span>`
</span><span class="code-line">  <span class="token keyword">mutation</span> <span class="token function definition-mutation">FeedbackLikeMutation</span><span class="token punctuation">(</span><span class="token variable variable-input">$input</span><span class="token punctuation">:</span> <span class="token class-name">FeedbackLikeData</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property-query property-mutation">feedback_like</span><span class="token punctuation">(</span><span class="token attr-name">data</span><span class="token punctuation">:</span> <span class="token variable variable-input">$input</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token object">feedback</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token property">id</span>
</span><span class="code-line">        <span class="token property">viewer_does_like</span>
</span><span class="code-line">        <span class="token property">like_count</span>
</span><span class="code-line">      <span class="token punctuation">}</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">`;
</span><span class="code-line">
</span></code></pre></div><ul><li>query나 fragment들이 하는 방식과 똑같이 mutation 또한 GraphQL 변수들을 참조할 수 있습니다</li></ul><h2 id="using-usemutation-to-execute-a-mutation"><a href="#using-usemutation-to-execute-a-mutation" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Using useMutation to execute a mutation</h2><p>Relay를 통해서 서버에 mutation을 실행시키려면, <code>commitMutation</code>이나 useMutation API를 사용할 수 있습니다. useMutation API의 예를 한 번 봅시다</p><div class="relative"><pre><code class="language-graphql code-highlight"><span class="code-line">
</span><span class="code-line"><span class="token property">import</span> <span class="token keyword">type</span> <span class="token punctuation">{</span><span class="token property">FeedbackLikeData</span><span class="token punctuation">,</span> <span class="token property">LikeButtonMutation</span><span class="token punctuation">}</span> <span class="token property">from</span> &#x27;<span class="token property">LikeButtonMutation</span>.<span class="token property">graphql</span>&#x27;;
</span><span class="code-line">
</span><span class="code-line"><span class="token object">const</span> <span class="token punctuation">{</span><span class="token property">useMutation</span><span class="token punctuation">,</span> <span class="token property">graphql</span><span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token property-query">require</span><span class="token punctuation">(</span>&#x27;<span class="token property">react</span>-<span class="token property">relay</span>&#x27;<span class="token punctuation">)</span>;
</span><span class="code-line">
</span><span class="code-line"><span class="token property">function</span> <span class="token property-query">LikeButton</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token attr-name">feedbackId</span><span class="token punctuation">:</span> <span class="token property">string</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property">const</span> <span class="token punctuation">[</span><span class="token property">commitMutation</span><span class="token punctuation">,</span> <span class="token property">isMutationInFlight</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token property">useMutation</span>&lt;<span class="token property">LikeButtonMutation</span>&gt;<span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token property">graphql</span>`
</span><span class="code-line">      <span class="token keyword">mutation</span> <span class="token function definition-mutation">LikeButtonMutation</span><span class="token punctuation">(</span><span class="token variable variable-input">$input</span><span class="token punctuation">:</span> <span class="token class-name">FeedbackLikeData</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token property-query property-mutation">feedback_like</span><span class="token punctuation">(</span><span class="token attr-name">data</span><span class="token punctuation">:</span> <span class="token variable variable-input">$input</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">          <span class="token object">feedback</span> <span class="token punctuation">{</span>
</span><span class="code-line">            <span class="token property">viewer_does_like</span>
</span><span class="code-line">            <span class="token property">like_count</span>
</span><span class="code-line">          <span class="token punctuation">}</span>
</span><span class="code-line">        <span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token punctuation">}</span>
</span><span class="code-line">    `
</span><span class="code-line">  <span class="token punctuation">)</span>;
</span><span class="code-line">
</span><span class="code-line">  <span class="token property">return</span> &lt;<span class="token property">button</span>
</span><span class="code-line">    <span class="token property">onClick</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span>&gt; <span class="token property-query">commitMutation</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token attr-name">variables</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token attr-name">input</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token attr-name">id</span><span class="token punctuation">:</span> <span class="token property">feedbackId</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
</span><span class="code-line">    <span class="token property">disabled</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token property">isMutationInFlight</span><span class="token punctuation">}</span>
</span><span class="code-line">  &gt;
</span><span class="code-line">    <span class="token property">Like</span>
</span><span class="code-line">  &lt;/<span class="token property">button</span>&gt;
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span></code></pre></div><p>무슨 일이 일어나는지 한 번 봅시다</p><ul><li>useMutation은 유일한 인자로 graphql literal를 가집니다</li><li>해당 API는 tuple item들을 반환합니다<ul><li>UseMutationConfig을 받는 commitMutation callback과</li><li>mutation이 실행되고 있는지 알려주는 boolean 값을 줍니다</li></ul></li><li>게다가, useMutation은 Flow type parameter를 받습니다. query들은, Relay 컴파일러가 생성하는 mutation으로 부터 생성된 Flow Type을 파일을 export합니다<ul><li>만약 타입이 제공된다면, <code>UseMutationConfig</code>는 statically type할 수 있습니다. 항상 해당 타입을 제공하는 것은 가장 훌륭한 예입니다.</li></ul></li><li>이제 <code>commitMutation</code>이 mutation 변수들과 함께 불려진다면, Relay는 feedback_like 필드를 서버에서 실행하는 network request를 만듭니다. 이 예제에서, variable에 의해 특정된 feedback을 찾을 것이며, 서버에 해당 요청이 기록될 것 입니다.</li><li>field가 실행되면, backend는 업데이트 된 Feedback 객체를 선택할 것이며 <code>viewer_does_like</code>과 <code>like_count</code>를 특정해서 선택할 것 입니다.<ul><li><code>Feedback</code> 타입은 id field를 포함하기 때문에, Relay compiler는 자동적으로 id field를 이용해서 자동적으로 selection을 추가할 것 입니다.</li></ul></li><li>mutation response를 받게 되면, Relay는 id와 매칭되는 feedback object를 찾을 것이며, 새롭게 업데이트 된 viewer_does_like과 like_count 값을 새롭게 받은 값으로 업데이트 할 것 입니다.</li><li>이런 값들이 결과에 의해 변화되면, feedback object에 해당되는 field를 참조하는 컴포넌트는 다시 렌더링 될 것 입니다.</li></ul><p><code>주의: FeedbackLikeData 파라미터의 이름은 top-level mutation 필드의 이름으로 부터 얻어집니다. 예를 들면 feedback_like과 같이. 해당 타입 또한 생성된 graphql.js 파일로 부터 생성됩니다.</code></p><h2 id="refreshing-components-in-response-to-mutations"><a href="#refreshing-components-in-response-to-mutations" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Refreshing components in response to mutations</h2><p>이전 예를 보면, 우리는 수동으로 viewer_does_like과 like_count를 선택했습니다. 해당 필드들을 선택(영향을 받는)한 컴포넌트들은 필드의 값이 변하면 다시 렌더링 될 것입니다.</p><p>하지만, 보통 mutation으로 인해 영향을 받는 컴포넌트들에 맞게 mutation을 분할해서 관리하는게 좋습니다. 왜냐하면 컴포넌트에 의해 선택된 데이터가 변할 수 있기 때문입니다.</p><p>개발자로 하여금 그들의 컴포넌트 데이터에 영향을 미칠 수 있는 모든 mutation들을 숙지할 수 있도록 요구하는 것은 Relay가 요구하지 않는 것 입니다(<code>번역 다시 확인 필요</code>)</p><p>예를 들면, 아래와 같이 mutation을 재작성할 수 있습니다.</p><div class="relative"><pre><code class="code-highlight language-Graphql"><span class="code-line">
</span><span class="code-line"><span class="token keyword">mutation</span> <span class="token function definition-mutation">FeedbackLikeMutation</span><span class="token punctuation">(</span><span class="token variable variable-input">$input</span><span class="token punctuation">:</span> <span class="token class-name">FeedbackLikeData</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property-query property-mutation">feedback_like</span><span class="token punctuation">(</span><span class="token attr-name">data</span><span class="token punctuation">:</span> <span class="token variable variable-input">$input</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token object">feedback</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token operator">...</span><span class="token function fragment">FeedbackDisplay_feedback</span>
</span><span class="code-line">      <span class="token operator">...</span><span class="token function fragment">FeedbackDetail_feedback</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span></code></pre></div><p>만약 해당 mutation이 실행된다면, FeedbackDislay and FeedbackDetail 컴포넌트에 의해 선택된 필드 모두가 refetch 될 것이며, 해당 컴포넌트들은 consistent한 state에 머무를 것 입니다.</p><p><code>주의: fragment들을 spreading하는 것은 mutation이 완료된 후 data를 refetching하기 위해서 선호되는 방식입니다. 왜냐하면 업데이트 된 데이터가 single round trip안에 fetch 될 수 있기 때문입니다</code></p><h2 id="executing-a-callback-when-the-mutation-completes-or-errors"><a href="#executing-a-callback-when-the-mutation-completes-or-errors" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Executing a callback when the mutation completes or errors</h2><p>우리는 mutation 성공 여부에 따라서 어떤 state를 update하고 싶을 수 있습니다. 예를 들면, mutation이 실패했을 경우 유저에게 알람을 주고 싶습니다. <code>UseMutationConfig</code> 객체는 그런 경우에 대비해서 아래와 같은 field를 제공하고 있습니다.</p><ul><li><code>OnCompleted</code>, mutation이 성공했을 경우 callback이 실행됩니다. mutation response가 callback으로서 넘겨집니다.<ul><li>넘겨진 해당 인자는 mutation fragment이며 이는 store에서 읽어진 값입니다. 즉 updater와 선언적인 mutation이 적용된 상태입니다. 이것이 의미하는 것은, unmasked fragment들은 읽어오지 않으며, 삭제된 record들(@deleteRecord를 이용해서 표시된)들 또한 null이 될 수 있다는 것 입니다.</li></ul></li><li><code>OnError</code>, mutation이 실패했을 경우 실행되는 callback입니다</li></ul><h2 id="declarative-mutation-directives"><a href="#declarative-mutation-directives" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Declarative mutation directives</h2><h3 id="manipulating-connections-in-response-to-mutations"><a href="#manipulating-connections-in-response-to-mutations" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Manipulating connections in response to mutations</h3><p>Relay는 mutation에 쉽게 응답하도록 합니다(아이템을 추가하거나 connection으로 부터 아이템을 제거함으로서). 예를 들면, 당신은 주어진 connection에서 새로운 유저를 붙이고 싶을 수 있습니다. 좀 더 자세한 내용을 원하시면 <a target="_blank" rel="noopener noreferrer" href="https://relay.dev/docs/guided-tour/list-data/updating-connections/#using-declarative-directives">Using declarative directives</a>문서를 읽어보세요</p><h3 id="deleting-items-in-response-to-mutations"><a href="#deleting-items-in-response-to-mutations" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Deleting items in response to mutations</h3><p>추가적으로, mutation 응답을 통해 특정 아이템을 제거하고 싶을 수 있습니다. 해당 작업을 하기 위해서, <code>@deleteRecord</code>를 id항목에 추가하세요. 예를 들면</p><div class="relative"><pre><code class="language-graphql code-highlight"><span class="code-line"><span class="token keyword">mutation</span> <span class="token function definition-mutation">DeletePostMutation</span><span class="token punctuation">(</span><span class="token variable variable-input">$input</span><span class="token punctuation">:</span> <span class="token class-name">DeletePostData</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property-query property-mutation">delete_post</span><span class="token punctuation">(</span><span class="token attr-name">data</span><span class="token punctuation">:</span> <span class="token variable variable-input">$input</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token object">deleted_post</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token property">id</span> <span class="token function directive">@deleteRecord</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></div><h2 id="imperatively-modifying-local-data"><a href="#imperatively-modifying-local-data" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Imperatively modifying local data</h2><p>가끔, 우리가 실행한 update들이 field의 값을 업데이트 하는 것 이상의 복잡한 작업을 필요로 할 때가 있습니다. 그리고 이런 작업이 명시적인 mutation 지시어들로 이루어질 수 없을 때가 있습니다. 이런 상황에서 UseMutationConfig는 <code>updater</code>라는 함수를 받을 수 있으며 이는 store를 update하는 모든 과정을 제어할 수 있습니다. 자세한 내용을 원하시면 <a target="_blank" rel="noopener noreferrer" href="https://relay.dev/docs/guided-tour/updating-data/imperatively-modifying-store-data/">Imperatively modifying store data</a>문서를 참고하세요</p><h2 id="optimistic-updates"><a href="#optimistic-updates" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Optimistic updates</h2><p>가끔, 유저 인터렉션에 대한 응답을 하기 전에 서버로부터 응답을 기다리는 과정을 거치고 싶지 않을 때가 있습니다. 예를 들면, 만약 유저가 &quot;Like&quot; 버튼을 눌렀을때, 즉각적으로 유저에게 코멘트, 포스트 등을 보여주고 싶습니다.</p><p>이런 경우, 우리는 데이터를 즉각적으로 store에 데이터를 update하고 싶습니다.(단, 이 경우 mutation이 성공적으로 작동했다는 것을 가정해야합니다). 만약 mutation이 실패로 끝난다면 우리는 최적의 방식으로 roll back를 하고 싶을 것 입니다.</p><h2 id="optimistic-response"><a href="#optimistic-response" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Optimistic response</h2><p>이것을 가능하게 하기 위해서, <code>UseMutationConfig</code>는 <code>optimisticResponse</code> 필드를 제공하고 있습니다.</p><p>해당 field가 Flow-type 되기 위해서, useMutation에 Flow type parameter가 넘겨져야하며, 해당 Mutationdms <code>@raw_response_type</code> 지시어로 감싸져야합니다</p><p>이전 예제를 이용해서 optimistic response를 적용하면 다음과 같습니다 우선 이전 예제입니다.</p><div class="relative"><pre><code class="language-graphql code-highlight"><span class="code-line">
</span><span class="code-line"><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token attr-name">feedback_like</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token attr-name">feedback</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">      // <span class="token property">Even</span> <span class="token property">though</span> <span class="token property">the</span> <span class="token property">id</span> <span class="token property">field</span> <span class="token property">is</span> <span class="token property">not</span> <span class="token property">explicitly</span> <span class="token property">selected</span><span class="token punctuation">,</span> <span class="token property">the</span>
</span><span class="code-line">      // <span class="token property">compiler</span> <span class="token property">selected</span> <span class="token property">it</span> <span class="token property">for</span> <span class="token property">us</span>
</span><span class="code-line">      <span class="token attr-name">id</span><span class="token punctuation">:</span> <span class="token property">feedbackId</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token attr-name">viewer_does_like</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span></code></pre></div><p>이제,commitMutation을 호출할때, 해당 데이터는 즉각적으로 store에 쓰여질 것 입니다. id에 해당하는 store의 item은 새로운 viewer_does_like 값으로 업데이터 될 것 입니다. 해당 field의 값을 참조하는 컴포넌트 모두는 다시 렌더링 될 것 입니다.</p><p>mutation이 성공하거나 에러가 있을 경우, optimistic response는 roll back 될 것 입니다.</p><p>like_count를 업데이트 하는 것은 작업이 좀 더 필요합니다. 업데이트를 하기 위해서, 우리는 현재의 like count를 컴포넌트로 부터 읽어야합니다.</p><div class="relative"><pre><code class="code-highlight language-react"><span class="code-line">
</span><span class="code-line">import type {FeedbackLikeData, LikeButtonMutation} from &#x27;LikeButtonMutation.graphql&#x27;;
</span><span class="code-line">import type {LikeButton_feedback$fragmentType} from &#x27;LikeButton_feedback.graphql&#x27;;
</span><span class="code-line">
</span><span class="code-line">const {useMutation, graphql} = require(&#x27;react-relay&#x27;);
</span><span class="code-line">
</span><span class="code-line">function LikeButton({
</span><span class="code-line">  feedback: LikeButton_feedback$fragmentType,
</span><span class="code-line">}) {
</span><span class="code-line">  const data = useFragment(
</span><span class="code-line">    graphql`
</span><span class="code-line">      fragment LikeButton_feedback on Feedback {
</span><span class="code-line">        __id
</span><span class="code-line">        viewer_does_like @required(action: THROW)
</span><span class="code-line">        like_count @required(action: THROW)
</span><span class="code-line">      }
</span><span class="code-line">    `,
</span><span class="code-line">    feedback
</span><span class="code-line">  );
</span><span class="code-line">
</span><span class="code-line">  const [commitMutation, isMutationInFlight] = useMutation&lt;LikeButtonMutation&gt;(
</span><span class="code-line">    graphql`
</span><span class="code-line">      mutation LikeButtonMutation($input: FeedbackLikeData!)
</span><span class="code-line">      @raw_response_type {
</span><span class="code-line">        feedback_like(data: $input) {
</span><span class="code-line">          feedback {
</span><span class="code-line">            viewer_does_like
</span><span class="code-line">            like_count
</span><span class="code-line">          }
</span><span class="code-line">        }
</span><span class="code-line">      }
</span><span class="code-line">    `
</span><span class="code-line">  );
</span><span class="code-line">
</span><span class="code-line">  const changeToLikeCount = data.viewer_does_like ? -1 : 1;
</span><span class="code-line">  return &lt;button
</span><span class="code-line">    onClick={() =&gt; commitMutation({
</span><span class="code-line">      variables: {
</span><span class="code-line">        input: {id: data.__id},
</span><span class="code-line">      },
</span><span class="code-line">      optimisticResponse: {
</span><span class="code-line">        feedback_like: {
</span><span class="code-line">          feedback: {
</span><span class="code-line">            id: data.__id,
</span><span class="code-line">            viewer_does_like: !data.viewer_does_like,
</span><span class="code-line">            like_count: data.like_count + changeToLikeCount,
</span><span class="code-line">          },
</span><span class="code-line">        },
</span><span class="code-line">      },
</span><span class="code-line">    })}
</span><span class="code-line">    disabled={isMutationInFlight}
</span><span class="code-line">  &gt;
</span><span class="code-line">    Like
</span><span class="code-line">  &lt;/button&gt;
</span><span class="code-line">}
</span><span class="code-line">
</span></code></pre></div><p>`주의: optimistic updater를 사용할 때 특히 주의해야합니다. optimistic response를 쓰고 싶은 값이 store에 의존적인 값일 수 있고, store value에 영향을 주는 여러개의 optimistic response가 있을 수 있기 때문입니다.</p><p>예를 들면, 두개의 optimistic response가 like count를 하나씩 올린다고 한다면, 첫번째 optimistic updater가 roll back될 수 있는 상황입니다. 그리고 두 번째 optimistic update가 여전히 적용되어 있습니다. 그리고 store에 있는 like count는 2개가 increase된 상태일 수 있기 때문입니다. `</p><p>` 주의: Optimistic response는 여러 문제가 있습니다.</p><ul><li>Optimistic response는 full query response를 위한 데이터를 포함할 수도 있습니다. 예를 들면 fragment spread들에 대한 내용들 말이죠. 만약 optimistic response로 되어 있는 fragment들을 개발자가 선택해서 사용한다면, optimistic update 동안 부정확하거나 부분적인 데이터가 표시될 수 있습니다.</li><li>Optimistic update의 타입은 전부 재귀적으로 nest된 fragment된 컨탠츠를 포함하기 때문에, 타입이 매우 클 수 있습니다. @raw_response_type을 특정 mutation에 추가하는 것은 Relay compiler의 성능을 낮출 수 있습니다. `</li></ul><h2 id="optimistic-updaters"><a href="#optimistic-updaters" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Optimistic updaters</h2><p>Optimistic response들은 모든 경우에 대응하기 충분하지 않습니다. 예를 들면 우리가 mutation에서 선택되지 않은 데이터를 optimistical하게 업데이트하고 싶을 수 있습니다. 또는, connection을 통해 아이템을 추가하거나 제거하고 싶을 수 있습니다(명시적인 mutation 지시어들로 해당 작업을 하기에는 불충분합니다)</p><p>이런 상황을 위해, UseMutationConfig는 optimisticUpdater를 제공하고 있습니다. 해당 필드는 개발자로 하여금 store에 있는 데이터를 명시적이며 최적적인 방법으로 업데이트 할 수 있습니다. 자세한 내용을 알고 싶다면 <a target="_blank" rel="noopener noreferrer" href="https://relay.dev/docs/guided-tour/updating-data/imperatively-modifying-store-data/">Imperatively updating store data</a> 문서를 읽어보세요</p><h2 id="order-of-execution-of-updater-functions"><a href="#order-of-execution-of-updater-functions" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Order of execution of updater functions</h2><p>보통, 다음과 같은 순서에 따라서 updater가 작동합니다</p><ul><li>optimisticResponse가 제공되면, 데이터는 store에 쓰여집니다</li><li>optimisticUpdater가 제공되면, Relay는 해당 optimisticUpdater를 실행하고 store를 updategkqslek</li><li>optimisticResponse 제공되면, 명시적으로 지시어가 있는 mutation을 optimistic response에 따라서 처리합니다</li><li>mutation이 성공적으로 실행되면<ul><li>optimistic update가 적용된 모든 부분이 roll back 됩니다</li><li>Relay는 서버로 부터의 응답을 store에 update 합니다</li><li>updater가 제공되었다면, Relay는 해당 updater를 실행하고, store를 업데이트 합니다. server payload가 updater에게 사용가능해질 것 입니다.</li><li>Relay는 server response를 사용해서 명시적인 mutation 지시어를 처리할 것 입니다.</li><li>onCompleted callback이 실행됩니다.</li></ul></li><li>만약 mutation 요청이 실패한다면<ul><li>optimistic update가 적용된 모든 부분이 roll back 됩니다</li><li>onError callback이 실행됩니다.</li></ul></li></ul><h2 id="invalidating-data-during-a-mutation"><a href="#invalidating-data-during-a-mutation" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Invalidating data during a mutation</h2><p>mutation을 실행할때 추천하는 방식은 mutation에 의해 영향을 받은 데이터를 모두 server로 부터 가져오는 것 입니다. 이를 통해 local Relay store가 지속적으로 server의 최신 상태를 받아오도록 하는 것 입니다.</p><p>그렇지만, 어떤 데이터를 항상 최신으로 아는 것이 힘들 때가 있으며, 큰 파급효과를 가진 mutation의 경우 특히 그렇습니다.(예를 들면 유저를 block하거나 그룹에서 나가는 등)</p><p>이런 종류의 mutation들은 가끔 어떤 데이터를 stale(또는 whole store)하다고 mark함으로서, Relay가 데이터를 다시 가져오도록 하는 것이 좋습니다. 그렇게 하기 위해서, data invalidation API 문서를 읽어보는 것이 좋습니다. <a target="_blank" rel="noopener noreferrer" href="https://relay.dev/docs/guided-tour/reusing-cached-data/staleness-of-data/">Staleness of Data section</a></p></div><div class="pt-6 pb-6 text-sm text-gray-700 dark:text-gray-300"><a target="_blank" rel="noopener noreferrer" href="https://github.com/woodi97/woodi97.github.io/blob/master/data/blog/translation/graphql-mutations.mdx">View on GitHub</a></div></div><footer><div class="divide-gray-200 text-sm font-medium leading-5 dark:divide-gray-700 xl:col-start-1 xl:row-start-2 xl:divide-y"><div class="py-4 xl:py-8"><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">Tags</h2><div class="flex flex-wrap"><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/graphql">graphql</a><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/tags/relay">relay</a></div></div><div class="flex justify-between py-4 xl:block xl:space-y-8 xl:py-8"><div><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">Previous Article</h2><div class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a href="/blog/reactjs/optimize-script-loading-on-react">onDemand Loading Script tag in React</a></div></div><div><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">Next Article</h2><div class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a href="/blog/translation/graphql-queries">[번역] Relay - Graphql Queries</a></div></div></div></div><div class="pt-4 xl:pt-8"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/blog">← Back to the blog</a></div></footer></div></div></article></div></div></main><footer><div class="mt-16 flex flex-col items-center"><div class="mb-3 flex space-x-4"><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="mailto:woodi.daily@gmail.com"><span class="sr-only">mail</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="fill-current text-gray-700 hover:text-blue-500 dark:text-gray-200 dark:hover:text-blue-400 h-6 w-6"><path d="M2.003 5.884 10 9.882l7.997-3.998A2 2 0 0 0 16 4H4a2 2 0 0 0-1.997 1.884z"></path><path d="m18 8.118-8 4-8-4V14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8.118z"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://github.com/woodi97"><span class="sr-only">github</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current text-gray-700 hover:text-blue-500 dark:text-gray-200 dark:hover:text-blue-400 h-6 w-6"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com/in/woodi97"><span class="sr-only">linkedin</span><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="fill-current text-gray-700 hover:text-blue-500 dark:text-gray-200 dark:hover:text-blue-400 h-6 w-6"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 0 1-2.063-2.065 2.064 2.064 0 1 1 2.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg></a></div><div class="mb-2 flex space-x-2 text-sm text-gray-500 dark:text-gray-400"><div>woodi97</div><div> • </div><div>© 2024</div><div> • </div><a href="/">woodi97.github.io</a></div><div class="mb-8 text-sm text-gray-500 dark:text-gray-400"><a target="_blank" rel="noopener noreferrer" href="https://github.com/timlrx/tailwind-nextjs-starter-blog">Tailwind Nextjs Theme</a></div></div></footer></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"mdxSource":"var Component=(()=\u003e{var r=Object.create;var i=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var h=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty;var l=a=\u003ei(a,\"__esModule\",{value:!0});var u=(a,s)=\u003e()=\u003e(s||a((s={exports:{}}).exports,s),s.exports),N=(a,s)=\u003e{l(a);for(var c in s)i(a,c,{get:s[c],enumerable:!0})},k=(a,s,c)=\u003e{if(s\u0026\u0026typeof s==\"object\"||typeof s==\"function\")for(let n of p(s))!m.call(a,n)\u0026\u0026n!==\"default\"\u0026\u0026i(a,n,{get:()=\u003es[n],enumerable:!(c=d(s,n))||c.enumerable});return a},g=a=\u003ek(l(i(a!=null?r(h(a)):{},\"default\",a\u0026\u0026a.__esModule\u0026\u0026\"default\"in a?{get:()=\u003ea.default,enumerable:!0}:{value:a,enumerable:!0})),a);var o=u((q,t)=\u003e{t.exports=_jsx_runtime});var _={};N(_,{default:()=\u003eb,frontmatter:()=\u003ey});var e=g(o()),y={title:\"[\\uBC88\\uC5ED] Relay - Graphql mutations\",date:\"2023-01-03\",tags:[\"graphql\",\"relay\"],draft:!1,summary:\"Relay \\uBB38\\uC11C\\uC758 Graphql Mutation \\uD56D\\uBAA9 \\uBC88\\uC5ED\",images:[],layout:\"PostLayout\"};function f(a={}){let{wrapper:s}=a.components||{};return s?(0,e.jsx)(s,Object.assign({},a,{children:(0,e.jsx)(c,{})})):c();function c(){let n=Object.assign({h2:\"h2\",a:\"a\",span:\"span\",p:\"p\",h3:\"h3\",code:\"code\",pre:\"pre\",ul:\"ul\",li:\"li\"},a.components);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.h2,{id:\"graphql-mutation\",children:[(0,e.jsx)(n.a,{href:\"#graphql-mutation\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"GraphQL Mutation\"]}),(0,e.jsx)(n.p,{children:\"GraphQL\\uC5D0\\uC11C\\uB294 GraphQL mutations\\uB97C \\uD1B5\\uD574 \\uC11C\\uBC84\\uC758 \\uB370\\uC774\\uD130\\uB97C \\uC5C5\\uB370\\uC774\\uD2B8 \\uD569\\uB2C8\\uB2E4. Mutation\\uC740 server operation\\uB4E4\\uC744 \\uC77D\\uACE0 \\uC4F0\\uBA70, \\uB450 \\uC791\\uC5C5 \\uBAA8\\uB450 backend\\uC758 \\uB370\\uC774\\uD130\\uB97C \\uC218\\uC815\\uD569\\uB2C8\\uB2E4. \\uADF8\\uB9AC\\uACE0 \\uD574\\uB2F9 \\uC694\\uCCAD\\uC5D0 \\uC758\\uD574 \\uC218\\uC815\\uB41C \\uB370\\uC774\\uD130\\uB97C query\\uD560 \\uC218 \\uC788\\uB3C4\\uB85D \\uD569\\uB2C8\\uB2E4.\"}),(0,e.jsxs)(n.h3,{id:\"writing-mutations\",children:[(0,e.jsx)(n.a,{href:\"#writing-mutations\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Writing mutations\"]}),(0,e.jsxs)(n.p,{children:[\"GraphQL mutation\\uC740 query\\uC640 \\uBE44\\uC2B7\\uD574 \\uBCF4\\uC785\\uB2C8\\uB2E4. \\uB2E8\\uC9C0 \",(0,e.jsx)(n.code,{children:\"mutation\"}),\"\\uC774\\uB77C\\uB294 \\uD0A4\\uC6CC\\uB4DC\\uB97C \\uC0AC\\uC6A9\\uD560 \\uBFD0\\uC785\\uB2C8\\uB2E4.\"]}),(0,e.jsx)(n.pre,{className:\"language-graphql\",children:(0,e.jsxs)(n.code,{className:\"language-graphql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"mutation\"}),\" \",(0,e.jsx)(n.span,{className:\"token function definition-mutation\",children:\"FeedbackLikeMutation\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token variable variable-input\",children:\"$input\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"FeedbackLikeData\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property-query property-mutation\",children:\"feedback_like\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"data\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable variable-input\",children:\"$input\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token object\",children:\"feedback\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property\",children:\"id\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property\",children:\"viewer_does_like\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property\",children:\"like_count\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.ul,{children:[(0,e.jsx)(n.li,{children:'\\uC704\\uC5D0 \\uC788\\uB294 mutation \\uCF54\\uB4DC\\uB294 \\uD2B9\\uC815 Feedback \\uC624\\uBE0C\\uC81D\\uD2B8\\uB97C \"like\"\\uB77C\\uACE0 \\uD45C\\uC2DC\\uD558\\uB3C4\\uB85D \\uC11C\\uBC84\\uC5D0 \\uC694\\uCCAD\\uD569\\uB2C8\\uB2E4'}),(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"feedback_like\"}),\"\\uC740 mutation root field\\uC774\\uBA70(\\uB610\\uB294 mutation field\\uC77C \\uC218\\uB3C4) backend \\uB370\\uC774\\uD130\\uB97C \\uC5C5\\uB370\\uC774\\uD2B8 \\uD558\\uB3C4\\uB85D \\uD569\\uB2C8\\uB2E4\"]}),(0,e.jsx)(n.li,{children:\"\\uD558\\uB098\\uC758 mutation\\uC740 2\\uAC1C\\uC758 step\\uC73C\\uB85C \\uC9C4\\uD589\\uB429\\uB2C8\\uB2E4. \\uCCAB\\uC9F8, \\uC11C\\uBC84\\uC5D0\\uC11C \\uC5C5\\uB370\\uC774\\uD2B8\\uAC00 \\uC9C4\\uD589\\uB420\\uB54C, \\uADF8\\uB9AC\\uACE0 query\\uAC00 \\uC2E4\\uD589\\uB418\\uC5C8\\uC744\\uB54C, \\uC774\\uB7F0 \\uC791\\uC5C5\\uC740 \\uB2F9\\uC2E0\\uC774 \\uBCF4\\uB294 \\uB370\\uC774\\uD130\\uAC00 \\uC774\\uBBF8 mutation reponse\\uC758 \\uC77C\\uD658\\uC73C\\uB85C \\uC774\\uBBF8 \\uB370\\uC774\\uD130\\uAC00 \\uC5C5\\uB370\\uC774\\uD2B8 \\uB418\\uC5C8\\uB2E4\\uB294 \\uAC83\\uC744 \\uBCF4\\uC7A5\\uD569\\uB2C8\\uB2E4\"})]}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.code,{children:\"\\uC8FC\\uC758: \\uAC19\\uC740 \\uBC29\\uC2DD\\uC73C\\uB85C \\uCFFC\\uB9AC\\uB4E4\\uC774 \\uD504\\uB85C\\uC138\\uC2F1 \\uB418\\uC5C8\\uB2E4\\uB294 \\uAC83\\uC5D0 \\uC8FC\\uC758\\uD558\\uC138\\uC694. Outer selection\\uB4E4\\uC740 inner selection\\uC5D0 \\uC55E\\uC11C \\uC774\\uBBF8 \\uACC4\\uC0B0\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4. \\uC989 \\uC774\\uAC83\\uC740 convention\\uC758 \\uBB38\\uC81C\\uC77C\\uBFD0\\uC785\\uB2C8\\uB2E4.(\\uC624\\uC9C1 top-level mutation field\\uB4E4\\uB9CC side-effect\\uAC00 \\uC788\\uACE0 \\uB2E4\\uB978 field\\uB294 \\uADF8\\uB807\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4)\"})}),(0,e.jsxs)(n.ul,{children:[(0,e.jsxs)(n.li,{children:[\"mutation field(\\uC774 \\uACBD\\uC6B0 \",(0,e.jsx)(n.code,{children:\"feedback_like\"}),\")\\uB294 \\uD2B9\\uC815\\uD55C GraphQL type\\uC744 \\uB9AC\\uD134\\uD569\\uB2C8\\uB2E4.(\\uD574\\uB2F9 GraphQL type\\uC740 mutation response\\uC548\\uC5D0\\uC11C \\uC5B4\\uB5A4 \\uB370\\uC774\\uD130\\uB97C query \\uD560 \\uC218 \\uC788\\uB294\\uC9C0 \\uB178\\uCD9C\\uD569\\uB2C8\\uB2E4)\"]}),(0,e.jsxs)(n.li,{children:[\"\\uC774 \\uACBD\\uC6B0, \\uC6B0\\uB9AC\\uB294 \\uC5C5\\uB370\\uC774\\uD2B8 \\uB41C feedback object\\uB97C querying\\uD558\\uACE0, \\uC5C5\\uB370\\uC774\\uD2B8 \\uB41C \",(0,e.jsx)(n.code,{children:\"like_count\"}),\"\\uC640 \",(0,e.jsx)(n.code,{children:\"viewer_does_like\"}),\"\\uB97C \\uD3EC\\uD568\\uD574\\uC11C \\uCFFC\\uB9AC\\uD569\\uB2C8\\uB2E4.\"]})]}),(0,e.jsx)(n.p,{children:\"\\uC131\\uACF5\\uC801\\uC778 query reponse\\uB294 \\uB2E4\\uC74C\\uACFC \\uAC19\\uC2B5\\uB2C8\\uB2E4\"}),(0,e.jsx)(n.pre,{className:\"language-graphql\",children:(0,e.jsxs)(n.code,{className:\"language-graphql code-highlight\",children:[(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"feedback_like\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"feedback\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"id\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"feedback-id\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"viewer_does_like\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"true\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"like_count\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`})]})}),(0,e.jsx)(n.p,{children:\"Relay\\uC5D0\\uC11C\\uB294 graphql\\uD0DC\\uADF8\\uB97C \\uC0AC\\uC6A9\\uD574\\uC11C GraphQL mutation\\uB4E4\\uC744 \\uC120\\uC5B8\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"}),(0,e.jsx)(n.pre,{className:\"language-graphql\",children:(0,e.jsxs)(n.code,{className:\"language-graphql code-highlight\",children:[(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token object\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token property\",children:\"graphql\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token property-query\",children:\"require\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"'\",(0,e.jsx)(n.span,{className:\"token property\",children:\"react\"}),\"-\",(0,e.jsx)(n.span,{className:\"token property\",children:\"relay\"}),\"'\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`;\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token property\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"feedbackLikeMutation\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"graphql\"}),\"`\\n\"]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"mutation\"}),\" \",(0,e.jsx)(n.span,{className:\"token function definition-mutation\",children:\"FeedbackLikeMutation\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token variable variable-input\",children:\"$input\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"FeedbackLikeData\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property-query property-mutation\",children:\"feedback_like\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"data\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable variable-input\",children:\"$input\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token object\",children:\"feedback\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token property\",children:\"id\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token property\",children:\"viewer_does_like\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token property\",children:\"like_count\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:\"`;\\n\"}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`})]})}),(0,e.jsx)(n.ul,{children:(0,e.jsx)(n.li,{children:\"query\\uB098 fragment\\uB4E4\\uC774 \\uD558\\uB294 \\uBC29\\uC2DD\\uACFC \\uB611\\uAC19\\uC774 mutation \\uB610\\uD55C GraphQL \\uBCC0\\uC218\\uB4E4\\uC744 \\uCC38\\uC870\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4\"})}),(0,e.jsxs)(n.h2,{id:\"using-usemutation-to-execute-a-mutation\",children:[(0,e.jsx)(n.a,{href:\"#using-usemutation-to-execute-a-mutation\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Using useMutation to execute a mutation\"]}),(0,e.jsxs)(n.p,{children:[\"Relay\\uB97C \\uD1B5\\uD574\\uC11C \\uC11C\\uBC84\\uC5D0 mutation\\uC744 \\uC2E4\\uD589\\uC2DC\\uD0A4\\uB824\\uBA74, \",(0,e.jsx)(n.code,{children:\"commitMutation\"}),\"\\uC774\\uB098 useMutation API\\uB97C \\uC0AC\\uC6A9\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4. useMutation API\\uC758 \\uC608\\uB97C \\uD55C \\uBC88 \\uBD05\\uC2DC\\uB2E4\"]}),(0,e.jsx)(n.pre,{className:\"language-graphql\",children:(0,e.jsxs)(n.code,{className:\"language-graphql code-highlight\",children:[(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token property\",children:\"import\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"type\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token property\",children:\"FeedbackLikeData\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"LikeButtonMutation\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"from\"}),\" '\",(0,e.jsx)(n.span,{className:\"token property\",children:\"LikeButtonMutation\"}),\".\",(0,e.jsx)(n.span,{className:\"token property\",children:\"graphql\"}),`';\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token object\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token property\",children:\"useMutation\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"graphql\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token property-query\",children:\"require\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"'\",(0,e.jsx)(n.span,{className:\"token property\",children:\"react\"}),\"-\",(0,e.jsx)(n.span,{className:\"token property\",children:\"relay\"}),\"'\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`;\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token property\",children:\"function\"}),\" \",(0,e.jsx)(n.span,{className:\"token property-query\",children:\"LikeButton\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"feedbackId\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"string\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token property\",children:\"commitMutation\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"isMutationInFlight\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"useMutation\"}),\"\u003c\",(0,e.jsx)(n.span,{className:\"token property\",children:\"LikeButtonMutation\"}),\"\u003e\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:\"graphql\"}),\"`\\n\"]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"mutation\"}),\" \",(0,e.jsx)(n.span,{className:\"token function definition-mutation\",children:\"LikeButtonMutation\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token variable variable-input\",children:\"$input\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"FeedbackLikeData\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token property-query property-mutation\",children:\"feedback_like\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"data\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable variable-input\",children:\"$input\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token object\",children:\"feedback\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token property\",children:\"viewer_does_like\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token property\",children:\"like_count\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:\"    `\\n\"}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`;\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property\",children:\"return\"}),\" \u003c\",(0,e.jsx)(n.span,{className:\"token property\",children:\"button\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:\"onClick\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\"\u003e \",(0,e.jsx)(n.span,{className:\"token property-query\",children:\"commitMutation\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"variables\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"input\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"feedbackId\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:\"disabled\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token property\",children:\"isMutationInFlight\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`  \u003e\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property\",children:\"Like\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \u003c/\",(0,e.jsx)(n.span,{className:\"token property\",children:\"button\"}),`\u003e\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`})]})}),(0,e.jsx)(n.p,{children:\"\\uBB34\\uC2A8 \\uC77C\\uC774 \\uC77C\\uC5B4\\uB098\\uB294\\uC9C0 \\uD55C \\uBC88 \\uBD05\\uC2DC\\uB2E4\"}),(0,e.jsxs)(n.ul,{children:[(0,e.jsx)(n.li,{children:\"useMutation\\uC740 \\uC720\\uC77C\\uD55C \\uC778\\uC790\\uB85C graphql literal\\uB97C \\uAC00\\uC9D1\\uB2C8\\uB2E4\"}),(0,e.jsxs)(n.li,{children:[\"\\uD574\\uB2F9 API\\uB294 tuple item\\uB4E4\\uC744 \\uBC18\\uD658\\uD569\\uB2C8\\uB2E4\",(0,e.jsxs)(n.ul,{children:[(0,e.jsx)(n.li,{children:\"UseMutationConfig\\uC744 \\uBC1B\\uB294 commitMutation callback\\uACFC\"}),(0,e.jsx)(n.li,{children:\"mutation\\uC774 \\uC2E4\\uD589\\uB418\\uACE0 \\uC788\\uB294\\uC9C0 \\uC54C\\uB824\\uC8FC\\uB294 boolean \\uAC12\\uC744 \\uC90D\\uB2C8\\uB2E4\"})]})]}),(0,e.jsxs)(n.li,{children:[\"\\uAC8C\\uB2E4\\uAC00, useMutation\\uC740 Flow type parameter\\uB97C \\uBC1B\\uC2B5\\uB2C8\\uB2E4. query\\uB4E4\\uC740, Relay \\uCEF4\\uD30C\\uC77C\\uB7EC\\uAC00 \\uC0DD\\uC131\\uD558\\uB294 mutation\\uC73C\\uB85C \\uBD80\\uD130 \\uC0DD\\uC131\\uB41C Flow Type\\uC744 \\uD30C\\uC77C\\uC744 export\\uD569\\uB2C8\\uB2E4\",(0,e.jsx)(n.ul,{children:(0,e.jsxs)(n.li,{children:[\"\\uB9CC\\uC57D \\uD0C0\\uC785\\uC774 \\uC81C\\uACF5\\uB41C\\uB2E4\\uBA74, \",(0,e.jsx)(n.code,{children:\"UseMutationConfig\"}),\"\\uB294 statically type\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uD56D\\uC0C1 \\uD574\\uB2F9 \\uD0C0\\uC785\\uC744 \\uC81C\\uACF5\\uD558\\uB294 \\uAC83\\uC740 \\uAC00\\uC7A5 \\uD6CC\\uB96D\\uD55C \\uC608\\uC785\\uB2C8\\uB2E4.\"]})})]}),(0,e.jsxs)(n.li,{children:[\"\\uC774\\uC81C \",(0,e.jsx)(n.code,{children:\"commitMutation\"}),\"\\uC774 mutation \\uBCC0\\uC218\\uB4E4\\uACFC \\uD568\\uAED8 \\uBD88\\uB824\\uC9C4\\uB2E4\\uBA74, Relay\\uB294 feedback_like \\uD544\\uB4DC\\uB97C \\uC11C\\uBC84\\uC5D0\\uC11C \\uC2E4\\uD589\\uD558\\uB294 network request\\uB97C \\uB9CC\\uB4ED\\uB2C8\\uB2E4. \\uC774 \\uC608\\uC81C\\uC5D0\\uC11C, variable\\uC5D0 \\uC758\\uD574 \\uD2B9\\uC815\\uB41C feedback\\uC744 \\uCC3E\\uC744 \\uAC83\\uC774\\uBA70, \\uC11C\\uBC84\\uC5D0 \\uD574\\uB2F9 \\uC694\\uCCAD\\uC774 \\uAE30\\uB85D\\uB420 \\uAC83 \\uC785\\uB2C8\\uB2E4.\"]}),(0,e.jsxs)(n.li,{children:[\"field\\uAC00 \\uC2E4\\uD589\\uB418\\uBA74, backend\\uB294 \\uC5C5\\uB370\\uC774\\uD2B8 \\uB41C Feedback \\uAC1D\\uCCB4\\uB97C \\uC120\\uD0DD\\uD560 \\uAC83\\uC774\\uBA70 \",(0,e.jsx)(n.code,{children:\"viewer_does_like\"}),\"\\uACFC \",(0,e.jsx)(n.code,{children:\"like_count\"}),\"\\uB97C \\uD2B9\\uC815\\uD574\\uC11C \\uC120\\uD0DD\\uD560 \\uAC83 \\uC785\\uB2C8\\uB2E4.\",(0,e.jsx)(n.ul,{children:(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"Feedback\"}),\" \\uD0C0\\uC785\\uC740 id field\\uB97C \\uD3EC\\uD568\\uD558\\uAE30 \\uB54C\\uBB38\\uC5D0, Relay compiler\\uB294 \\uC790\\uB3D9\\uC801\\uC73C\\uB85C id field\\uB97C \\uC774\\uC6A9\\uD574\\uC11C \\uC790\\uB3D9\\uC801\\uC73C\\uB85C selection\\uC744 \\uCD94\\uAC00\\uD560 \\uAC83 \\uC785\\uB2C8\\uB2E4.\"]})})]}),(0,e.jsx)(n.li,{children:\"mutation response\\uB97C \\uBC1B\\uAC8C \\uB418\\uBA74, Relay\\uB294 id\\uC640 \\uB9E4\\uCE6D\\uB418\\uB294 feedback object\\uB97C \\uCC3E\\uC744 \\uAC83\\uC774\\uBA70, \\uC0C8\\uB86D\\uAC8C \\uC5C5\\uB370\\uC774\\uD2B8 \\uB41C viewer_does_like\\uACFC like_count \\uAC12\\uC744 \\uC0C8\\uB86D\\uAC8C \\uBC1B\\uC740 \\uAC12\\uC73C\\uB85C \\uC5C5\\uB370\\uC774\\uD2B8 \\uD560 \\uAC83 \\uC785\\uB2C8\\uB2E4.\"}),(0,e.jsx)(n.li,{children:\"\\uC774\\uB7F0 \\uAC12\\uB4E4\\uC774 \\uACB0\\uACFC\\uC5D0 \\uC758\\uD574 \\uBCC0\\uD654\\uB418\\uBA74, feedback object\\uC5D0 \\uD574\\uB2F9\\uB418\\uB294 field\\uB97C \\uCC38\\uC870\\uD558\\uB294 \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uB294 \\uB2E4\\uC2DC \\uB80C\\uB354\\uB9C1 \\uB420 \\uAC83 \\uC785\\uB2C8\\uB2E4.\"})]}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.code,{children:\"\\uC8FC\\uC758: FeedbackLikeData \\uD30C\\uB77C\\uBBF8\\uD130\\uC758 \\uC774\\uB984\\uC740 top-level mutation \\uD544\\uB4DC\\uC758 \\uC774\\uB984\\uC73C\\uB85C \\uBD80\\uD130 \\uC5BB\\uC5B4\\uC9D1\\uB2C8\\uB2E4. \\uC608\\uB97C \\uB4E4\\uBA74 feedback_like\\uACFC \\uAC19\\uC774. \\uD574\\uB2F9 \\uD0C0\\uC785 \\uB610\\uD55C \\uC0DD\\uC131\\uB41C graphql.js \\uD30C\\uC77C\\uB85C \\uBD80\\uD130 \\uC0DD\\uC131\\uB429\\uB2C8\\uB2E4.\"})}),(0,e.jsxs)(n.h2,{id:\"refreshing-components-in-response-to-mutations\",children:[(0,e.jsx)(n.a,{href:\"#refreshing-components-in-response-to-mutations\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Refreshing components in response to mutations\"]}),(0,e.jsx)(n.p,{children:\"\\uC774\\uC804 \\uC608\\uB97C \\uBCF4\\uBA74, \\uC6B0\\uB9AC\\uB294 \\uC218\\uB3D9\\uC73C\\uB85C viewer_does_like\\uACFC like_count\\uB97C \\uC120\\uD0DD\\uD588\\uC2B5\\uB2C8\\uB2E4. \\uD574\\uB2F9 \\uD544\\uB4DC\\uB4E4\\uC744 \\uC120\\uD0DD(\\uC601\\uD5A5\\uC744 \\uBC1B\\uB294)\\uD55C \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uB4E4\\uC740 \\uD544\\uB4DC\\uC758 \\uAC12\\uC774 \\uBCC0\\uD558\\uBA74 \\uB2E4\\uC2DC \\uB80C\\uB354\\uB9C1 \\uB420 \\uAC83\\uC785\\uB2C8\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"\\uD558\\uC9C0\\uB9CC, \\uBCF4\\uD1B5 mutation\\uC73C\\uB85C \\uC778\\uD574 \\uC601\\uD5A5\\uC744 \\uBC1B\\uB294 \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uB4E4\\uC5D0 \\uB9DE\\uAC8C mutation\\uC744 \\uBD84\\uD560\\uD574\\uC11C \\uAD00\\uB9AC\\uD558\\uB294\\uAC8C \\uC88B\\uC2B5\\uB2C8\\uB2E4. \\uC65C\\uB0D0\\uD558\\uBA74 \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC5D0 \\uC758\\uD574 \\uC120\\uD0DD\\uB41C \\uB370\\uC774\\uD130\\uAC00 \\uBCC0\\uD560 \\uC218 \\uC788\\uAE30 \\uB54C\\uBB38\\uC785\\uB2C8\\uB2E4.\"}),(0,e.jsxs)(n.p,{children:[\"\\uAC1C\\uBC1C\\uC790\\uB85C \\uD558\\uC5EC\\uAE08 \\uADF8\\uB4E4\\uC758 \\uCEF4\\uD3EC\\uB10C\\uD2B8 \\uB370\\uC774\\uD130\\uC5D0 \\uC601\\uD5A5\\uC744 \\uBBF8\\uCE60 \\uC218 \\uC788\\uB294 \\uBAA8\\uB4E0 mutation\\uB4E4\\uC744 \\uC219\\uC9C0\\uD560 \\uC218 \\uC788\\uB3C4\\uB85D \\uC694\\uAD6C\\uD558\\uB294 \\uAC83\\uC740 Relay\\uAC00 \\uC694\\uAD6C\\uD558\\uC9C0 \\uC54A\\uB294 \\uAC83 \\uC785\\uB2C8\\uB2E4(\",(0,e.jsx)(n.code,{children:\"\\uBC88\\uC5ED \\uB2E4\\uC2DC \\uD655\\uC778 \\uD544\\uC694\"}),\")\"]}),(0,e.jsx)(n.p,{children:\"\\uC608\\uB97C \\uB4E4\\uBA74, \\uC544\\uB798\\uC640 \\uAC19\\uC774 mutation\\uC744 \\uC7AC\\uC791\\uC131\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"}),(0,e.jsx)(n.pre,{className:\"language-graphql\",children:(0,e.jsxs)(n.code,{className:\"code-highlight language-Graphql\",children:[(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"mutation\"}),\" \",(0,e.jsx)(n.span,{className:\"token function definition-mutation\",children:\"FeedbackLikeMutation\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token variable variable-input\",children:\"$input\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"FeedbackLikeData\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property-query property-mutation\",children:\"feedback_like\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"data\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable variable-input\",children:\"$input\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token object\",children:\"feedback\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"...\"}),(0,e.jsx)(n.span,{className:\"token function fragment\",children:\"FeedbackDisplay_feedback\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"...\"}),(0,e.jsx)(n.span,{className:\"token function fragment\",children:\"FeedbackDetail_feedback\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`})]})}),(0,e.jsx)(n.p,{children:\"\\uB9CC\\uC57D \\uD574\\uB2F9 mutation\\uC774 \\uC2E4\\uD589\\uB41C\\uB2E4\\uBA74, FeedbackDislay and FeedbackDetail \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uC5D0 \\uC758\\uD574 \\uC120\\uD0DD\\uB41C \\uD544\\uB4DC \\uBAA8\\uB450\\uAC00 refetch \\uB420 \\uAC83\\uC774\\uBA70, \\uD574\\uB2F9 \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uB4E4\\uC740 consistent\\uD55C state\\uC5D0 \\uBA38\\uBB34\\uB97C \\uAC83 \\uC785\\uB2C8\\uB2E4.\"}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.code,{children:\"\\uC8FC\\uC758: fragment\\uB4E4\\uC744 spreading\\uD558\\uB294 \\uAC83\\uC740 mutation\\uC774 \\uC644\\uB8CC\\uB41C \\uD6C4 data\\uB97C refetching\\uD558\\uAE30 \\uC704\\uD574\\uC11C \\uC120\\uD638\\uB418\\uB294 \\uBC29\\uC2DD\\uC785\\uB2C8\\uB2E4. \\uC65C\\uB0D0\\uD558\\uBA74 \\uC5C5\\uB370\\uC774\\uD2B8 \\uB41C \\uB370\\uC774\\uD130\\uAC00 single round trip\\uC548\\uC5D0 fetch \\uB420 \\uC218 \\uC788\\uAE30 \\uB54C\\uBB38\\uC785\\uB2C8\\uB2E4\"})}),(0,e.jsxs)(n.h2,{id:\"executing-a-callback-when-the-mutation-completes-or-errors\",children:[(0,e.jsx)(n.a,{href:\"#executing-a-callback-when-the-mutation-completes-or-errors\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Executing a callback when the mutation completes or errors\"]}),(0,e.jsxs)(n.p,{children:[\"\\uC6B0\\uB9AC\\uB294 mutation \\uC131\\uACF5 \\uC5EC\\uBD80\\uC5D0 \\uB530\\uB77C\\uC11C \\uC5B4\\uB5A4 state\\uB97C update\\uD558\\uACE0 \\uC2F6\\uC744 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uC608\\uB97C \\uB4E4\\uBA74, mutation\\uC774 \\uC2E4\\uD328\\uD588\\uC744 \\uACBD\\uC6B0 \\uC720\\uC800\\uC5D0\\uAC8C \\uC54C\\uB78C\\uC744 \\uC8FC\\uACE0 \\uC2F6\\uC2B5\\uB2C8\\uB2E4. \",(0,e.jsx)(n.code,{children:\"UseMutationConfig\"}),\" \\uAC1D\\uCCB4\\uB294 \\uADF8\\uB7F0 \\uACBD\\uC6B0\\uC5D0 \\uB300\\uBE44\\uD574\\uC11C \\uC544\\uB798\\uC640 \\uAC19\\uC740 field\\uB97C \\uC81C\\uACF5\\uD558\\uACE0 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"]}),(0,e.jsxs)(n.ul,{children:[(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"OnCompleted\"}),\", mutation\\uC774 \\uC131\\uACF5\\uD588\\uC744 \\uACBD\\uC6B0 callback\\uC774 \\uC2E4\\uD589\\uB429\\uB2C8\\uB2E4. mutation response\\uAC00 callback\\uC73C\\uB85C\\uC11C \\uB118\\uACA8\\uC9D1\\uB2C8\\uB2E4.\",(0,e.jsx)(n.ul,{children:(0,e.jsx)(n.li,{children:\"\\uB118\\uACA8\\uC9C4 \\uD574\\uB2F9 \\uC778\\uC790\\uB294 mutation fragment\\uC774\\uBA70 \\uC774\\uB294 store\\uC5D0\\uC11C \\uC77D\\uC5B4\\uC9C4 \\uAC12\\uC785\\uB2C8\\uB2E4. \\uC989 updater\\uC640 \\uC120\\uC5B8\\uC801\\uC778 mutation\\uC774 \\uC801\\uC6A9\\uB41C \\uC0C1\\uD0DC\\uC785\\uB2C8\\uB2E4. \\uC774\\uAC83\\uC774 \\uC758\\uBBF8\\uD558\\uB294 \\uAC83\\uC740, unmasked fragment\\uB4E4\\uC740 \\uC77D\\uC5B4\\uC624\\uC9C0 \\uC54A\\uC73C\\uBA70, \\uC0AD\\uC81C\\uB41C record\\uB4E4(@deleteRecord\\uB97C \\uC774\\uC6A9\\uD574\\uC11C \\uD45C\\uC2DC\\uB41C)\\uB4E4 \\uB610\\uD55C null\\uC774 \\uB420 \\uC218 \\uC788\\uB2E4\\uB294 \\uAC83 \\uC785\\uB2C8\\uB2E4.\"})})]}),(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"OnError\"}),\", mutation\\uC774 \\uC2E4\\uD328\\uD588\\uC744 \\uACBD\\uC6B0 \\uC2E4\\uD589\\uB418\\uB294 callback\\uC785\\uB2C8\\uB2E4\"]})]}),(0,e.jsxs)(n.h2,{id:\"declarative-mutation-directives\",children:[(0,e.jsx)(n.a,{href:\"#declarative-mutation-directives\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Declarative mutation directives\"]}),(0,e.jsxs)(n.h3,{id:\"manipulating-connections-in-response-to-mutations\",children:[(0,e.jsx)(n.a,{href:\"#manipulating-connections-in-response-to-mutations\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Manipulating connections in response to mutations\"]}),(0,e.jsxs)(n.p,{children:[\"Relay\\uB294 mutation\\uC5D0 \\uC27D\\uAC8C \\uC751\\uB2F5\\uD558\\uB3C4\\uB85D \\uD569\\uB2C8\\uB2E4(\\uC544\\uC774\\uD15C\\uC744 \\uCD94\\uAC00\\uD558\\uAC70\\uB098 connection\\uC73C\\uB85C \\uBD80\\uD130 \\uC544\\uC774\\uD15C\\uC744 \\uC81C\\uAC70\\uD568\\uC73C\\uB85C\\uC11C). \\uC608\\uB97C \\uB4E4\\uBA74, \\uB2F9\\uC2E0\\uC740 \\uC8FC\\uC5B4\\uC9C4 connection\\uC5D0\\uC11C \\uC0C8\\uB85C\\uC6B4 \\uC720\\uC800\\uB97C \\uBD99\\uC774\\uACE0 \\uC2F6\\uC744 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uC880 \\uB354 \\uC790\\uC138\\uD55C \\uB0B4\\uC6A9\\uC744 \\uC6D0\\uD558\\uC2DC\\uBA74 \",(0,e.jsx)(n.a,{href:\"https://relay.dev/docs/guided-tour/list-data/updating-connections/#using-declarative-directives\",children:\"Using declarative directives\"}),\"\\uBB38\\uC11C\\uB97C \\uC77D\\uC5B4\\uBCF4\\uC138\\uC694\"]}),(0,e.jsxs)(n.h3,{id:\"deleting-items-in-response-to-mutations\",children:[(0,e.jsx)(n.a,{href:\"#deleting-items-in-response-to-mutations\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Deleting items in response to mutations\"]}),(0,e.jsxs)(n.p,{children:[\"\\uCD94\\uAC00\\uC801\\uC73C\\uB85C, mutation \\uC751\\uB2F5\\uC744 \\uD1B5\\uD574 \\uD2B9\\uC815 \\uC544\\uC774\\uD15C\\uC744 \\uC81C\\uAC70\\uD558\\uACE0 \\uC2F6\\uC744 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uD574\\uB2F9 \\uC791\\uC5C5\\uC744 \\uD558\\uAE30 \\uC704\\uD574\\uC11C, \",(0,e.jsx)(n.code,{children:\"@deleteRecord\"}),\"\\uB97C id\\uD56D\\uBAA9\\uC5D0 \\uCD94\\uAC00\\uD558\\uC138\\uC694. \\uC608\\uB97C \\uB4E4\\uBA74\"]}),(0,e.jsx)(n.pre,{className:\"language-graphql\",children:(0,e.jsxs)(n.code,{className:\"language-graphql code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"mutation\"}),\" \",(0,e.jsx)(n.span,{className:\"token function definition-mutation\",children:\"DeletePostMutation\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token variable variable-input\",children:\"$input\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"DeletePostData\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property-query property-mutation\",children:\"delete_post\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"data\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token variable variable-input\",children:\"$input\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token object\",children:\"deleted_post\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property\",children:\"id\"}),\" \",(0,e.jsx)(n.span,{className:\"token function directive\",children:\"@deleteRecord\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.h2,{id:\"imperatively-modifying-local-data\",children:[(0,e.jsx)(n.a,{href:\"#imperatively-modifying-local-data\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Imperatively modifying local data\"]}),(0,e.jsxs)(n.p,{children:[\"\\uAC00\\uB054, \\uC6B0\\uB9AC\\uAC00 \\uC2E4\\uD589\\uD55C update\\uB4E4\\uC774 field\\uC758 \\uAC12\\uC744 \\uC5C5\\uB370\\uC774\\uD2B8 \\uD558\\uB294 \\uAC83 \\uC774\\uC0C1\\uC758 \\uBCF5\\uC7A1\\uD55C \\uC791\\uC5C5\\uC744 \\uD544\\uC694\\uB85C \\uD560 \\uB54C\\uAC00 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uADF8\\uB9AC\\uACE0 \\uC774\\uB7F0 \\uC791\\uC5C5\\uC774 \\uBA85\\uC2DC\\uC801\\uC778 mutation \\uC9C0\\uC2DC\\uC5B4\\uB4E4\\uB85C \\uC774\\uB8E8\\uC5B4\\uC9C8 \\uC218 \\uC5C6\\uC744 \\uB54C\\uAC00 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uC774\\uB7F0 \\uC0C1\\uD669\\uC5D0\\uC11C UseMutationConfig\\uB294 \",(0,e.jsx)(n.code,{children:\"updater\"}),\"\\uB77C\\uB294 \\uD568\\uC218\\uB97C \\uBC1B\\uC744 \\uC218 \\uC788\\uC73C\\uBA70 \\uC774\\uB294 store\\uB97C update\\uD558\\uB294 \\uBAA8\\uB4E0 \\uACFC\\uC815\\uC744 \\uC81C\\uC5B4\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uC790\\uC138\\uD55C \\uB0B4\\uC6A9\\uC744 \\uC6D0\\uD558\\uC2DC\\uBA74 \",(0,e.jsx)(n.a,{href:\"https://relay.dev/docs/guided-tour/updating-data/imperatively-modifying-store-data/\",children:\"Imperatively modifying store data\"}),\"\\uBB38\\uC11C\\uB97C \\uCC38\\uACE0\\uD558\\uC138\\uC694\"]}),(0,e.jsxs)(n.h2,{id:\"optimistic-updates\",children:[(0,e.jsx)(n.a,{href:\"#optimistic-updates\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Optimistic updates\"]}),(0,e.jsx)(n.p,{children:'\\uAC00\\uB054, \\uC720\\uC800 \\uC778\\uD130\\uB809\\uC158\\uC5D0 \\uB300\\uD55C \\uC751\\uB2F5\\uC744 \\uD558\\uAE30 \\uC804\\uC5D0 \\uC11C\\uBC84\\uB85C\\uBD80\\uD130 \\uC751\\uB2F5\\uC744 \\uAE30\\uB2E4\\uB9AC\\uB294 \\uACFC\\uC815\\uC744 \\uAC70\\uCE58\\uACE0 \\uC2F6\\uC9C0 \\uC54A\\uC744 \\uB54C\\uAC00 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uC608\\uB97C \\uB4E4\\uBA74, \\uB9CC\\uC57D \\uC720\\uC800\\uAC00 \"Like\" \\uBC84\\uD2BC\\uC744 \\uB20C\\uB800\\uC744\\uB54C, \\uC989\\uAC01\\uC801\\uC73C\\uB85C \\uC720\\uC800\\uC5D0\\uAC8C \\uCF54\\uBA58\\uD2B8, \\uD3EC\\uC2A4\\uD2B8 \\uB4F1\\uC744 \\uBCF4\\uC5EC\\uC8FC\\uACE0 \\uC2F6\\uC2B5\\uB2C8\\uB2E4.'}),(0,e.jsx)(n.p,{children:\"\\uC774\\uB7F0 \\uACBD\\uC6B0, \\uC6B0\\uB9AC\\uB294 \\uB370\\uC774\\uD130\\uB97C \\uC989\\uAC01\\uC801\\uC73C\\uB85C store\\uC5D0 \\uB370\\uC774\\uD130\\uB97C update\\uD558\\uACE0 \\uC2F6\\uC2B5\\uB2C8\\uB2E4.(\\uB2E8, \\uC774 \\uACBD\\uC6B0 mutation\\uC774 \\uC131\\uACF5\\uC801\\uC73C\\uB85C \\uC791\\uB3D9\\uD588\\uB2E4\\uB294 \\uAC83\\uC744 \\uAC00\\uC815\\uD574\\uC57C\\uD569\\uB2C8\\uB2E4). \\uB9CC\\uC57D mutation\\uC774 \\uC2E4\\uD328\\uB85C \\uB05D\\uB09C\\uB2E4\\uBA74 \\uC6B0\\uB9AC\\uB294 \\uCD5C\\uC801\\uC758 \\uBC29\\uC2DD\\uC73C\\uB85C roll back\\uB97C \\uD558\\uACE0 \\uC2F6\\uC744 \\uAC83 \\uC785\\uB2C8\\uB2E4.\"}),(0,e.jsxs)(n.h2,{id:\"optimistic-response\",children:[(0,e.jsx)(n.a,{href:\"#optimistic-response\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Optimistic response\"]}),(0,e.jsxs)(n.p,{children:[\"\\uC774\\uAC83\\uC744 \\uAC00\\uB2A5\\uD558\\uAC8C \\uD558\\uAE30 \\uC704\\uD574\\uC11C, \",(0,e.jsx)(n.code,{children:\"UseMutationConfig\"}),\"\\uB294 \",(0,e.jsx)(n.code,{children:\"optimisticResponse\"}),\" \\uD544\\uB4DC\\uB97C \\uC81C\\uACF5\\uD558\\uACE0 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"]}),(0,e.jsxs)(n.p,{children:[\"\\uD574\\uB2F9 field\\uAC00 Flow-type \\uB418\\uAE30 \\uC704\\uD574\\uC11C, useMutation\\uC5D0 Flow type parameter\\uAC00 \\uB118\\uACA8\\uC838\\uC57C\\uD558\\uBA70, \\uD574\\uB2F9 Mutationdms \",(0,e.jsx)(n.code,{children:\"@raw_response_type\"}),\" \\uC9C0\\uC2DC\\uC5B4\\uB85C \\uAC10\\uC2F8\\uC838\\uC57C\\uD569\\uB2C8\\uB2E4\"]}),(0,e.jsx)(n.p,{children:\"\\uC774\\uC804 \\uC608\\uC81C\\uB97C \\uC774\\uC6A9\\uD574\\uC11C optimistic response\\uB97C \\uC801\\uC6A9\\uD558\\uBA74 \\uB2E4\\uC74C\\uACFC \\uAC19\\uC2B5\\uB2C8\\uB2E4 \\uC6B0\\uC120 \\uC774\\uC804 \\uC608\\uC81C\\uC785\\uB2C8\\uB2E4.\"}),(0,e.jsx)(n.pre,{className:\"language-graphql\",children:(0,e.jsxs)(n.code,{className:\"language-graphql code-highlight\",children:[(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"feedback_like\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"feedback\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      // \",(0,e.jsx)(n.span,{className:\"token property\",children:\"Even\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"though\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"the\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"id\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"field\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"is\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"not\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"explicitly\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"selected\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"the\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      // \",(0,e.jsx)(n.span,{className:\"token property\",children:\"compiler\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"selected\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"it\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"for\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"us\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token property\",children:\"feedbackId\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token attr-name\",children:\"viewer_does_like\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"true\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`})]})}),(0,e.jsx)(n.p,{children:\"\\uC774\\uC81C,commitMutation\\uC744 \\uD638\\uCD9C\\uD560\\uB54C, \\uD574\\uB2F9 \\uB370\\uC774\\uD130\\uB294 \\uC989\\uAC01\\uC801\\uC73C\\uB85C store\\uC5D0 \\uC4F0\\uC5EC\\uC9C8 \\uAC83 \\uC785\\uB2C8\\uB2E4. id\\uC5D0 \\uD574\\uB2F9\\uD558\\uB294 store\\uC758 item\\uC740 \\uC0C8\\uB85C\\uC6B4 viewer_does_like \\uAC12\\uC73C\\uB85C \\uC5C5\\uB370\\uC774\\uD130 \\uB420 \\uAC83 \\uC785\\uB2C8\\uB2E4. \\uD574\\uB2F9 field\\uC758 \\uAC12\\uC744 \\uCC38\\uC870\\uD558\\uB294 \\uCEF4\\uD3EC\\uB10C\\uD2B8 \\uBAA8\\uB450\\uB294 \\uB2E4\\uC2DC \\uB80C\\uB354\\uB9C1 \\uB420 \\uAC83 \\uC785\\uB2C8\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"mutation\\uC774 \\uC131\\uACF5\\uD558\\uAC70\\uB098 \\uC5D0\\uB7EC\\uAC00 \\uC788\\uC744 \\uACBD\\uC6B0, optimistic response\\uB294 roll back \\uB420 \\uAC83 \\uC785\\uB2C8\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"like_count\\uB97C \\uC5C5\\uB370\\uC774\\uD2B8 \\uD558\\uB294 \\uAC83\\uC740 \\uC791\\uC5C5\\uC774 \\uC880 \\uB354 \\uD544\\uC694\\uD569\\uB2C8\\uB2E4. \\uC5C5\\uB370\\uC774\\uD2B8\\uB97C \\uD558\\uAE30 \\uC704\\uD574\\uC11C, \\uC6B0\\uB9AC\\uB294 \\uD604\\uC7AC\\uC758 like count\\uB97C \\uCEF4\\uD3EC\\uB10C\\uD2B8\\uB85C \\uBD80\\uD130 \\uC77D\\uC5B4\\uC57C\\uD569\\uB2C8\\uB2E4.\"}),(0,e.jsx)(n.pre,{children:(0,e.jsxs)(n.code,{className:\"code-highlight language-react\",children:[(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`import type {FeedbackLikeData, LikeButtonMutation} from 'LikeButtonMutation.graphql';\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`import type {LikeButton_feedback$fragmentType} from 'LikeButton_feedback.graphql';\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`const {useMutation, graphql} = require('react-relay');\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`function LikeButton({\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`  feedback: LikeButton_feedback$fragmentType,\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`}) {\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`  const data = useFragment(\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:\"    graphql`\\n\"}),(0,e.jsx)(n.span,{className:\"code-line\",children:`      fragment LikeButton_feedback on Feedback {\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`        __id\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`        viewer_does_like @required(action: THROW)\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`        like_count @required(action: THROW)\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`      }\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:\"    `,\\n\"}),(0,e.jsx)(n.span,{className:\"code-line\",children:`    feedback\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`  );\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`  const [commitMutation, isMutationInFlight] = useMutation\u003cLikeButtonMutation\u003e(\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:\"    graphql`\\n\"}),(0,e.jsx)(n.span,{className:\"code-line\",children:`      mutation LikeButtonMutation($input: FeedbackLikeData!)\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`      @raw_response_type {\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`        feedback_like(data: $input) {\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`          feedback {\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`            viewer_does_like\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`            like_count\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`          }\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`        }\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`      }\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:\"    `\\n\"}),(0,e.jsx)(n.span,{className:\"code-line\",children:`  );\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`  const changeToLikeCount = data.viewer_does_like ? -1 : 1;\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`  return \u003cbutton\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`    onClick={() =\u003e commitMutation({\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`      variables: {\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`        input: {id: data.__id},\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`      },\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`      optimisticResponse: {\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`        feedback_like: {\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`          feedback: {\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`            id: data.__id,\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`            viewer_does_like: !data.viewer_does_like,\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`            like_count: data.like_count + changeToLikeCount,\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`          },\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`        },\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`      },\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`    })}\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`    disabled={isMutationInFlight}\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`  \u003e\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`    Like\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`  \u003c/button\u003e\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`}\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`})]})}),(0,e.jsx)(n.p,{children:\"`\\uC8FC\\uC758: optimistic updater\\uB97C \\uC0AC\\uC6A9\\uD560 \\uB54C \\uD2B9\\uD788 \\uC8FC\\uC758\\uD574\\uC57C\\uD569\\uB2C8\\uB2E4. optimistic response\\uB97C \\uC4F0\\uACE0 \\uC2F6\\uC740 \\uAC12\\uC774 store\\uC5D0 \\uC758\\uC874\\uC801\\uC778 \\uAC12\\uC77C \\uC218 \\uC788\\uACE0, store value\\uC5D0 \\uC601\\uD5A5\\uC744 \\uC8FC\\uB294 \\uC5EC\\uB7EC\\uAC1C\\uC758 optimistic response\\uAC00 \\uC788\\uC744 \\uC218 \\uC788\\uAE30 \\uB54C\\uBB38\\uC785\\uB2C8\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"\\uC608\\uB97C \\uB4E4\\uBA74, \\uB450\\uAC1C\\uC758 optimistic response\\uAC00 like count\\uB97C \\uD558\\uB098\\uC529 \\uC62C\\uB9B0\\uB2E4\\uACE0 \\uD55C\\uB2E4\\uBA74, \\uCCAB\\uBC88\\uC9F8 optimistic updater\\uAC00 roll back\\uB420 \\uC218 \\uC788\\uB294 \\uC0C1\\uD669\\uC785\\uB2C8\\uB2E4. \\uADF8\\uB9AC\\uACE0 \\uB450 \\uBC88\\uC9F8 optimistic update\\uAC00 \\uC5EC\\uC804\\uD788 \\uC801\\uC6A9\\uB418\\uC5B4 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uADF8\\uB9AC\\uACE0 store\\uC5D0 \\uC788\\uB294 like count\\uB294 2\\uAC1C\\uAC00 increase\\uB41C \\uC0C1\\uD0DC\\uC77C \\uC218 \\uC788\\uAE30 \\uB54C\\uBB38\\uC785\\uB2C8\\uB2E4. `\"}),(0,e.jsx)(n.p,{children:\"` \\uC8FC\\uC758: Optimistic response\\uB294 \\uC5EC\\uB7EC \\uBB38\\uC81C\\uAC00 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"}),(0,e.jsxs)(n.ul,{children:[(0,e.jsx)(n.li,{children:\"Optimistic response\\uB294 full query response\\uB97C \\uC704\\uD55C \\uB370\\uC774\\uD130\\uB97C \\uD3EC\\uD568\\uD560 \\uC218\\uB3C4 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uC608\\uB97C \\uB4E4\\uBA74 fragment spread\\uB4E4\\uC5D0 \\uB300\\uD55C \\uB0B4\\uC6A9\\uB4E4 \\uB9D0\\uC774\\uC8E0. \\uB9CC\\uC57D optimistic response\\uB85C \\uB418\\uC5B4 \\uC788\\uB294 fragment\\uB4E4\\uC744 \\uAC1C\\uBC1C\\uC790\\uAC00 \\uC120\\uD0DD\\uD574\\uC11C \\uC0AC\\uC6A9\\uD55C\\uB2E4\\uBA74, optimistic update \\uB3D9\\uC548 \\uBD80\\uC815\\uD655\\uD558\\uAC70\\uB098 \\uBD80\\uBD84\\uC801\\uC778 \\uB370\\uC774\\uD130\\uAC00 \\uD45C\\uC2DC\\uB420 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"}),(0,e.jsx)(n.li,{children:\"Optimistic update\\uC758 \\uD0C0\\uC785\\uC740 \\uC804\\uBD80 \\uC7AC\\uADC0\\uC801\\uC73C\\uB85C nest\\uB41C fragment\\uB41C \\uCEE8\\uD0E0\\uCE20\\uB97C \\uD3EC\\uD568\\uD558\\uAE30 \\uB54C\\uBB38\\uC5D0, \\uD0C0\\uC785\\uC774 \\uB9E4\\uC6B0 \\uD074 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4. @raw_response_type\\uC744 \\uD2B9\\uC815 mutation\\uC5D0 \\uCD94\\uAC00\\uD558\\uB294 \\uAC83\\uC740 Relay compiler\\uC758 \\uC131\\uB2A5\\uC744 \\uB0AE\\uCD9C \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4. `\"})]}),(0,e.jsxs)(n.h2,{id:\"optimistic-updaters\",children:[(0,e.jsx)(n.a,{href:\"#optimistic-updaters\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Optimistic updaters\"]}),(0,e.jsx)(n.p,{children:\"Optimistic response\\uB4E4\\uC740 \\uBAA8\\uB4E0 \\uACBD\\uC6B0\\uC5D0 \\uB300\\uC751\\uD558\\uAE30 \\uCDA9\\uBD84\\uD558\\uC9C0 \\uC54A\\uC2B5\\uB2C8\\uB2E4. \\uC608\\uB97C \\uB4E4\\uBA74 \\uC6B0\\uB9AC\\uAC00 mutation\\uC5D0\\uC11C \\uC120\\uD0DD\\uB418\\uC9C0 \\uC54A\\uC740 \\uB370\\uC774\\uD130\\uB97C optimistical\\uD558\\uAC8C \\uC5C5\\uB370\\uC774\\uD2B8\\uD558\\uACE0 \\uC2F6\\uC744 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uB610\\uB294, connection\\uC744 \\uD1B5\\uD574 \\uC544\\uC774\\uD15C\\uC744 \\uCD94\\uAC00\\uD558\\uAC70\\uB098 \\uC81C\\uAC70\\uD558\\uACE0 \\uC2F6\\uC744 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4(\\uBA85\\uC2DC\\uC801\\uC778 mutation \\uC9C0\\uC2DC\\uC5B4\\uB4E4\\uB85C \\uD574\\uB2F9 \\uC791\\uC5C5\\uC744 \\uD558\\uAE30\\uC5D0\\uB294 \\uBD88\\uCDA9\\uBD84\\uD569\\uB2C8\\uB2E4)\"}),(0,e.jsxs)(n.p,{children:[\"\\uC774\\uB7F0 \\uC0C1\\uD669\\uC744 \\uC704\\uD574, UseMutationConfig\\uB294 optimisticUpdater\\uB97C \\uC81C\\uACF5\\uD558\\uACE0 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uD574\\uB2F9 \\uD544\\uB4DC\\uB294 \\uAC1C\\uBC1C\\uC790\\uB85C \\uD558\\uC5EC\\uAE08 store\\uC5D0 \\uC788\\uB294 \\uB370\\uC774\\uD130\\uB97C \\uBA85\\uC2DC\\uC801\\uC774\\uBA70 \\uCD5C\\uC801\\uC801\\uC778 \\uBC29\\uBC95\\uC73C\\uB85C \\uC5C5\\uB370\\uC774\\uD2B8 \\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uC790\\uC138\\uD55C \\uB0B4\\uC6A9\\uC744 \\uC54C\\uACE0 \\uC2F6\\uB2E4\\uBA74 \",(0,e.jsx)(n.a,{href:\"https://relay.dev/docs/guided-tour/updating-data/imperatively-modifying-store-data/\",children:\"Imperatively updating store data\"}),\" \\uBB38\\uC11C\\uB97C \\uC77D\\uC5B4\\uBCF4\\uC138\\uC694\"]}),(0,e.jsxs)(n.h2,{id:\"order-of-execution-of-updater-functions\",children:[(0,e.jsx)(n.a,{href:\"#order-of-execution-of-updater-functions\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Order of execution of updater functions\"]}),(0,e.jsx)(n.p,{children:\"\\uBCF4\\uD1B5, \\uB2E4\\uC74C\\uACFC \\uAC19\\uC740 \\uC21C\\uC11C\\uC5D0 \\uB530\\uB77C\\uC11C updater\\uAC00 \\uC791\\uB3D9\\uD569\\uB2C8\\uB2E4\"}),(0,e.jsxs)(n.ul,{children:[(0,e.jsx)(n.li,{children:\"optimisticResponse\\uAC00 \\uC81C\\uACF5\\uB418\\uBA74, \\uB370\\uC774\\uD130\\uB294 store\\uC5D0 \\uC4F0\\uC5EC\\uC9D1\\uB2C8\\uB2E4\"}),(0,e.jsx)(n.li,{children:\"optimisticUpdater\\uAC00 \\uC81C\\uACF5\\uB418\\uBA74, Relay\\uB294 \\uD574\\uB2F9 optimisticUpdater\\uB97C \\uC2E4\\uD589\\uD558\\uACE0 store\\uB97C updategkqslek\"}),(0,e.jsx)(n.li,{children:\"optimisticResponse \\uC81C\\uACF5\\uB418\\uBA74, \\uBA85\\uC2DC\\uC801\\uC73C\\uB85C \\uC9C0\\uC2DC\\uC5B4\\uAC00 \\uC788\\uB294 mutation\\uC744 optimistic response\\uC5D0 \\uB530\\uB77C\\uC11C \\uCC98\\uB9AC\\uD569\\uB2C8\\uB2E4\"}),(0,e.jsxs)(n.li,{children:[\"mutation\\uC774 \\uC131\\uACF5\\uC801\\uC73C\\uB85C \\uC2E4\\uD589\\uB418\\uBA74\",(0,e.jsxs)(n.ul,{children:[(0,e.jsx)(n.li,{children:\"optimistic update\\uAC00 \\uC801\\uC6A9\\uB41C \\uBAA8\\uB4E0 \\uBD80\\uBD84\\uC774 roll back \\uB429\\uB2C8\\uB2E4\"}),(0,e.jsx)(n.li,{children:\"Relay\\uB294 \\uC11C\\uBC84\\uB85C \\uBD80\\uD130\\uC758 \\uC751\\uB2F5\\uC744 store\\uC5D0 update \\uD569\\uB2C8\\uB2E4\"}),(0,e.jsx)(n.li,{children:\"updater\\uAC00 \\uC81C\\uACF5\\uB418\\uC5C8\\uB2E4\\uBA74, Relay\\uB294 \\uD574\\uB2F9 updater\\uB97C \\uC2E4\\uD589\\uD558\\uACE0, store\\uB97C \\uC5C5\\uB370\\uC774\\uD2B8 \\uD569\\uB2C8\\uB2E4. server payload\\uAC00 updater\\uC5D0\\uAC8C \\uC0AC\\uC6A9\\uAC00\\uB2A5\\uD574\\uC9C8 \\uAC83 \\uC785\\uB2C8\\uB2E4.\"}),(0,e.jsx)(n.li,{children:\"Relay\\uB294 server response\\uB97C \\uC0AC\\uC6A9\\uD574\\uC11C \\uBA85\\uC2DC\\uC801\\uC778 mutation \\uC9C0\\uC2DC\\uC5B4\\uB97C \\uCC98\\uB9AC\\uD560 \\uAC83 \\uC785\\uB2C8\\uB2E4.\"}),(0,e.jsx)(n.li,{children:\"onCompleted callback\\uC774 \\uC2E4\\uD589\\uB429\\uB2C8\\uB2E4.\"})]})]}),(0,e.jsxs)(n.li,{children:[\"\\uB9CC\\uC57D mutation \\uC694\\uCCAD\\uC774 \\uC2E4\\uD328\\uD55C\\uB2E4\\uBA74\",(0,e.jsxs)(n.ul,{children:[(0,e.jsx)(n.li,{children:\"optimistic update\\uAC00 \\uC801\\uC6A9\\uB41C \\uBAA8\\uB4E0 \\uBD80\\uBD84\\uC774 roll back \\uB429\\uB2C8\\uB2E4\"}),(0,e.jsx)(n.li,{children:\"onError callback\\uC774 \\uC2E4\\uD589\\uB429\\uB2C8\\uB2E4.\"})]})]})]}),(0,e.jsxs)(n.h2,{id:\"invalidating-data-during-a-mutation\",children:[(0,e.jsx)(n.a,{href:\"#invalidating-data-during-a-mutation\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"Invalidating data during a mutation\"]}),(0,e.jsx)(n.p,{children:\"mutation\\uC744 \\uC2E4\\uD589\\uD560\\uB54C \\uCD94\\uCC9C\\uD558\\uB294 \\uBC29\\uC2DD\\uC740 mutation\\uC5D0 \\uC758\\uD574 \\uC601\\uD5A5\\uC744 \\uBC1B\\uC740 \\uB370\\uC774\\uD130\\uB97C \\uBAA8\\uB450 server\\uB85C \\uBD80\\uD130 \\uAC00\\uC838\\uC624\\uB294 \\uAC83 \\uC785\\uB2C8\\uB2E4. \\uC774\\uB97C \\uD1B5\\uD574 local Relay store\\uAC00 \\uC9C0\\uC18D\\uC801\\uC73C\\uB85C server\\uC758 \\uCD5C\\uC2E0 \\uC0C1\\uD0DC\\uB97C \\uBC1B\\uC544\\uC624\\uB3C4\\uB85D \\uD558\\uB294 \\uAC83 \\uC785\\uB2C8\\uB2E4.\"}),(0,e.jsx)(n.p,{children:\"\\uADF8\\uB807\\uC9C0\\uB9CC, \\uC5B4\\uB5A4 \\uB370\\uC774\\uD130\\uB97C \\uD56D\\uC0C1 \\uCD5C\\uC2E0\\uC73C\\uB85C \\uC544\\uB294 \\uAC83\\uC774 \\uD798\\uB4E4 \\uB54C\\uAC00 \\uC788\\uC73C\\uBA70, \\uD070 \\uD30C\\uAE09\\uD6A8\\uACFC\\uB97C \\uAC00\\uC9C4 mutation\\uC758 \\uACBD\\uC6B0 \\uD2B9\\uD788 \\uADF8\\uB807\\uC2B5\\uB2C8\\uB2E4.(\\uC608\\uB97C \\uB4E4\\uBA74 \\uC720\\uC800\\uB97C block\\uD558\\uAC70\\uB098 \\uADF8\\uB8F9\\uC5D0\\uC11C \\uB098\\uAC00\\uB294 \\uB4F1)\"}),(0,e.jsxs)(n.p,{children:[\"\\uC774\\uB7F0 \\uC885\\uB958\\uC758 mutation\\uB4E4\\uC740 \\uAC00\\uB054 \\uC5B4\\uB5A4 \\uB370\\uC774\\uD130\\uB97C stale(\\uB610\\uB294 whole store)\\uD558\\uB2E4\\uACE0 mark\\uD568\\uC73C\\uB85C\\uC11C, Relay\\uAC00 \\uB370\\uC774\\uD130\\uB97C \\uB2E4\\uC2DC \\uAC00\\uC838\\uC624\\uB3C4\\uB85D \\uD558\\uB294 \\uAC83\\uC774 \\uC88B\\uC2B5\\uB2C8\\uB2E4. \\uADF8\\uB807\\uAC8C \\uD558\\uAE30 \\uC704\\uD574\\uC11C, data invalidation API \\uBB38\\uC11C\\uB97C \\uC77D\\uC5B4\\uBCF4\\uB294 \\uAC83\\uC774 \\uC88B\\uC2B5\\uB2C8\\uB2E4. \",(0,e.jsx)(n.a,{href:\"https://relay.dev/docs/guided-tour/reusing-cached-data/staleness-of-data/\",children:\"Staleness of Data section\"})]})]})}}var b=f;return _;})();\n;return Component;","toc":[{"value":"GraphQL Mutation","url":"#graphql-mutation","depth":2},{"value":"Writing mutations","url":"#writing-mutations","depth":3},{"value":"Using useMutation to execute a mutation","url":"#using-usemutation-to-execute-a-mutation","depth":2},{"value":"Refreshing components in response to mutations","url":"#refreshing-components-in-response-to-mutations","depth":2},{"value":"Executing a callback when the mutation completes or errors","url":"#executing-a-callback-when-the-mutation-completes-or-errors","depth":2},{"value":"Declarative mutation directives","url":"#declarative-mutation-directives","depth":2},{"value":"Manipulating connections in response to mutations","url":"#manipulating-connections-in-response-to-mutations","depth":3},{"value":"Deleting items in response to mutations","url":"#deleting-items-in-response-to-mutations","depth":3},{"value":"Imperatively modifying local data","url":"#imperatively-modifying-local-data","depth":2},{"value":"Optimistic updates","url":"#optimistic-updates","depth":2},{"value":"Optimistic response","url":"#optimistic-response","depth":2},{"value":"Optimistic updaters","url":"#optimistic-updaters","depth":2},{"value":"Order of execution of updater functions","url":"#order-of-execution-of-updater-functions","depth":2},{"value":"Invalidating data during a mutation","url":"#invalidating-data-during-a-mutation","depth":2}],"frontMatter":{"readingTime":{"text":"10 min read","minutes":9.645,"time":578700,"words":1929},"slug":"translation/graphql-mutations","fileName":"translation/graphql-mutations.mdx","title":"[번역] Relay - Graphql mutations","date":"2023-01-03T00:00:00.000Z","tags":["graphql","relay"],"draft":false,"summary":"Relay 문서의 Graphql Mutation 항목 번역","images":[],"layout":"PostLayout"}},"authorDetails":[{"readingTime":{"text":"1 min read","minutes":0.54,"time":32400,"words":108},"slug":["default"],"fileName":"default.mdx","name":"Kim, Dong-Wook","avatar":"/static/images/avatar.png","occupation":"Frontend Developer","company":"Krafton Inc.","email":"woodi.daily@gmail.com","linkedin":"https://www.linkedin.com/in/woodi97/","github":"https://github.com/woodi97","date":null}],"prev":{"title":"onDemand Loading Script tag in React","date":"2022-10-13T00:00:00.000Z","tags":["reactjs","nextjs"],"draft":false,"summary":"특정 페이지에서만 사용하는 스크립트를 onDemand 로딩하기","images":["/static/images/common/react.png"],"layout":"PostLayout","slug":"reactjs/optimize-script-loading-on-react"},"next":{"title":"[번역] Relay - Graphql Queries","date":"2023-01-04T00:00:00.000Z","tags":["graphql","relay"],"draft":false,"summary":"Relay 문서의 Graphql Queries 항목 번역","images":[],"layout":"PostLayout","slug":"translation/graphql-queries"}},"__N_SSG":true},"page":"/blog/[...slug]","query":{"slug":["translation","graphql-mutations"]},"buildId":"iznTHZmAnO-DpZn0a4XsR","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>